<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Evaluating AI Systems: Testing Agents at Scale - UCF CAP-6318</title><meta property="og:title" content="Evaluating AI Systems: Testing Agents at Scale - UCF CAP-6318"/><meta name="generator" content="mystmd"/><meta name="description" content="Computational Analysis of Social Complexity"/><meta property="og:description" content="Computational Analysis of Social Complexity"/><meta name="keywords" content=""/><link rel="stylesheet" href="/build/_assets/app-PKKJHBHV.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3"><img src="/build/logo-fdb88c5958d943ce34b840a833724994.png" class="h-9 dark:hidden" height="2.25rem"/><img src="/build/logo-dark-68957f97f434b89940d35537897dfb8c.png" class="hidden h-9 dark:block" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R758p:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="UCF CAP-6318" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">UCF CAP-6318</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Julia 1" class="block break-words rounded py-2 grow cursor-pointer">Julia 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Julia 2" class="block break-words rounded py-2 grow cursor-pointer">Julia 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Graph Theory 1" class="block break-words rounded py-2 grow cursor-pointer">Graph Theory 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16pop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16pop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Graph Theory 2" class="block break-words rounded py-2 grow cursor-pointer">Graph Theory 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div title="Production Networks" class="block break-words rounded p-2 my-1 rounded-lg hover:bg-slate-300/30">Production Networks</div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="ABM 1" class="block break-words rounded py-2 grow cursor-pointer">ABM 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1upop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1upop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="ABM 2" class="block break-words rounded py-2 grow cursor-pointer">ABM 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26pop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26pop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Game Theory 1" class="block break-words rounded py-2 grow cursor-pointer">Game Theory 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2epop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2epop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Game Theory 2" class="block break-words rounded py-2 grow cursor-pointer">Game Theory 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2mpop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2mpop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Agents 1" class="block break-words rounded py-2 grow cursor-pointer">Agents 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2upop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2upop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Agents 2" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Agents 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R36pop:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R36pop:" class="pl-3 pr-[2px] collapsible-content"><a title="Function Calling and Tool Use: From Talk to Action" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/l-a2-01-function-calling-and-tools">Function Calling and Tool Use: From Talk to Action</a><a title="Type-Safe Agent Development with PydanticAI Patterns" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/l-a2-02-type-safe-agents-pydantic-patterns">Type-Safe Agent Development with PydanticAI Patterns</a><a title="Evaluating AI Systems: Testing Agents at Scale" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/l-a02-03-evaluations">Evaluating AI Systems: Testing Agents at Scale</a></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Agents 3" class="block break-words rounded py-2 grow cursor-pointer">Agents 3</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3epop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3epop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8u8p:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Evaluating AI Systems: Testing Agents at Scale</h1><header class="mt-4 not-prose"><div class="grid grid-cols-1 sm:grid-cols-2 gap-y-1"><div><span class="font-semibold text-sm"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2t8u8p:" data-state="closed">Spencer Lyon</button><a class="ml-1" href="mailto:spencer.lyon@ucf.edu" title="Spencer Lyon &lt;spencer.lyon@ucf.edu&gt;" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-blue-400"><path d="M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"></path><path d="M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"></path></svg></a><a class="ml-1" href="https://orcid.org/0009-0001-6461-885X" title="ORCID: 0009-0001-6461-885X" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-[#A9C751]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div><div class="text-sm"><div>University of Central Florida<!-- --> </div><div>Valorum Data<!-- --> </div></div></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="LHtiF6Gdar" class="relative group/block"><blockquote><p>Computational Analysis of Social Complexity</p><p>Fall 2025, Spencer Lyon</p></blockquote><p><strong>Prerequisites</strong></p><ul><li>Pydantic AI Agents and Tools</li><li>Python programming fundamentals</li><li>Basic understanding of testing concepts</li></ul><p><strong>Outcomes</strong></p><ul><li>Understand why systematic evaluation is critical for AI systems</li><li>Identify when and what to evaluate in AI agents</li><li>Implement deterministic and LLM-based evaluators</li><li>Design evaluation datasets using code-first approaches</li><li>Analyze and compare evaluation results across experiments</li><li>Connect evaluation practices to production deployment concerns</li></ul><p><strong>References</strong></p><ul><li><a target="_blank" rel="noreferrer" href="https://ai.pydantic.dev/evals/index.md" class="">Pydantic AI Evals Documentation</a></li><li><a target="_blank" rel="noreferrer" href="https://ai.pydantic.dev/api/pydantic_evals/dataset/index.md" class="">Pydantic Evals API Reference</a></li><li>Testing practices from software engineering</li></ul></div><div id="NiQqyvf7FS" class="relative group/block"><h2 id="introduction-the-ai-testing-problem" class="relative group"><span class="heading-text">Introduction: The AI Testing Problem</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#introduction-the-ai-testing-problem" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="PbI8cU6nad" class="relative group/block"><h3 id="why-testing-ai-is-different" class="relative group"><span class="heading-text">Why Testing AI is Different</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#why-testing-ai-is-different" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Traditional software testing: deterministic inputs → deterministic outputs<ul><li>If <code>add(2, 3)</code> returns <code>5</code> once, it always will</li><li>Clear pass/fail criteria</li></ul></li><li>AI systems: same input → potentially different outputs<ul><li>Ask an agent “What’s the capital of France?” twice, might get:<ul><li>“The capital of France is Paris.”</li><li>“Paris is France’s capital city.”</li><li>“France’s capital is Paris, known for the Eiffel Tower.”</li></ul></li><li>All correct, but different!</li></ul></li><li><strong>Key challenge</strong>: How do we test something that’s non-deterministic?</li></ul><h3 id="motivating-scenario-the-support-bot-problem" class="relative group"><span class="heading-text">Motivating Scenario: The Support Bot Problem</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#motivating-scenario-the-support-bot-problem" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>You’ve built a customer support agent using Pydantic AI</li><li>It handles questions about product returns, shipping, and account issues</li><li>In development, it seems to work great on the examples you tried</li><li>You deploy to production and...<ul><li>Sometimes gives outdated return policy information</li><li>Occasionally “hallucinates” shipping partners that don’t exist</li><li>Has trouble with edge cases you didn’t think to test</li></ul></li><li><strong>Question</strong>: How could systematic evaluation have caught these issues?</li></ul><h3 id="what-well-learn" class="relative group"><span class="heading-text">What We’ll Learn</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-well-learn" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>We’ll explore <strong>Pydantic Evals</strong>, a framework for testing AI systems</li><li>Three main components:<ol start="1"><li><strong>Datasets</strong>: Collections of test scenarios</li><li><strong>Evaluators</strong>: Scoring mechanisms to check outputs</li><li><strong>Experiments</strong>: Runs that combine datasets and evaluators</li></ol></li><li>Think of it like unit testing for AI:<ul><li>Cases + Evaluators = individual unit tests</li><li>Datasets = test suites</li><li>Experiments = running your entire test suite</li></ul></li></ul></div><div id="UY14e2XRla" class="relative group/block"><h2 id="setup" class="relative group"><span class="heading-text">Setup</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#setup" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="wa7DG4xB7K" class="relative group/block"><h3 id="install-and-import-dependencies" class="relative group"><span class="heading-text">Install and Import Dependencies</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#install-and-import-dependencies" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We’ll need Pydantic AI and the evals module:</p></div><div id="pmjnpPqVpc" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Install pydantic-ai if needed
# %pip install pydantic-ai[anthropic,evals] pydantic-evals</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="7Jm7agH4bvyFmxwrUbWqH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JhSdqIW1rP" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from pydantic_ai import Agent
from pydantic_evals import Dataset, Case
from pydantic_evals.evaluators import (
    Evaluator,
    EvaluatorContext,
    EvaluationReason,
    EqualsExpected,
    Contains,
    IsInstance,
    MaxDuration,
    LLMJudge,
    HasMatchingSpan,
)
from pydantic import BaseModel
import os</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JY7gmdrVYu5hvbu14zTxW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="fbXHRvnUAK" class="relative group/block"><h3 id="configure-api-keys" class="relative group"><span class="heading-text">Configure API Keys</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#configure-api-keys" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Make sure you have your Anthropic API key set:</p></div><div id="RrKUQBmtcM" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from dotenv import load_dotenv
import nest_asyncio

load_dotenv()
nest_asyncio.apply()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1f53owVX8gELLnXy44a9M" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="nOvwdqUokz" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Your API key should be set in environment
# os.environ[&quot;ANTHROPIC_API_KEY&quot;] = &quot;your-key-here&quot;

# Verify it&#x27;s set
assert &quot;ANTHROPIC_API_KEY&quot; in os.environ, &quot;Please set ANTHROPIC_API_KEY environment variable&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="I4KqA_03xGktQskiOJULG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KSnPikM8ik" class="relative group/block"><h2 id="core-concepts-the-evaluation-framework" class="relative group"><span class="heading-text">Core Concepts: The Evaluation Framework</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#core-concepts-the-evaluation-framework" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="GYFmjJDfmO" class="relative group/block"><h3 id="structure-cases-datasets-and-experiments" class="relative group"><span class="heading-text">Structure: Cases, Datasets, and Experiments</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#structure-cases-datasets-and-experiments" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Cases</strong>: Individual test scenarios</p><ul><li>Like a single unit test</li><li>Contains:<ul><li><code>inputs</code>: Data you pass to the agent</li><li><code>expected_output</code>: (Optional) What you expect back</li><li><code>metadata</code>: (Optional) Context about this test</li><li><code>evaluators</code>: (Optional) Case-specific checks</li></ul></li></ul><p><strong>Datasets</strong>: Collections of cases</p><ul><li>Like a test suite</li><li>Groups related test scenarios</li><li>Can have dataset-level evaluators that apply to all cases</li></ul><p><strong>Experiments</strong>: Evaluation runs</p><ul><li>Like running <code>pytest</code> or <code>julia test</code></li><li>Executes your task function on all cases</li><li>Applies evaluators to score outputs</li><li>Generates reports with results</li></ul></div><div id="y1sP61vH2G" class="relative group/block"><h3 id="example-simple-support-bot-dataset" class="relative group"><span class="heading-text">Example: Simple Support Bot Dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#example-simple-support-bot-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s build intuition with a concrete example.</p><p>Suppose we want to test our support bot’s ability to identify the user’s intent:</p></div><div id="YddsrlevY6" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define test cases
intent_dataset = Dataset[str, str](
    name=&quot;Intent Classification Tests&quot;,
    cases=[
        Case(
            name=&quot;return_request&quot;,
            inputs=&quot;I want to return my order&quot;,
            expected_output=&quot;return&quot;
        ),
        Case(
            name=&quot;shipping_status&quot;,
            inputs=&quot;Where is my package?&quot;,
            expected_output=&quot;shipping&quot;
        ),
        Case(
            name=&quot;account_question&quot;,
            inputs=&quot;How do I reset my password?&quot;,
            expected_output=&quot;account&quot;
        )
    ]
)

print(f&quot;Dataset: {intent_dataset.name}&quot;)
print(f&quot;Number of cases: {len(intent_dataset.cases)}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="p3qCkD8Jnj2bySVDoxLel" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Dataset: Intent Classification Tests
Number of cases: 3
</span></code></pre></div></div></div><div id="scSDAV5gtC" class="relative group/block"><p><strong>Note the pattern</strong>:</p><ul><li>Each case tests one scenario</li><li>We specify what we expect</li><li>Cases are typed: <code>Dataset[str, str]</code> means string inputs → string outputs</li></ul></div><div id="t1xc0FX0Yn" class="relative group/block"><h3 id="exercise-1-design-your-own-cases" class="relative group"><span class="heading-text">Exercise 1: Design Your Own Cases</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-1-design-your-own-cases" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Scenario</strong>: You’re building a sentiment analysis agent for product reviews.</p><p><strong>Task</strong>: Following the pattern above, create a <code>Dataset[str, str]</code> with 3-5 test cases for an agent that should classify product reviews as:</p><ul><li>“positive”</li><li>“negative”</li><li>“neutral”</li></ul><p>Think about:</p><ul><li>What review texts represent typical positive/negative/neutral cases?</li><li>What are edge cases? (e.g., mixed sentiments, sarcasm)</li><li>Make sure each Case has:<ul><li>A descriptive <code>name</code></li><li><code>inputs</code> (the review text)</li><li><code>expected_output</code> (the sentiment label)</li></ul></li></ul></div><div id="pT0hBR8fFS" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># TODO: Your code here
# Create a sentiment analysis dataset following the pattern above

sentiment_dataset = Dataset[str, str](
    name=&quot;Product Sentiment Analysis&quot;,
    cases=[
        # TODO: Add your test cases here
        # Case(
        #     name=&quot;clearly_positive&quot;,
        #     inputs=&quot;This product exceeded my expectations! ...&quot;,
        #     expected_output=&quot;positive&quot;
        # ),
    ]
)

print(f&quot;Created dataset with {len(sentiment_dataset.cases)} cases&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="H4nWMavKSCfsivQiBHYv4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Created dataset with 0 cases
</span></code></pre></div></div></div><div id="VYdesnFPl7" class="relative group/block"><h2 id="evaluators-how-to-score-outputs" class="relative group"><span class="heading-text">Evaluators: How to Score Outputs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evaluators-how-to-score-outputs" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="JJfm2Ff4PX" class="relative group/block"><h3 id="two-types-of-evaluation" class="relative group"><span class="heading-text">Two Types of Evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#two-types-of-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Deterministic Evaluators</strong>: Code-based checks</p><ul><li>Exact matches</li><li>Type checking</li><li>Format validation (email, phone number, URL)</li><li>PII detection</li><li>Regular expression matching</li></ul><p><strong>Non-Deterministic Evaluators</strong>: Subjective assessment</p><ul><li>LLM as judge</li><li>Human evaluation</li><li>Quality metrics (accuracy, relevance, helpfulness)</li></ul></div><div id="q08xhMu57W" class="relative group/block"><h3 id="built-in-evaluators" class="relative group"><span class="heading-text">Built-in Evaluators</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#built-in-evaluators" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Pydantic Evals provides several ready-made evaluators:</p><h4 id="id-1-exact-matching" class="relative group"><span class="heading-text">1. Exact Matching</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1-exact-matching" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="zkD5hY2vvp" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Check if output equals expected value
evaluator = EqualsExpected()

print(f&quot;Evaluator: {evaluator}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="NYWV_xiNNaiQRxbRqjY3q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Evaluator: EqualsExpected()
</span></code></pre></div></div></div><div id="Z5MCkzdzpK" class="relative group/block"><h4 id="id-2-type-checking" class="relative group"><span class="heading-text">2. Type Checking</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-type-checking" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="q5TDPuzAGY" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Ensure output is correct type
evaluator = IsInstance(&#x27;str&#x27;)

print(f&quot;Evaluator: {evaluator}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="eCp_6jxmcUKmieixqonzg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Evaluator: IsInstance(type_name=&#x27;str&#x27;)
</span></code></pre></div></div></div><div id="f6QgCM7HdT" class="relative group/block"><h4 id="id-3-membership-contains" class="relative group"><span class="heading-text">3. Membership/Contains</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-membership-contains" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="EuacFwaCWY" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Check if key phrase appears in output
evaluator = Contains(&#x27;return policy&#x27;)

print(f&quot;Evaluator: {evaluator}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="3iaPgZ8l4_-S2-lhghzY8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Evaluator: Contains(value=&#x27;return policy&#x27;)
</span></code></pre></div></div></div><div id="Bu5CSaVKzP" class="relative group/block"><h4 id="id-4-performance-constraints" class="relative group"><span class="heading-text">4. Performance Constraints</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-4-performance-constraints" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="MHehHBBSAn" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Ensure agent responds quickly enough
evaluator = MaxDuration(seconds=2.0)  # 2 seconds max

print(f&quot;Evaluator: {evaluator}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="brMSFjgFTzMQLo_60V8f-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Evaluator: MaxDuration(seconds=2.0)
</span></code></pre></div></div></div><div id="co3FJg1uy5" class="relative group/block"><h3 id="example-adding-evaluators-to-dataset" class="relative group"><span class="heading-text">Example: Adding Evaluators to Dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#example-adding-evaluators-to-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="x9O9ftxkfu" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">intent_dataset_with_evals = Dataset[str, str](
    name=&quot;Intent Classification Tests&quot;,
    cases=[
        Case(
            name=&quot;return_request&quot;,
            inputs=&quot;I want to return my order&quot;,
            expected_output=&quot;return&quot;
        ),
        Case(
            name=&quot;shipping_status&quot;,
            inputs=&quot;Where is my package?&quot;,
            expected_output=&quot;shipping&quot;
        ),
        Case(
            name=&quot;account_question&quot;,
            inputs=&quot;How do I reset my password?&quot;,
            expected_output=&quot;account&quot;
        ),
    ],
    evaluators=[
        EqualsExpected(),  # Applied to all cases
        MaxDuration(seconds=2.0)  # Response time check
    ]
)

print(f&quot;Dataset has {len(intent_dataset_with_evals.evaluators)} evaluators&quot;)
print(f&quot;Dataset has {len(intent_dataset_with_evals.cases)} cases&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iCB6LuWJVR-Ff3BI-s0WP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Dataset has 2 evaluators
Dataset has 3 cases
</span></code></pre></div></div></div><div id="KhNWUJpxAy" class="relative group/block"><h3 id="llm-as-judge-when-correctness-is-subjective" class="relative group"><span class="heading-text">LLM as Judge: When Correctness is Subjective</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#llm-as-judge-when-correctness-is-subjective" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Sometimes there’s no single “correct” answer</li><li>Example: “Write a friendly response to this complaint”<ul><li>Many valid responses exist</li><li>Hard to check with deterministic rules</li></ul></li><li>Solution: Use another LLM to evaluate</li></ul><h4 id="llmjudge-evaluator" class="relative group"><span class="heading-text">LLMJudge Evaluator:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#llmjudge-evaluator" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="sHwF3FuBdC" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">judge = LLMJudge(
    rubric=(
        &quot;Score from 0-10 on friendliness and helpfulness. &quot;
        &quot;Friendly responses should acknowledge the customer&#x27;s frustration. &quot;
        &quot;Helpful responses should offer concrete next steps.&quot;
    ),
    model=&#x27;anthropic:claude-haiku-4-5&#x27;
)

print(&quot;Created LLMJudge evaluator&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="SAEPDEm8SpdH5CZBRkMSf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Created LLMJudge evaluator
</span></code></pre></div></div></div><div id="vbyYuTjy3k" class="relative group/block"><p><strong>How it works</strong>:</p><ol start="1"><li>Your agent generates an output</li><li>LLMJudge sends that output + rubric to an LLM</li><li>LLM scores the output based on the rubric</li><li>Score is recorded in the evaluation report</li></ol></div><div id="vfSnG0ogwp" class="relative group/block"><h3 id="custom-evaluators-domain-specific-checks" class="relative group"><span class="heading-text">Custom Evaluators: Domain-Specific Checks</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#custom-evaluators-domain-specific-checks" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>You can create custom evaluators by subclassing <code>Evaluator</code>:</p></div><div id="lCa9EvGd0J" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class ContainsURL(Evaluator):
    &quot;&quot;&quot;Check if output contains a valid URL.&quot;&quot;&quot;

    def evaluate(self, ctx: EvaluatorContext) -&gt; EvaluationReason:
        output = ctx.output
        # Simple URL detection
        has_url = &#x27;http://&#x27; in str(output) or &#x27;https://&#x27; in str(output)

        return EvaluationReason(
            value=has_url,
            explanation=&quot;URL found&quot; if has_url else &quot;No URL found&quot;
        )

# Test it
url_checker = ContainsURL()
print(&quot;Created custom ContainsURL evaluator&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9GEnLPSJ_16klETgMzq3C" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Created custom ContainsURL evaluator
</span></code></pre></div></div></div><div id="Nj6z68dtzx" class="relative group/block"><p><strong>Key points</strong>:</p><ul><li>Implement <code>evaluate</code> method (can be sync or async)</li><li>Access inputs/outputs through <code>EvaluatorContext</code></li><li>Return <code>EvaluationReason</code> with value and explanation</li></ul></div><div id="xyBvLYeIvU" class="relative group/block"><h3 id="exercise-2-design-evaluators" class="relative group"><span class="heading-text">Exercise 2: Design Evaluators</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-2-design-evaluators" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For the sentiment analysis agent from Exercise 1:</p><ol start="1"><li>What <strong>deterministic</strong> evaluators would you use?<ul><li>Think about checking exact label matches, valid sentiment values</li></ul></li><li>What <strong>subjective</strong> aspects might need LLM evaluation?<ul><li>Example: When a review has mixed sentiment, is the chosen label reasonable?</li><li>What would your LLMJudge rubric say?</li></ul></li><li>Design one <strong>custom evaluator</strong> for a domain-specific check<ul><li>Example: “Output should be all lowercase” or “Response time should be fast”</li></ul></li></ol></div><div id="wrMFXCfmoX" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># TODO: Your code here
# Create evaluators for sentiment analysis

# Example deterministic evaluator
# sentiment_dataset.evaluators.append(EqualsExpected())

# Example custom evaluator
# class ValidSentiment(Evaluator):
#     &quot;&quot;&quot;Check if output is a valid sentiment label.&quot;&quot;&quot;
#     def evaluate(self, ctx: EvaluatorContext) -&gt; EvaluationReason:
#         valid_sentiments = {&quot;positive&quot;, &quot;negative&quot;, &quot;neutral&quot;}
#         is_valid = ctx.output.lower() in valid_sentiments
#         return EvaluationReason(
#             value=is_valid,
#             explanation=f&quot;Output is {&#x27;valid&#x27; if is_valid else &#x27;invalid&#x27;} sentiment&quot;
#         )</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Voc4pr9jCmt0wXSM_M3z2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bLkGKE5Dll" class="relative group/block"><h2 id="running-evaluations-from-code-to-reports" class="relative group"><span class="heading-text">Running Evaluations: From Code to Reports</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#running-evaluations-from-code-to-reports" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="fOo6yCdRIn" class="relative group/block"><h3 id="the-evaluation-loop" class="relative group"><span class="heading-text">The Evaluation Loop</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-evaluation-loop" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><h4 id="step-1-define-your-task-function" class="relative group"><span class="heading-text">Step 1: Define your task function</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-1-define-your-task-function" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="YLeyXD0hzA" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a simple intent classifier agent
support_agent = Agent(
    &#x27;anthropic:claude-haiku-4-5&#x27;,
    system_prompt=(
        &quot;You are a customer support intent classifier. &quot;
        &quot;Classify user messages into one of: return, shipping, account. &quot;
        &quot;Respond with ONLY the classification label, nothing else.&quot;
    )
)

async def classify_intent(inputs: str) -&gt; str:
    &quot;&quot;&quot;Our task: classify customer message intent.&quot;&quot;&quot;
    result = await support_agent.run(inputs)
    return result.output.lower().strip()

print(&quot;Created intent classification agent&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4u9g3XRJ-XTAhfvIqQuVT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Created intent classification agent
</span></code></pre></div></div></div><div id="nOZKiaiNFf" class="relative group/block"><h4 id="step-2-run-evaluation" class="relative group"><span class="heading-text">Step 2: Run evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-2-run-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="cjGyzyjUvE" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Run experiment
report = await intent_dataset_with_evals.evaluate(
    task=classify_intent,
    max_concurrency=3,  # Run 3 cases in parallel
    progress=True  # Show progress bar
)

print(&quot;\nEvaluation complete!&quot;)
print(f&quot;Evaluated {len(report.cases)} cases&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Z3V_xzf0pahdQ391m6jjt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="JjV78xGEcL" class="relative group/block"><h4 id="step-3-analyze-results" class="relative group"><span class="heading-text">Step 3: Analyze results</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#step-3-analyze-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="Y4AQadirHy" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Print formatted report
report.print()

print(&quot;\n&quot; + &quot;=&quot;*50)
print(&quot;Detailed results:&quot;)
print(&quot;=&quot;*50)

# Or get the data programmatically
for case in report.cases:
    print(f&quot;\nCase: {case.name}&quot;)
    print(f&quot;  Input: {case.inputs}&quot;)
    print(f&quot;  Output: {case.output}&quot;)
    print(f&quot;  Expected: {case.expected_output}&quot;)
    print(f&quot;  Assertions: {case.assertions}&quot;)
    print(f&quot;  All passed: {all(case.assertions.values())}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="abDF5455IXw5Lvs2H2Z_8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="cCGU9CMvSS" class="relative group/block"><h3 id="visualizing-results-with-logfire" class="relative group"><span class="heading-text">Visualizing Results with Logfire</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualizing-results-with-logfire" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>While the printed reports are useful, <strong>Pydantic Logfire</strong> provides a web UI for visualizing and analyzing evaluation results over time.</p><p><strong>Why use Logfire?</strong></p><ul><li>Interactive dashboards for evaluation metrics</li><li>Trace exploration for debugging failed cases</li><li>Track trends across multiple evaluation runs</li><li>Team collaboration and sharing results</li></ul><p>Let’s configure Logfire integration:</p></div><div id="dQowDvA43A" class="relative group/block"><p><strong>Note</strong>: With Logfire configured, all subsequent evaluations will automatically send their results to the Logfire web UI. You can then:</p><ul><li>View evaluation reports in an interactive dashboard</li><li>Explore individual traces and spans</li><li>Compare results across multiple runs</li><li>Set up alerts for failing evaluations</li></ul><p>Visit <a target="_blank" rel="noreferrer" href="https://logfire.pydantic.dev" class="">logfire<wbr/>.pydantic<wbr/>.dev</a> to view your evaluation results.</p><h3 id="understanding-evaluation-results" class="relative group"><span class="heading-text">Understanding Evaluation Results</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#understanding-evaluation-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="zVitzIrJcH" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import logfire

# Configure Logfire
# This will automatically send evaluation results to Logfire if token is present
logfire.configure(
    send_to_logfire=&#x27;if-token-present&#x27;,

)

print(&quot;Logfire configured!&quot;)
print(&quot;Future evaluations will automatically appear in Logfire web UI&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lI-TtXK0pV3TX5mwvtKlZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Logfire configured!
Future evaluations will automatically appear in Logfire web UI
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span style="font-weight:bold">Logfire</span><span> project URL: ]8;id=50384;https://logfire-us.pydantic.dev/sglyon/cap-6318-example\</span><span style="color:rgb(0, 187, 187);text-decoration:underline">https://logfire-us.pydantic.dev/sglyon/cap-6318-example</span><span>]8;;\
</span></code></pre></div></div></div><div id="P5wpmHOg2W" class="relative group/block"><h3 id="comparing-experiments-tracking-improvements" class="relative group"><span class="heading-text">Comparing Experiments: Tracking Improvements</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#comparing-experiments-tracking-improvements" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s modify our agent and compare results:</p></div><div id="Jsn8NQPRek" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create an improved agent with better prompt
improved_agent = Agent(
    &#x27;anthropic:claude-haiku-4-5&#x27;,
    system_prompt=(
        &quot;You are a customer support intent classifier. &quot;
        &quot;Classify user messages into exactly one of these categories:\n&quot;
        &quot;- return: for return/refund requests\n&quot;
        &quot;- shipping: for delivery/tracking questions\n&quot;
        &quot;- account: for login/password/profile issues\n\n&quot;
        &quot;Respond with ONLY the classification label in lowercase, nothing else.&quot;
    )
)

async def improved_classify_intent(inputs: str) -&gt; str:
    &quot;&quot;&quot;Improved task function.&quot;&quot;&quot;
    result = await improved_agent.run(inputs)
    return result.output.lower().strip()

# Run evaluation with improved agent
improved_report = await intent_dataset_with_evals.evaluate(
    task=improved_classify_intent,
    max_concurrency=3,
    progress=True
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="bj61KnyHrlzVZcxrPFfg_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="vhgd08BwJK" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Compare against baseline
improved_report.print(baseline=report)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="l27_UOnSSZ7guvdG9C5sn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="TvmJx2NI4y" class="relative group/block"><h3 id="exercise-3-run-your-first-evaluation" class="relative group"><span class="heading-text">Exercise 3: Run Your First Evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-3-run-your-first-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Using the sentiment analysis agent you designed in Exercise 1:</p><ol start="1"><li>Create an agent that performs sentiment classification</li><li>Use your dataset from Exercise 1 (add more cases if needed)</li><li>Add 2-3 evaluators (mix of built-in and custom from Exercise 2)</li><li>Run the evaluation using <code>await dataset.evaluate(task=your_function)</code></li><li>Interpret the results:<ul><li>Which cases passed/failed?</li><li>What patterns do you notice?</li><li>What would you improve about the agent or the test cases?</li></ul></li></ol></div><div id="fmmpgWBBkR" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># TODO: Your code here</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="T3YBFGEIdTr-agyZwEA-f" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KTXGLPTopB" class="relative group/block"><h2 id="advanced-topics-span-based-evaluation-and-dataset-generation" class="relative group"><span class="heading-text">Advanced Topics: Span-Based Evaluation and Dataset Generation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#advanced-topics-span-based-evaluation-and-dataset-generation" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="NppcmCBHzm" class="relative group/block"><h3 id="span-based-evaluation-evaluating-the-process-not-just-the-output" class="relative group"><span class="heading-text">Span-Based Evaluation: Evaluating the Process, Not Just the Output</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#span-based-evaluation-evaluating-the-process-not-just-the-output" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>The Problem</strong>: Sometimes the final answer is correct, but the <em>how</em> matters</p><ul><li>Example: Math problem solving<ul><li>Output: “42” ✓ Correct!</li><li>But did the agent:<ul><li>Use the right formula?</li><li>Show its work?</li><li>Make calculation errors that happened to cancel out?</li></ul></li></ul></li></ul><p><strong>Spans</strong>: Execution traces from OpenTelemetry</p><ul><li>Capture what the agent did internally</li><li>Tool calls made</li><li>LLM requests and responses</li><li>Intermediate reasoning steps</li></ul><h4 id="hasmatchingspan-evaluator" class="relative group"><span class="heading-text">HasMatchingSpan Evaluator:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#hasmatchingspan-evaluator" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="hOeVH3AwpA" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Ensure agent called a specific tool
span_evaluator = HasMatchingSpan(
    query={&#x27;name_contains&#x27;: &#x27;calculator_tool&#x27;},
    evaluation_name=&#x27;used_calculator&#x27;
)

print(&quot;Created span-based evaluator&quot;)
print(&quot;This evaluator checks that a span named &#x27;calculator_tool&#x27; was called&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="fRshR00i4bhU9-7ypSU9g" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pGq6FmlV6b" class="relative group/block"><p><strong>Why this matters</strong>:</p><ul><li>Catches “lucky guesses” where agent gets answer right for wrong reasons</li><li>Validates agent is following intended reasoning process</li><li>Useful for multi-step tasks where process correctness matters</li></ul></div><div id="Gm7q3rbyzQ" class="relative group/block"><h3 id="generating-datasets-with-llms" class="relative group"><span class="heading-text">Generating Datasets with LLMs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#generating-datasets-with-llms" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>The Challenge</strong>: Creating comprehensive test datasets is tedious</p><ul><li>Need diverse inputs covering edge cases</li><li>Need correct expected outputs</li><li>Manual creation doesn’t scale</li></ul><p><strong>Solution</strong>: Use an LLM to generate test cases</p></div><div id="hJz7aUN0Eg" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from pydantic_evals.generation import generate_dataset

# Generate dataset for sentiment analysis
generated_dataset = await generate_dataset(
    dataset_type=Dataset[str, str],  # Input and output types
    n_examples=5,  # Generate 5 test cases
    extra_instructions=(
        &quot;Create diverse restaurant reviews with clear sentiment. &quot;
        &quot;Input should be a restaurant review. &quot;
        &quot;Output should be the sentiment: positive, negative, or neutral.&quot;
    ),
    model=&#x27;anthropic:claude-haiku-4-5&#x27;
)

print(f&quot;Generated {len(generated_dataset.cases)} test cases&quot;)
for i, case in enumerate(generated_dataset.cases[:3]):
    print(f&quot;\nCase {i+1}:&quot;)
    print(f&quot;  Input: {case.inputs}&quot;)
    print(f&quot;  Expected: {case.expected_output}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="HC-xlZAJXhxBGa-pcjMd0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="i4YT6OMxuG" class="relative group/block"><p><strong>How it works</strong>:</p><ol start="1"><li>You specify the dataset type with input/output types (e.g., <code>Dataset[str, str]</code>)</li><li>LLM generates diverse test scenarios based on your instructions</li><li>Returns properly structured <code>Dataset</code> object with generated cases</li><li>Can optionally save to file for version control (using <code>path</code> parameter)</li></ol><p><strong>Best practices</strong>:</p><ul><li>Review generated cases before using</li><li>Mix generated and hand-crafted cases</li><li>Regenerate periodically to expand coverage</li><li>Use <code>extra_instructions</code> to guide the LLM toward specific edge cases</li></ul></div><div id="w3hWHyepyg" class="relative group/block"><h3 id="evaluating-rag-systems-a-two-stage-challenge" class="relative group"><span class="heading-text">Evaluating RAG Systems: A Two-Stage Challenge</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evaluating-rag-systems-a-two-stage-challenge" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ZyA5dvz0Cx" class="relative group/block"><h4 id="what-is-rag" class="relative group"><span class="heading-text">What is RAG?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-is-rag" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li>RAG = Retrieval-Augmented Generation</li><li>Common pattern for AI agents that need to answer questions about documents/data</li><li>Two stages:<ol start="1"><li><strong>Retrieval</strong>: Find relevant documents/passages from knowledge base</li><li><strong>Generation</strong>: Use retrieved context to generate answer</li></ol></li></ul><h4 id="why-rag-evaluation-is-different" class="relative group"><span class="heading-text">Why RAG Evaluation is Different</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#why-rag-evaluation-is-different" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><ul><li>Traditional evaluation: just check the final answer</li><li>RAG evaluation: need to check <em>both</em> stages<ul><li>Is the retrieval finding the right documents?</li><li>Is the generation using those documents correctly?</li></ul></li><li>Failure can happen at either stage (or both!)</li></ul><p><strong>Example Failure Modes</strong>:</p><ul><li>✓ Retrieval works, ✗ Generation fails: Found right docs, but hallucinated answer</li><li>✗ Retrieval fails, ✓ Generation works: Couldn’t find relevant docs, so generated plausible but wrong answer</li><li>✗ Both fail: Retrieved irrelevant docs <em>and</em> made up information</li></ul></div><div id="OMJrdlUOvl" class="relative group/block"><h4 id="rag-evaluation-metrics" class="relative group"><span class="heading-text">RAG Evaluation Metrics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#rag-evaluation-metrics" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><strong>Retrieval Metrics</strong> (Is the retrieval working?)</p></div><div id="J4Z8Huhy5q" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class PrecisionAtK(Evaluator):
    &quot;&quot;&quot;Check if retrieved documents are relevant.&quot;&quot;&quot;

    def __init__(self, k: int = 5):
        self.k = k

    def evaluate(self, ctx: EvaluatorContext) -&gt; EvaluationReason:
        # Assume ctx.metadata contains retrieved doc IDs and ground truth
        retrieved_docs = ctx.metadata.get(&#x27;retrieved_doc_ids&#x27;, [])[:self.k]
        relevant_docs = ctx.metadata.get(&#x27;relevant_doc_ids&#x27;, [])

        relevant_retrieved = set(retrieved_docs) &amp; set(relevant_docs)
        precision = len(relevant_retrieved) / self.k if self.k &gt; 0 else 0

        return EvaluationReason(
            value=precision,
            explanation=f&quot;Retrieved {len(relevant_retrieved)}/{self.k} relevant docs&quot;
        )

class RecallAtK(Evaluator):
    &quot;&quot;&quot;Check if all relevant documents were found.&quot;&quot;&quot;

    def __init__(self, k: int = 5):
        self.k = k

    def evaluate(self, ctx: EvaluatorContext) -&gt; EvaluationReason:
        retrieved_docs = ctx.metadata.get(&#x27;retrieved_doc_ids&#x27;, [])[:self.k]
        relevant_docs = ctx.metadata.get(&#x27;relevant_doc_ids&#x27;, [])

        relevant_retrieved = set(retrieved_docs) &amp; set(relevant_docs)
        recall = len(relevant_retrieved) / len(relevant_docs) if len(relevant_docs) &gt; 0 else 0

        return EvaluationReason(
            value=recall,
            explanation=f&quot;Found {len(relevant_retrieved)}/{len(relevant_docs)} relevant docs&quot;
        )

print(&quot;Created RAG retrieval evaluators&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="qvSXFkypc4pAR_OJeze5N" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="CRubhC4N6p" class="relative group/block"><p><strong>Generation Metrics</strong> (Is the generation working?)</p></div><div id="HfDagEwZFn" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class Faithfulness(Evaluator):
    &quot;&quot;&quot;Check if answer is grounded in retrieved context.&quot;&quot;&quot;

    async def evaluate(self, ctx: EvaluatorContext) -&gt; EvaluationReason:
        answer = ctx.output
        context = ctx.metadata.get(&#x27;retrieved_context&#x27;, &#x27;&#x27;)

        # Use LLM to judge faithfulness
        judge = Agent(&#x27;anthropic:claude-haiku-4-5&#x27;)
        result = await judge.run(
            f&quot;Context: {context}\n\n&quot;
            f&quot;Answer: {answer}\n\n&quot;
            f&quot;Is the answer fully supported by the context? &quot;
            f&quot;Respond with YES, NO, or PARTIAL and explain why.&quot;
        )

        assessment = result.data
        is_faithful = assessment.startswith(&#x27;YES&#x27;)

        return EvaluationReason(
            value=is_faithful,
            explanation=assessment
        )

print(&quot;Created Faithfulness evaluator&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="xmSQb_QG2lLDUJdBaNkob" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Fuyb0rLFgA" class="relative group/block"><h4 id="best-practices-for-rag-evaluation" class="relative group"><span class="heading-text">Best Practices for RAG Evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#best-practices-for-rag-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><strong>1. Evaluate Stages Independently</strong></p><p>Create separate datasets for retrieval and generation to pinpoint where failures occur.</p></div><div id="x5rKSRc5Y9" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Example: Retrieval evaluation dataset
retrieval_dataset = Dataset(
    name=&quot;Retrieval Quality&quot;,
    cases=[
        Case(
            inputs={&quot;query&quot;: &quot;What are the return policies?&quot;},
            metadata={
                &quot;relevant_doc_ids&quot;: [&quot;doc_42&quot;, &quot;doc_87&quot;],  # Ground truth
                &quot;retrieved_doc_ids&quot;: [&quot;doc_42&quot;, &quot;doc_87&quot;, &quot;doc_13&quot;, &quot;doc_99&quot;, &quot;doc_5&quot;],  # Simulated retrieval
            }
        ),
    ],
    evaluators=[
        PrecisionAtK(k=5),
        RecallAtK(k=5),
    ]
)

print(&quot;Created retrieval evaluation dataset&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ze-W6EUDrnk_0zH97vJv0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="N418sgqBn6" class="relative group/block"><p><strong>Why separate?</strong></p><ul><li>Pinpoints where failures occur</li><li>Can optimize retrieval and generation independently</li><li>Clearer diagnosis: “Our retrieval is great but generation hallucinates” vs “Both need work”</li></ul></div><div id="tD1bhrqByc" class="relative group/block"><h3 id="exercise-design-rag-evaluation" class="relative group"><span class="heading-text">Exercise: Design RAG Evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-design-rag-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Scenario</strong>: You’re building a RAG system that answers questions about a company’s internal documentation.</p><p><strong>Tasks</strong>:</p><ol start="1"><li><strong>Identify failure modes</strong>: What are 3 ways this RAG system could fail?</li><li><strong>Design retrieval tests</strong>: What cases would test if retrieval is working?<ul><li>What queries should always retrieve specific documents?</li><li>What edge cases might break retrieval?</li></ul></li><li><strong>Design generation tests</strong>: Assuming perfect retrieval, how do you test generation?<ul><li>What makes a “good” answer?</li><li>How do you detect hallucinations?</li></ul></li><li><strong>Create evaluation pipeline</strong>: Sketch code for evaluating both stages<ul><li>What metrics would you track?</li><li>How would you report results?</li></ul></li></ol></div><div id="noCr1XvRYV" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># TODO: Your code here</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ZExFuvyZ-yp7nTZlJUqXD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QcLuCTYHqg" class="relative group/block"><h2 id="integration-and-best-practices" class="relative group"><span class="heading-text">Integration and Best Practices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#integration-and-best-practices" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="kUzkxzwQuW" class="relative group/block"><h3 id="when-to-use-each-evaluation-type" class="relative group"><span class="heading-text">When to Use Each Evaluation Type</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#when-to-use-each-evaluation-type" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Deterministic Evaluators</strong> when:</p><ul><li>Clear right/wrong answers exist</li><li>Output format matters (structured data)</li><li>Security/safety constraints (no PII leakage)</li><li>Performance requirements (latency, cost)</li></ul><p><strong>LLM as Judge</strong> when:</p><ul><li>Multiple valid answers exist</li><li>Quality is subjective (helpfulness, tone)</li><li>Semantic equivalence matters (“Paris” vs “The capital of France is Paris”)</li></ul><p><strong>Span-Based Evaluation</strong> when:</p><ul><li>Process correctness matters, not just output</li><li>Multi-step reasoning needs validation</li><li>Tool usage patterns are important</li><li>Debugging complex agent behaviors</li></ul></div><div id="wUaNlvXx5p" class="relative group/block"><h3 id="tips-for-effective-evaluation" class="relative group"><span class="heading-text">Tips for Effective Evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#tips-for-effective-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Start Small, Grow Gradually</strong>:</p><ul><li>Begin with 5-10 cases covering main scenarios</li><li>Add cases as you discover failures</li><li>Prioritize cases that would impact users most</li></ul><p><strong>Balance Coverage and Maintainability</strong>:</p><ul><li>Don’t try to test everything</li><li>Focus on high-risk or high-value scenarios</li><li>Remove redundant cases</li></ul><p><strong>Make Evaluators Specific and Clear</strong>:</p><ul><li>Good rubric: “Score 0-10 on factual accuracy. Check claims against provided context.”</li><li>Bad rubric: “Score the quality of the response.”</li></ul><p><strong>Version Control Your Datasets</strong>:</p><ul><li>Store datasets as YAML/JSON in git</li><li>Track changes over time</li><li>Share across team</li></ul><p><strong>Automate Where Possible</strong>:</p><ul><li>Run evals in CI/CD pipeline</li><li>Block deploys if pass rate drops</li><li>Generate alerts for regressions</li></ul></div><div id="yCg6WtPxoS" class="relative group/block"><h3 id="exercise-evaluation-strategy-design" class="relative group"><span class="heading-text">Exercise: Evaluation Strategy Design</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-evaluation-strategy-design" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Choose one scenario:</p><ol start="1"><li><strong>E-commerce support agent</strong>: Handles returns, shipping, account questions</li><li><strong>Code review agent</strong>: Reviews pull requests, suggests improvements</li><li><strong>Data analysis agent</strong>: Answers questions about datasets using pandas</li></ol><p>For your chosen scenario:</p><ol start="1"><li>Design an evaluation strategy:<ul><li>What’s in your test dataset? (10+ cases)</li><li>What evaluators would you use?</li><li>How would you measure success?</li></ul></li><li>Describe your development workflow:<ul><li>When do you run evals?</li><li>What metrics do you track?</li><li>How do you decide when to deploy?</li></ul></li><li>Plan for production:<ul><li>How do you handle failures?</li><li>When do you update your dataset?</li><li>What triggers re-evaluation?</li></ul></li></ol></div><div id="XhcnKxK9cu" class="relative group/block"><h2 id="connections-to-course-themes" class="relative group"><span class="heading-text">Connections to Course Themes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#connections-to-course-themes" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="MDs0j9UVoq" class="relative group/block"><h3 id="game-theory-and-evaluation" class="relative group"><span class="heading-text">Game Theory and Evaluation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#game-theory-and-evaluation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p><strong>Agent alignment</strong>: Evaluation as mechanism design</p><ul><li>You design rubrics (rules) to incentivize desired behaviors</li><li>LLM as Judge is like a referee in a game</li><li>Pass/fail thresholds create strategic constraints</li></ul></li><li><p><strong>Adversarial evaluation</strong>: Red team vs Blue team</p><ul><li>Attackers try to make agent fail (jailbreaking, prompt injection)</li><li>Defenders build evals that catch these attacks</li><li>Nash equilibrium between robustness and capability</li></ul></li></ul><h3 id="network-effects-in-ai-systems" class="relative group"><span class="heading-text">Network Effects in AI Systems</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#network-effects-in-ai-systems" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p><strong>Evaluation datasets as networks</strong>:</p><ul><li>Cases can have dependencies (one builds on another)</li><li>Failures can cascade (if base functionality breaks, many cases fail)</li><li>Coverage metrics: are there “clusters” of untested scenarios?</li></ul></li><li><p><strong>Agent-to-agent evaluation</strong>:</p><ul><li>Multi-agent systems need coordinated evaluation</li><li>Agent A’s outputs become Agent B’s inputs</li><li>Network of evals reflects agent interaction topology</li></ul></li></ul><h3 id="emergence-in-complex-ai-systems" class="relative group"><span class="heading-text">Emergence in Complex AI Systems</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#emergence-in-complex-ai-systems" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p><strong>Emergent behaviors</strong> in multi-step agents:</p><ul><li>Simple agent + simple tools → complex behaviors</li><li>Can’t predict all outcomes from components</li><li>Evaluation discovers emergent capabilities (and failures)</li></ul></li><li><p><strong>Evaluation as an ABM simulation</strong>:</p><ul><li>Each test case is like running the simulation once</li><li>Aggregate results reveal patterns</li><li>Edge cases show boundary conditions of agent “behavior space”</li></ul></li></ul></div><div id="AoLV3Yc7ra" class="relative group/block"><h2 id="summary-and-key-takeaways" class="relative group"><span class="heading-text">Summary and Key Takeaways</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#summary-and-key-takeaways" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="rUtr7ZAMaz" class="relative group/block"><h3 id="what-we-learned" class="relative group"><span class="heading-text">What We Learned</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-we-learned" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ol start="1"><li><p><strong>Why Evals Matter</strong></p><ul><li>AI systems are non-deterministic</li><li>Systematic testing catches issues before production</li><li>Evals enable confident iteration and deployment</li></ul></li><li><p><strong>Core Framework: Pydantic Evals</strong></p><ul><li>Cases: individual test scenarios</li><li>Datasets: collections of cases</li><li>Evaluators: scoring mechanisms (deterministic, LLM, custom)</li><li>Experiments: runs that generate reports</li></ul></li><li><p><strong>Evaluation Strategies</strong></p><ul><li>Deterministic checks for clear criteria</li><li>LLM as Judge for subjective quality</li><li>Span-based evaluation for process correctness</li><li>Custom evaluators for domain-specific needs</li><li>RAG-specific metrics for retrieval + generation</li></ul></li><li><p><strong>Best Practices</strong></p><ul><li>Start small, iterate based on failures</li><li>Balance coverage with maintainability</li><li>Version control datasets and track metrics</li><li>Integrate into development and deployment workflows</li></ul></li></ol><h3 id="looking-forward" class="relative group"><span class="heading-text">Looking Forward</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#looking-forward" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Evaluations are “an emerging art/science”</li><li>No single “right” approach exists</li><li>Adapt techniques to your domain and constraints</li><li>Key principle: <strong>Test systematically, deploy confidently</strong></li></ul></div><div id="JLjx1ydc3o" class="relative group/block"><h3 id="final-exercise-reflection" class="relative group"><span class="heading-text">Final Exercise: Reflection</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#final-exercise-reflection" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Think about an AI agent you might build:</p><ol start="1"><li>What are the top 3 risks or failure modes?</li><li>How would you design evals to catch those?</li><li>What would “success” look like quantitatively?</li></ol></div><div id="QOxSGGQtZD" class="relative group/block"><h2 id="additional-resources" class="relative group"><span class="heading-text">Additional Resources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#additional-resources" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><a target="_blank" rel="noreferrer" href="https://ai.pydantic.dev/evals/index.md" class="">Pydantic AI Evals Documentation</a></li><li><a target="_blank" rel="noreferrer" href="https://ai.pydantic.dev/api/pydantic_evals/dataset/index.md" class="">Dataset API Reference</a></li><li><a target="_blank" rel="noreferrer" href="https://ai.pydantic.dev/api/pydantic_evals/evaluators/index.md" class="">Evaluators API Reference</a></li><li><a target="_blank" rel="noreferrer" href="https://ai.pydantic.dev/logfire/index.md" class="">Pydantic Logfire for Visualization</a></li></ul></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/l-a2-02-type-safe-agents-pydantic-patterns"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Agents 2</div>Type-Safe Agent Development with PydanticAI Patterns</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/l-a03-01-mcp-with-fastmcp"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Agents 3</div>Building Agent Tools with FastMCP</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-N2N6M3QH.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-ZJZ4LRPY.js"/><link rel="modulepreload" href="/build/_shared/chunk-KGDL62ZF.js"/><link rel="modulepreload" href="/build/routes/$-23AHH5XS.js"/><script>window.__remixContext = {"url":"/l-a02-03-evaluations","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","options":{"hide_toc":false,"favicon":"/build/favicon-2547b7788b87f81b44ad3bc88b3d2a8b.ico","logo":"/build/logo-fdb88c5958d943ce34b840a833724994.png","logo_dark":"/build/logo-dark-68957f97f434b89940d35537897dfb8c.png"},"nav":[],"actions":[],"projects":[{"title":"UCF CAP-6318","description":"Computational Analysis of Social Complexity","authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"id":"492c0fd0-6de5-4738-b5ab-8c08e34fb954","toc":[{"file":"week01/L01.01_welcome.ipynb"},{"children":[{"file":"week01/L01.02_setup.ipynb"},{"file":"week01/L01.03_julia_basics.ipynb"}],"title":"Julia 1"},{"children":[{"file":"week02/L02.01_julia_types_methods.ipynb"},{"file":"week02/L02.02_code_organization.ipynb"},{"file":"week02/L02.03_julia_packages.ipynb"}],"title":"Julia 2"},{"children":[{"file":"week03/L03.01_graphs.ipynb"},{"file":"week03/L03.02_strong_weak_ties.ipynb"}],"title":"Graph Theory 1"},{"children":[{"file":"week04/L04.01_homophily.ipynb"},{"file":"week04/L04.02_weighted_graphs.ipynb"},{"file":"week04/L04.03_structural_balance.ipynb"}],"title":"Graph Theory 2"},{"children":[{"file":"week05/L05.01_production_networks.ipynb"}],"title":"Production Networks"},{"children":[{"file":"week06/L06.01_abm_concepts.ipynb"},{"file":"week06/L06.02_schelling_agents.ipynb"}],"title":"ABM 1"},{"children":[{"file":"week07/L07.01_abm_money.ipynb"},{"file":"week07/L07.02_abm_paper_virality.ipynb"}],"title":"ABM 2"},{"children":[{"file":"week08/L08.01_game_theory_intro.ipynb"},{"file":"week08/L08.02_network_traffic.ipynb"}],"title":"Game Theory 1"},{"children":[{"file":"week09/L09.01_mixed_strategies.ipynb"},{"file":"week09/L09.03_auctions.ipynb"},{"file":"week09/L09.04_game_theory_lab.ipynb"}],"title":"Game Theory 2"},{"children":[{"file":"weekA01/L.A1.01_from_rule_based_to_learning_agents.ipynb"},{"file":"weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb"},{"file":"weekA01/L.A1.03_multi_agent_conversations.ipynb"}],"title":"Agents 1"},{"children":[{"file":"weekA02/L.A2.01_function_calling_and_tools.ipynb"},{"file":"weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb"},{"file":"weekA02/L.A02.03_evaluations.ipynb"}],"title":"Agents 2"},{"children":[{"file":"weekA03/L.A03.01_MCP_with_fastmcp.ipynb"},{"file":"weekA03/L.A03.02_ai_agent_security.ipynb"}],"title":"Agents 3"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Julia 1"},{"slug":"l01-02-setup","title":"Julia Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l01-03-julia-basics","title":"Julia Foundations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Julia 2"},{"slug":"l02-01-julia-types-methods","title":"Julia Types and Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-02-code-organization","title":"Julia Code Organization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-03-julia-packages","title":"Julia Package Development","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 1"},{"slug":"l03-01-graphs","title":"Graphs","description":"","date":"","thumbnail":"/build/967a40bb8f52cb4e2ba5e92214773160.png","thumbnailOptimized":"/build/967a40bb8f52cb4e2ba5e92214773160.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l03-02-strong-weak-ties","title":"Strong and Weak Ties","description":"","date":"","thumbnail":"/build/ca8cf7fd449d95329a6482e7c5663568.png","thumbnailOptimized":"/build/ca8cf7fd449d95329a6482e7c5663568.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 2"},{"slug":"l04-01-homophily","title":"Homophily","description":"","date":"","thumbnail":"/build/c2d78afac7a8f5c0a921d74dc173a647.png","thumbnailOptimized":"/build/c2d78afac7a8f5c0a921d74dc173a647.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-02-weighted-graphs","title":"Weighted Graphs","description":"","date":"","thumbnail":"/build/89abe19f81fbf303bd67dbdff22715f2.png","thumbnailOptimized":"/build/89abe19f81fbf303bd67dbdff22715f2.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-03-structural-balance","title":"Structural Balance","description":"","date":"","thumbnail":"/build/e8165665e7da5ff6c9050aa529f882e5.png","thumbnailOptimized":"/build/e8165665e7da5ff6c9050aa529f882e5.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Production Networks"},{"level":1,"title":"ABM 1"},{"slug":"l06-01-abm-concepts","title":"Agent Based Models","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l06-02-schelling-agents","title":"Schelling Model with Agents.jl","description":"","date":"","thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 2"},{"slug":"l07-01-abm-money","title":"Agent Based Models Review/Practice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l07-02-abm-paper-virality","title":"Academic Paper Virality: An Agent-Based Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 1"},{"slug":"l08-01-game-theory-intro","title":"Game Theory 1","description":"","date":"","thumbnail":"/build/514111f16ff750b99f83913e8f7cef48.png","thumbnailOptimized":"/build/514111f16ff750b99f83913e8f7cef48.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l08-02-network-traffic","title":"Network Traffic with Game Theory","description":"","date":"","thumbnail":"/build/424d6f26a2e0b40ca12376f2698b2418.png","thumbnailOptimized":"/build/424d6f26a2e0b40ca12376f2698b2418.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 2"},{"slug":"l09-01-mixed-strategies","title":"More Game Theory","description":"","date":"","thumbnail":"/build/c78b1360cc127c6ff833e0a98f9de844.png","thumbnailOptimized":"/build/c78b1360cc127c6ff833e0a98f9de844.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-03-auctions","title":"Auctions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-04-game-theory-lab","title":"Game Theory Lab: Data Science Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 1"},{"slug":"l-a1-01-from-rule-based-to-learning-agents","title":"From Rule-Based to Learning Agents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-02-rag-pattern-augmented-knowledge","title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-03-multi-agent-conversations","title":"Multi-Agent Conversations and Emergent Collaboration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 2"},{"slug":"l-a2-01-function-calling-and-tools","title":"Function Calling and Tool Use: From Talk to Action","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a2-02-type-safe-agents-pydantic-patterns","title":"Type-Safe Agent Development with PydanticAI Patterns","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a02-03-evaluations","title":"Evaluating AI Systems: Testing Agents at Scale","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 3"},{"slug":"l-a03-01-mcp-with-fastmcp","title":"Building Agent Tools with FastMCP","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a03-02-ai-agent-security","title":"Security for AI Agents: The Lethal Trifecta","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.0","options":{"hide_toc":false,"favicon":"/build/favicon-2547b7788b87f81b44ad3bc88b3d2a8b.ico","logo":"/build/logo-fdb88c5958d943ce34b840a833724994.png","logo_dark":"/build/logo-dark-68957f97f434b89940d35537897dfb8c.png"},"nav":[],"actions":[],"projects":[{"title":"UCF CAP-6318","description":"Computational Analysis of Social Complexity","authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"id":"492c0fd0-6de5-4738-b5ab-8c08e34fb954","toc":[{"file":"week01/L01.01_welcome.ipynb"},{"children":[{"file":"week01/L01.02_setup.ipynb"},{"file":"week01/L01.03_julia_basics.ipynb"}],"title":"Julia 1"},{"children":[{"file":"week02/L02.01_julia_types_methods.ipynb"},{"file":"week02/L02.02_code_organization.ipynb"},{"file":"week02/L02.03_julia_packages.ipynb"}],"title":"Julia 2"},{"children":[{"file":"week03/L03.01_graphs.ipynb"},{"file":"week03/L03.02_strong_weak_ties.ipynb"}],"title":"Graph Theory 1"},{"children":[{"file":"week04/L04.01_homophily.ipynb"},{"file":"week04/L04.02_weighted_graphs.ipynb"},{"file":"week04/L04.03_structural_balance.ipynb"}],"title":"Graph Theory 2"},{"children":[{"file":"week05/L05.01_production_networks.ipynb"}],"title":"Production Networks"},{"children":[{"file":"week06/L06.01_abm_concepts.ipynb"},{"file":"week06/L06.02_schelling_agents.ipynb"}],"title":"ABM 1"},{"children":[{"file":"week07/L07.01_abm_money.ipynb"},{"file":"week07/L07.02_abm_paper_virality.ipynb"}],"title":"ABM 2"},{"children":[{"file":"week08/L08.01_game_theory_intro.ipynb"},{"file":"week08/L08.02_network_traffic.ipynb"}],"title":"Game Theory 1"},{"children":[{"file":"week09/L09.01_mixed_strategies.ipynb"},{"file":"week09/L09.03_auctions.ipynb"},{"file":"week09/L09.04_game_theory_lab.ipynb"}],"title":"Game Theory 2"},{"children":[{"file":"weekA01/L.A1.01_from_rule_based_to_learning_agents.ipynb"},{"file":"weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb"},{"file":"weekA01/L.A1.03_multi_agent_conversations.ipynb"}],"title":"Agents 1"},{"children":[{"file":"weekA02/L.A2.01_function_calling_and_tools.ipynb"},{"file":"weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb"},{"file":"weekA02/L.A02.03_evaluations.ipynb"}],"title":"Agents 2"},{"children":[{"file":"weekA03/L.A03.01_MCP_with_fastmcp.ipynb"},{"file":"weekA03/L.A03.02_ai_agent_security.ipynb"}],"title":"Agents 3"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Julia 1"},{"slug":"l01-02-setup","title":"Julia Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l01-03-julia-basics","title":"Julia Foundations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Julia 2"},{"slug":"l02-01-julia-types-methods","title":"Julia Types and Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-02-code-organization","title":"Julia Code Organization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-03-julia-packages","title":"Julia Package Development","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 1"},{"slug":"l03-01-graphs","title":"Graphs","description":"","date":"","thumbnail":"/build/967a40bb8f52cb4e2ba5e92214773160.png","thumbnailOptimized":"/build/967a40bb8f52cb4e2ba5e92214773160.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l03-02-strong-weak-ties","title":"Strong and Weak Ties","description":"","date":"","thumbnail":"/build/ca8cf7fd449d95329a6482e7c5663568.png","thumbnailOptimized":"/build/ca8cf7fd449d95329a6482e7c5663568.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 2"},{"slug":"l04-01-homophily","title":"Homophily","description":"","date":"","thumbnail":"/build/c2d78afac7a8f5c0a921d74dc173a647.png","thumbnailOptimized":"/build/c2d78afac7a8f5c0a921d74dc173a647.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-02-weighted-graphs","title":"Weighted Graphs","description":"","date":"","thumbnail":"/build/89abe19f81fbf303bd67dbdff22715f2.png","thumbnailOptimized":"/build/89abe19f81fbf303bd67dbdff22715f2.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-03-structural-balance","title":"Structural Balance","description":"","date":"","thumbnail":"/build/e8165665e7da5ff6c9050aa529f882e5.png","thumbnailOptimized":"/build/e8165665e7da5ff6c9050aa529f882e5.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Production Networks"},{"level":1,"title":"ABM 1"},{"slug":"l06-01-abm-concepts","title":"Agent Based Models","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l06-02-schelling-agents","title":"Schelling Model with Agents.jl","description":"","date":"","thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 2"},{"slug":"l07-01-abm-money","title":"Agent Based Models Review/Practice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l07-02-abm-paper-virality","title":"Academic Paper Virality: An Agent-Based Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 1"},{"slug":"l08-01-game-theory-intro","title":"Game Theory 1","description":"","date":"","thumbnail":"/build/514111f16ff750b99f83913e8f7cef48.png","thumbnailOptimized":"/build/514111f16ff750b99f83913e8f7cef48.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l08-02-network-traffic","title":"Network Traffic with Game Theory","description":"","date":"","thumbnail":"/build/424d6f26a2e0b40ca12376f2698b2418.png","thumbnailOptimized":"/build/424d6f26a2e0b40ca12376f2698b2418.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 2"},{"slug":"l09-01-mixed-strategies","title":"More Game Theory","description":"","date":"","thumbnail":"/build/c78b1360cc127c6ff833e0a98f9de844.png","thumbnailOptimized":"/build/c78b1360cc127c6ff833e0a98f9de844.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-03-auctions","title":"Auctions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-04-game-theory-lab","title":"Game Theory Lab: Data Science Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 1"},{"slug":"l-a1-01-from-rule-based-to-learning-agents","title":"From Rule-Based to Learning Agents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-02-rag-pattern-augmented-knowledge","title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-03-multi-agent-conversations","title":"Multi-Agent Conversations and Emergent Collaboration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 2"},{"slug":"l-a2-01-function-calling-and-tools","title":"Function Calling and Tool Use: From Talk to Action","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a2-02-type-safe-agents-pydantic-patterns","title":"Type-Safe Agent Development with PydanticAI Patterns","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a02-03-evaluations","title":"Evaluating AI Systems: Testing Agents at Scale","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 3"},{"slug":"l-a03-01-mcp-with-fastmcp","title":"Building Agent Tools with FastMCP","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a03-02-ai-agent-security","title":"Security for AI Agents: The Lethal Trifecta","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":2,"kind":"Notebook","sha256":"6ff87350a80d2f2c8dea184abb23e2df5c019aca239bf7c1d104b7c10ce64b72","slug":"l-a02-03-evaluations","location":"/weekA02/L.A02.03_evaluations.ipynb","dependencies":[],"frontmatter":{"title":"Evaluating AI Systems: Testing Agents at Scale","content_includes_title":false,"kernelspec":{"name":"python3","display_name":".venv","language":"python"},"authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"L.A02.03_evaluations.ipynb","url":"/build/L.A02.03_evaluations-960f7d74d18299c9bca299a3b862e39d.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Computational Analysis of Social Complexity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DgHpHhjp0p"}],"key":"hOuTPa0mlX"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Fall 2025, Spencer Lyon","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FrbnEArIVF"}],"key":"t984OwD37X"}],"key":"MybzsWmVQF"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MMuCYpQKAm"}],"key":"r4t4DmjAEG"}],"key":"AxiyjJgmHw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Pydantic AI Agents and Tools","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GThlk8v6tS"}],"key":"XnYbmW2XVY"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Python programming fundamentals","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"pvG4UPZqXr"}],"key":"NP8bJTuM5G"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Basic understanding of testing concepts","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"l2poMfHjS5"}],"key":"jGDU1UTI3Y"}],"key":"ykYfSAsUFL"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Outcomes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"CU69alaFvv"}],"key":"wLVi9Kyy0Q"}],"key":"Xn5WC53gUx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Understand why systematic evaluation is critical for AI systems","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"dATm7VuCuX"}],"key":"s1bGcyp5EA"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Identify when and what to evaluate in AI agents","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"bEK4acVt4T"}],"key":"QqX7TujMGB"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Implement deterministic and LLM-based evaluators","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"IysimTOAMZ"}],"key":"hFJCqNnDlJ"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Design evaluation datasets using code-first approaches","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"KYTKa9z1Ej"}],"key":"k0vD6Xl2zl"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Analyze and compare evaluation results across experiments","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Ggo4SyWfiI"}],"key":"OR0sUQlZ01"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Connect evaluation practices to production deployment concerns","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"raVUbWdN50"}],"key":"MWRqxnwDVF"}],"key":"dlxDlg0ifC"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"strong","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"eKkdKehkeQ"}],"key":"tifzBmPacu"}],"key":"KR5LVtB4oO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":24,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/evals/index.md","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Pydantic AI Evals Documentation","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"rdxDASDZSP"}],"urlSource":"https://ai.pydantic.dev/evals/index.md","key":"vOf99PHcBq"}],"key":"UePBebUOxl"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/api/pydantic_evals/dataset/index.md","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Pydantic Evals API Reference","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"uRT5nHqJWg"}],"urlSource":"https://ai.pydantic.dev/api/pydantic_evals/dataset/index.md","key":"yDLZZJmvX8"}],"key":"pn6ztN2Oir"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Testing practices from software engineering","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"IpKKPDaAYo"}],"key":"hRVf6S1tss"}],"key":"ILymYg0o6U"}],"key":"LHtiF6Gdar"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Introduction: The AI Testing Problem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DRWo5tSlvZ"}],"identifier":"introduction-the-ai-testing-problem","label":"Introduction: The AI Testing Problem","html_id":"introduction-the-ai-testing-problem","implicit":true,"key":"TGeVEd1s0u"}],"key":"NiQqyvf7FS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why Testing AI is Different","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aEj6mhf9qT"}],"identifier":"why-testing-ai-is-different","label":"Why Testing AI is Different","html_id":"why-testing-ai-is-different","implicit":true,"key":"maYHotk8ke"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Traditional software testing: deterministic inputs → deterministic outputs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qVDZpM6tfa"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"If ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OAn6nTvFe7"},{"type":"inlineCode","value":"add(2, 3)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Z6cen3Vpw7"},{"type":"text","value":" returns ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vnVirmjDAN"},{"type":"inlineCode","value":"5","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EEtIyk7I5e"},{"type":"text","value":" once, it always will","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FmAiOnvnJm"}],"key":"wO5h5rUmws"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Clear pass/fail criteria","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bSIETtKyr2"}],"key":"mTMz6g2F9g"}],"key":"Gk0AQjDlzh"}],"key":"FaJ7ZLokhc"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"AI systems: same input → potentially different outputs","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bqf77J9YVf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Ask an agent “What’s the capital of France?” twice, might get:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"xXjIRgz3PE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"“The capital of France is Paris.”","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Se9MvBBEzy"}],"key":"ZGuw0XpZWL"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"“Paris is France’s capital city.”","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Crh243sI1P"}],"key":"lO77fmv1lF"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"“France’s capital is Paris, known for the Eiffel Tower.”","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Dnp9yP0Saj"}],"key":"JLpn1PI5Xk"}],"key":"Kb2k1X255r"}],"key":"gJRTvQm9nK"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"All correct, but different!","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"mjVu9QBk10"}],"key":"NHo26qgL4x"}],"key":"qt4s6QtxPJ"}],"key":"ShDlYdubl5"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Key challenge","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SzYGRxKnp6"}],"key":"PvPgBu4qVo"},{"type":"text","value":": How do we test something that’s non-deterministic?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"agtKQREXC8"}],"key":"WpHIYscIlF"}],"key":"ElDeRHGuw1"},{"type":"heading","depth":3,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Motivating Scenario: The Support Bot Problem","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"mMutmRh4bO"}],"identifier":"motivating-scenario-the-support-bot-problem","label":"Motivating Scenario: The Support Bot Problem","html_id":"motivating-scenario-the-support-bot-problem","implicit":true,"key":"RlBvFUAPtH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"You’ve built a customer support agent using Pydantic AI","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"TgX30G3C0P"}],"key":"TIZuy64IEW"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"It handles questions about product returns, shipping, and account issues","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"giHZYWnxxY"}],"key":"sFTpRoy2mD"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"In development, it seems to work great on the examples you tried","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"iCLhsvX1v7"}],"key":"Z9fJQgmTBx"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"You deploy to production and...","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Hrj33V8bba"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Sometimes gives outdated return policy information","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"gHHv3F0kCY"}],"key":"ewn6BZJ4b4"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Occasionally “hallucinates” shipping partners that don’t exist","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"RAJnKKn8Js"}],"key":"JkfBE8B9Ai"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Has trouble with edge cases you didn’t think to test","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"jMWJygtM5Y"}],"key":"fcHPBCxNLs"}],"key":"KojFDO6FGm"}],"key":"g5YVxutHtt"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Question","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Aj0241WGvG"}],"key":"knRuFOueVl"},{"type":"text","value":": How could systematic evaluation have caught these issues?","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"qKMGwGEyZj"}],"key":"VtXZCZ3sHk"}],"key":"qmWhuuVTl5"},{"type":"heading","depth":3,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"What We’ll Learn","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"NZZr78wgFu"}],"identifier":"what-well-learn","label":"What We’ll Learn","html_id":"what-well-learn","implicit":true,"key":"voVg8uKKEQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":27,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"We’ll explore ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"xax7lclMMD"},{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Pydantic Evals","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"yxGOZ3X0AN"}],"key":"k8yGzdPyG7"},{"type":"text","value":", a framework for testing AI systems","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"s95neNH6Sy"}],"key":"OgTf95gv7N"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Three main components:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"bF8ysEVoYH"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"strong","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Datasets","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"nnaBDwEEZd"}],"key":"acVYswjZLL"},{"type":"text","value":": Collections of test scenarios","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"y4wvvwUR5l"}],"key":"gA9KK9cyuK"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Evaluators","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"g71hECkWcG"}],"key":"S1eDilvBvE"},{"type":"text","value":": Scoring mechanisms to check outputs","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"gtLrPjfKLP"}],"key":"VczquibiEB"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"strong","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Experiments","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ktrLcqcSTQ"}],"key":"qxmuYWahM7"},{"type":"text","value":": Runs that combine datasets and evaluators","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"SOSp53nmaV"}],"key":"mJBUWRTmov"}],"key":"BWoPb0aG7w"}],"key":"xtdgBPq1CF"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Think of it like unit testing for AI:","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"aevUZh9Rjk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Cases + Evaluators = individual unit tests","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"FUAlW6cISs"}],"key":"DKc5MaMcIW"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Datasets = test suites","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"zjjJzGIyZE"}],"key":"oU9WNOEes9"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Experiments = running your entire test suite","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"eLrmUc5ifY"}],"key":"qtyLmtvoPl"}],"key":"wfnJ3XM4Xu"}],"key":"XZzY13XRFN"}],"key":"fM4OGpcxLI"}],"key":"PbI8cU6nad"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hcNCunZayj"}],"identifier":"setup","label":"Setup","html_id":"setup","implicit":true,"key":"XquIoTz6U9"}],"key":"UY14e2XRla"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Install and Import Dependencies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vd8BqNvlO8"}],"identifier":"install-and-import-dependencies","label":"Install and Import Dependencies","html_id":"install-and-import-dependencies","implicit":true,"key":"YyHx6KFxoP"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We’ll need Pydantic AI and the evals module:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AQePcnBKwt"}],"key":"WAy69GmKS1"}],"key":"wa7DG4xB7K"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Install pydantic-ai if needed\n# %pip install pydantic-ai[anthropic,evals] pydantic-evals","key":"cfQKRQ2Awj"},{"type":"output","id":"7Jm7agH4bvyFmxwrUbWqH","data":[],"key":"a6EDwfvAv2"}],"key":"pmjnpPqVpc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pydantic_ai import Agent\nfrom pydantic_evals import Dataset, Case\nfrom pydantic_evals.evaluators import (\n    Evaluator,\n    EvaluatorContext,\n    EvaluationReason,\n    EqualsExpected,\n    Contains,\n    IsInstance,\n    MaxDuration,\n    LLMJudge,\n    HasMatchingSpan,\n)\nfrom pydantic import BaseModel\nimport os","key":"HW05Pt9HTY"},{"type":"output","id":"JY7gmdrVYu5hvbu14zTxW","data":[],"key":"dNQSwFp0jt"}],"key":"JhSdqIW1rP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Configure API Keys","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"stQz7000r9"}],"identifier":"configure-api-keys","label":"Configure API Keys","html_id":"configure-api-keys","implicit":true,"key":"SDwuepkbng"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Make sure you have your Anthropic API key set:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PP2lLbbuT1"}],"key":"JaSiKRNrMI"}],"key":"fbXHRvnUAK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from dotenv import load_dotenv\nimport nest_asyncio\n\nload_dotenv()\nnest_asyncio.apply()","key":"RiXbtLE4vW"},{"type":"output","id":"1f53owVX8gELLnXy44a9M","data":[],"key":"YpmIl8DMEy"}],"key":"RrKUQBmtcM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Your API key should be set in environment\n# os.environ[\"ANTHROPIC_API_KEY\"] = \"your-key-here\"\n\n# Verify it's set\nassert \"ANTHROPIC_API_KEY\" in os.environ, \"Please set ANTHROPIC_API_KEY environment variable\"","key":"FeQI27jUfk"},{"type":"output","id":"I4KqA_03xGktQskiOJULG","data":[],"key":"Rxx8VBQPOq"}],"key":"nOvwdqUokz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Core Concepts: The Evaluation Framework","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kc6HR3zL2b"}],"identifier":"core-concepts-the-evaluation-framework","label":"Core Concepts: The Evaluation Framework","html_id":"core-concepts-the-evaluation-framework","implicit":true,"key":"gnR1D7Xtaz"}],"key":"KSnPikM8ik"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Structure: Cases, Datasets, and Experiments","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Udz8MP7F0B"}],"identifier":"structure-cases-datasets-and-experiments","label":"Structure: Cases, Datasets, and Experiments","html_id":"structure-cases-datasets-and-experiments","implicit":true,"key":"oJqKtxIDeY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Cases","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ggrJKsBnEi"}],"key":"HkJFa50n1g"},{"type":"text","value":": Individual test scenarios","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gSI31pYFUt"}],"key":"FbeZESnuYu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Like a single unit test","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lGt05tKlkh"}],"key":"VK775B7bUd"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Contains:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bX3T1aRatm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"inputs","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RPCWEL6XF0"},{"type":"text","value":": Data you pass to the agent","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kxuYON4Fw6"}],"key":"HpmnAQz2JZ"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"expected_output","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"MEN6j2r3WE"},{"type":"text","value":": (Optional) What you expect back","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uUHVtbkNRY"}],"key":"FhpPIdh5e5"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"metadata","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"R8ww1dOSzp"},{"type":"text","value":": (Optional) Context about this test","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BREn99oXVz"}],"key":"Md1ECIjxzT"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"evaluators","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vwM86t9EwJ"},{"type":"text","value":": (Optional) Case-specific checks","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"x7oxiOOc76"}],"key":"m8J93S2CdX"}],"key":"BJ6nmtA1Rj"}],"key":"Uw7yMDn0y0"}],"key":"EboyYmyJ8r"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Datasets","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"UpH2OcO0o5"}],"key":"nr2bqf8Uex"},{"type":"text","value":": Collections of cases","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eKPxADU2sO"}],"key":"tPBQcMOuFl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Like a test suite","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"KsSGRP5Hz8"}],"key":"equBlxbcc6"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Groups related test scenarios","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Lu53aWxmUo"}],"key":"QM7k9eazNd"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Can have dataset-level evaluators that apply to all cases","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"sYiyVs6VyE"}],"key":"i8i8gwgO7n"}],"key":"hYM6suMclu"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Experiments","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"y4EkmVmtLT"}],"key":"Rsw0fROE46"},{"type":"text","value":": Evaluation runs","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"yC1KhMEWBi"}],"key":"pZGBBafouH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Like running ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"GjZuAGwv7B"},{"type":"inlineCode","value":"pytest","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"mDWXVSUduF"},{"type":"text","value":" or ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"viRkbxo5Ar"},{"type":"inlineCode","value":"julia test","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"rpHefspDN9"}],"key":"nhZPPK4Get"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Executes your task function on all cases","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"vFqgSn7EbU"}],"key":"yVDhgYiNUj"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Applies evaluators to score outputs","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"p9HnQ74nDH"}],"key":"wpHBI3PL3g"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Generates reports with results","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"oAIQuUW69p"}],"key":"f3v0uUvb6Q"}],"key":"CBaxLVIUz1"}],"key":"GYFmjJDfmO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example: Simple Support Bot Dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qYYyfR5AA4"}],"identifier":"example-simple-support-bot-dataset","label":"Example: Simple Support Bot Dataset","html_id":"example-simple-support-bot-dataset","implicit":true,"key":"JQM3j5jSUw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s build intuition with a concrete example.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YOVoKICXat"}],"key":"sv41A8ByfT"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Suppose we want to test our support bot’s ability to identify the user’s intent:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ML68MiYAwe"}],"key":"fnC5yCWFzW"}],"key":"y1sP61vH2G"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Define test cases\nintent_dataset = Dataset[str, str](\n    name=\"Intent Classification Tests\",\n    cases=[\n        Case(\n            name=\"return_request\",\n            inputs=\"I want to return my order\",\n            expected_output=\"return\"\n        ),\n        Case(\n            name=\"shipping_status\",\n            inputs=\"Where is my package?\",\n            expected_output=\"shipping\"\n        ),\n        Case(\n            name=\"account_question\",\n            inputs=\"How do I reset my password?\",\n            expected_output=\"account\"\n        )\n    ]\n)\n\nprint(f\"Dataset: {intent_dataset.name}\")\nprint(f\"Number of cases: {len(intent_dataset.cases)}\")","key":"QVTGkggnG2"},{"type":"output","id":"p3qCkD8Jnj2bySVDoxLel","data":[{"name":"stdout","output_type":"stream","text":"Dataset: Intent Classification Tests\nNumber of cases: 3\n"}],"key":"wzhIQifp2i"}],"key":"YddsrlevY6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note the pattern","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DRRcPmSW1H"}],"key":"hsd8wvD62h"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GgEgBqguFf"}],"key":"n2ebjeHgfu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Each case tests one scenario","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QuiIDBlYjo"}],"key":"Kc9Rc9PeFb"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We specify what we expect","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"O0SWiPEApK"}],"key":"aFn5S5CUad"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Cases are typed: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rjFMNEJxKa"},{"type":"inlineCode","value":"Dataset[str, str]","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wTiwawyq55"},{"type":"text","value":" means string inputs → string outputs","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FxA1KitTB3"}],"key":"rb0AdhgSOW"}],"key":"QhEcPtRy58"}],"key":"scSDAV5gtC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 1: Design Your Own Cases","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gsD29EGyVj"}],"identifier":"exercise-1-design-your-own-cases","label":"Exercise 1: Design Your Own Cases","html_id":"exercise-1-design-your-own-cases","implicit":true,"key":"J962DlTuS6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Scenario","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PpM05viM0E"}],"key":"pw8ACWjYGt"},{"type":"text","value":": You’re building a sentiment analysis agent for product reviews.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UTJCkpvz11"}],"key":"xd2fbISJx7"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Task","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ExTMnSnw9w"}],"key":"FILeSWd1Pu"},{"type":"text","value":": Following the pattern above, create a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WpAfp0wKC0"},{"type":"inlineCode","value":"Dataset[str, str]","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PdBlQYjigK"},{"type":"text","value":" with 3-5 test cases for an agent that should classify product reviews as:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yyGStvfcTv"}],"key":"BZeZg5SQDy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"“positive”","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ql7cqI7CSH"}],"key":"TQe3kvfOhd"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"“negative”","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"r2IhlpqsEO"}],"key":"H1oPDR6BVp"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"“neutral”","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"TS5B2cQ2sk"}],"key":"BrV8ZAjeBe"}],"key":"wxgQJhMbci"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Think about:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"UoEhyMylMe"}],"key":"mRQxFgZuGS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What review texts represent typical positive/negative/neutral cases?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"HxxScm8QsM"}],"key":"HLd6DR79KY"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"What are edge cases? (e.g., mixed sentiments, sarcasm)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Hr9PRJR7qK"}],"key":"tr6aTz0p3H"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Make sure each Case has:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"vWcxHpD2K4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"A descriptive ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"DEQgJ8AoSG"},{"type":"inlineCode","value":"name","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"XBansz3Krd"}],"key":"r4QGSLlxve"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"inlineCode","value":"inputs","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"uyObra81mA"},{"type":"text","value":" (the review text)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"wyFVkPJjqj"}],"key":"QxjQ9OSryn"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"inlineCode","value":"expected_output","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"CD3VoL3wyF"},{"type":"text","value":" (the sentiment label)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"KdO2wTfq5g"}],"key":"ogcwtAx48N"}],"key":"piNoA4CWZ3"}],"key":"apfpImcXGX"}],"key":"coHfJ3CVrJ"}],"key":"t1xc0FX0Yn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# TODO: Your code here\n# Create a sentiment analysis dataset following the pattern above\n\nsentiment_dataset = Dataset[str, str](\n    name=\"Product Sentiment Analysis\",\n    cases=[\n        # TODO: Add your test cases here\n        # Case(\n        #     name=\"clearly_positive\",\n        #     inputs=\"This product exceeded my expectations! ...\",\n        #     expected_output=\"positive\"\n        # ),\n    ]\n)\n\nprint(f\"Created dataset with {len(sentiment_dataset.cases)} cases\")","key":"kiuqsM05SO"},{"type":"output","id":"H4nWMavKSCfsivQiBHYv4","data":[{"name":"stdout","output_type":"stream","text":"Created dataset with 0 cases\n"}],"key":"uUJLyh8byI"}],"key":"pT0hBR8fFS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evaluators: How to Score Outputs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jxbGCpCdDz"}],"identifier":"evaluators-how-to-score-outputs","label":"Evaluators: How to Score Outputs","html_id":"evaluators-how-to-score-outputs","implicit":true,"key":"QMNtDDjnst"}],"key":"VYdesnFPl7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Two Types of Evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bw9czUez45"}],"identifier":"two-types-of-evaluation","label":"Two Types of Evaluation","html_id":"two-types-of-evaluation","implicit":true,"key":"tIv56ILPpv"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Deterministic Evaluators","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QuRwdh05o2"}],"key":"mk0wkzfBie"},{"type":"text","value":": Code-based checks","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dK69BLqKXh"}],"key":"enCxlDfI1c"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Exact matches","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZNTAQnElzx"}],"key":"dUSYwz7YaQ"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Type checking","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GnAcGt6uOm"}],"key":"Wt0e7AJzNi"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Format validation (email, phone number, URL)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UMTnp2jZcY"}],"key":"kpFcHnNpGV"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"PII detection","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"nr4ikdOwHp"}],"key":"nzav5F3Uu7"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Regular expression matching","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BlmodykOGP"}],"key":"pUPp9nsPwm"}],"key":"xzOGcBCXyr"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Non-Deterministic Evaluators","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"InhwsVn4uf"}],"key":"Zt7qJcGJzu"},{"type":"text","value":": Subjective assessment","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"lHSDwUj9CD"}],"key":"rd6ryX3tl6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"LLM as judge","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BAW7xeBRWf"}],"key":"ezPeNo4mS8"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Human evaluation","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ccJDtdOZ0u"}],"key":"qwl0Z02nZx"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Quality metrics (accuracy, relevance, helpfulness)","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"cWi2B6Y3gw"}],"key":"I3bK8WzN9u"}],"key":"FEeoxkfnYH"}],"key":"JJfm2Ff4PX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Built-in Evaluators","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IwdK8FaUW3"}],"identifier":"built-in-evaluators","label":"Built-in Evaluators","html_id":"built-in-evaluators","implicit":true,"key":"Kl2YbmgBKE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pydantic Evals provides several ready-made evaluators:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V8szmAOkO9"}],"key":"hVeNxP4xbA"},{"type":"heading","depth":4,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1. Exact Matching","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"M5yR2KZztG"}],"identifier":"id-1-exact-matching","label":"1. Exact Matching","html_id":"id-1-exact-matching","implicit":true,"key":"IS9lusiAkr"}],"key":"q08xhMu57W"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Check if output equals expected value\nevaluator = EqualsExpected()\n\nprint(f\"Evaluator: {evaluator}\")","key":"y5jTL3vj5K"},{"type":"output","id":"NYWV_xiNNaiQRxbRqjY3q","data":[{"name":"stdout","output_type":"stream","text":"Evaluator: EqualsExpected()\n"}],"key":"itTKpqS4QB"}],"key":"zkD5hY2vvp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2. Type Checking","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LCKWhvAWBu"}],"identifier":"id-2-type-checking","label":"2. Type Checking","html_id":"id-2-type-checking","implicit":true,"key":"Nr8Fi7deVU"}],"key":"Z5MCkzdzpK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Ensure output is correct type\nevaluator = IsInstance('str')\n\nprint(f\"Evaluator: {evaluator}\")","key":"WOItpXcjKr"},{"type":"output","id":"eCp_6jxmcUKmieixqonzg","data":[{"name":"stdout","output_type":"stream","text":"Evaluator: IsInstance(type_name='str')\n"}],"key":"pcD0lpr3mb"}],"key":"q5TDPuzAGY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3. Membership/Contains","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OZfShGvW8B"}],"identifier":"id-3-membership-contains","label":"3. Membership/Contains","html_id":"id-3-membership-contains","implicit":true,"key":"kD4qnnKDPO"}],"key":"f6QgCM7HdT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Check if key phrase appears in output\nevaluator = Contains('return policy')\n\nprint(f\"Evaluator: {evaluator}\")","key":"p4HaFv6dAk"},{"type":"output","id":"3iaPgZ8l4_-S2-lhghzY8","data":[{"name":"stdout","output_type":"stream","text":"Evaluator: Contains(value='return policy')\n"}],"key":"cNIqN4odrW"}],"key":"EuacFwaCWY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"4. Performance Constraints","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GsnsXC9S2I"}],"identifier":"id-4-performance-constraints","label":"4. Performance Constraints","html_id":"id-4-performance-constraints","implicit":true,"key":"U7duk0Lzl9"}],"key":"Bu5CSaVKzP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Ensure agent responds quickly enough\nevaluator = MaxDuration(seconds=2.0)  # 2 seconds max\n\nprint(f\"Evaluator: {evaluator}\")","key":"yizEWIS3cR"},{"type":"output","id":"brMSFjgFTzMQLo_60V8f-","data":[{"name":"stdout","output_type":"stream","text":"Evaluator: MaxDuration(seconds=2.0)\n"}],"key":"RP59M27UFI"}],"key":"MHehHBBSAn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example: Adding Evaluators to Dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wBCDiVCobp"}],"identifier":"example-adding-evaluators-to-dataset","label":"Example: Adding Evaluators to Dataset","html_id":"example-adding-evaluators-to-dataset","implicit":true,"key":"NPtGjInUPP"}],"key":"co3FJg1uy5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"intent_dataset_with_evals = Dataset[str, str](\n    name=\"Intent Classification Tests\",\n    cases=[\n        Case(\n            name=\"return_request\",\n            inputs=\"I want to return my order\",\n            expected_output=\"return\"\n        ),\n        Case(\n            name=\"shipping_status\",\n            inputs=\"Where is my package?\",\n            expected_output=\"shipping\"\n        ),\n        Case(\n            name=\"account_question\",\n            inputs=\"How do I reset my password?\",\n            expected_output=\"account\"\n        ),\n    ],\n    evaluators=[\n        EqualsExpected(),  # Applied to all cases\n        MaxDuration(seconds=2.0)  # Response time check\n    ]\n)\n\nprint(f\"Dataset has {len(intent_dataset_with_evals.evaluators)} evaluators\")\nprint(f\"Dataset has {len(intent_dataset_with_evals.cases)} cases\")","key":"r2B9uUs5Mu"},{"type":"output","id":"iCB6LuWJVR-Ff3BI-s0WP","data":[{"name":"stdout","output_type":"stream","text":"Dataset has 2 evaluators\nDataset has 3 cases\n"}],"key":"J4DmH0Y60q"}],"key":"x9O9ftxkfu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"LLM as Judge: When Correctness is Subjective","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"snS4YYfCbP"}],"identifier":"llm-as-judge-when-correctness-is-subjective","label":"LLM as Judge: When Correctness is Subjective","html_id":"llm-as-judge-when-correctness-is-subjective","implicit":true,"key":"e8tjhL9hD5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Sometimes there’s no single “correct” answer","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xYPJ43u4Zj"}],"key":"ptTWw2F9yi"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Example: “Write a friendly response to this complaint”","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"haVGRVaVMb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Many valid responses exist","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tQdiLnNaf3"}],"key":"C6wEryr2YF"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Hard to check with deterministic rules","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QFlna3vaL3"}],"key":"oPA0wRsZ1k"}],"key":"OsN6yvqB0G"}],"key":"YWv3MN9YzD"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Solution: Use another LLM to evaluate","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZCqAG53yEt"}],"key":"Rex03tstua"}],"key":"IhaPF7QStX"},{"type":"heading","depth":4,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"LLMJudge Evaluator:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Z1Y88nxoQI"}],"identifier":"llmjudge-evaluator","label":"LLMJudge Evaluator:","html_id":"llmjudge-evaluator","implicit":true,"key":"AM3WKm9fy7"}],"key":"KhNWUJpxAy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"judge = LLMJudge(\n    rubric=(\n        \"Score from 0-10 on friendliness and helpfulness. \"\n        \"Friendly responses should acknowledge the customer's frustration. \"\n        \"Helpful responses should offer concrete next steps.\"\n    ),\n    model='anthropic:claude-haiku-4-5'\n)\n\nprint(\"Created LLMJudge evaluator\")","key":"BoGbEAjYTd"},{"type":"output","id":"SAEPDEm8SpdH5CZBRkMSf","data":[{"name":"stdout","output_type":"stream","text":"Created LLMJudge evaluator\n"}],"key":"RLy85iBANU"}],"key":"sHwF3FuBdC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How it works","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BVVgZuFfYC"}],"key":"vFVxX7XMh7"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r7WUQB0EDa"}],"key":"HU4uffxR2Z"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Your agent generates an output","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oXsfhp8Jc1"}],"key":"f3Ylaii1q4"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"LLMJudge sends that output + rubric to an LLM","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Z2suvXerzl"}],"key":"WA2RAObpLB"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"LLM scores the output based on the rubric","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hUjWMzdELi"}],"key":"iNIz8CXUqb"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Score is recorded in the evaluation report","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MQ9k8KyZic"}],"key":"ffB7F1i7XU"}],"key":"L7QbMiL81W"}],"key":"vbyYuTjy3k"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Custom Evaluators: Domain-Specific Checks","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pDjOdwK4uf"}],"identifier":"custom-evaluators-domain-specific-checks","label":"Custom Evaluators: Domain-Specific Checks","html_id":"custom-evaluators-domain-specific-checks","implicit":true,"key":"pHqLlEOCUO"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can create custom evaluators by subclassing ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Kzc3DlvSPO"},{"type":"inlineCode","value":"Evaluator","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"N15vlnz22u"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uAKz2c2Nll"}],"key":"QvGq1I3pzs"}],"key":"vfSnG0ogwp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class ContainsURL(Evaluator):\n    \"\"\"Check if output contains a valid URL.\"\"\"\n\n    def evaluate(self, ctx: EvaluatorContext) -\u003e EvaluationReason:\n        output = ctx.output\n        # Simple URL detection\n        has_url = 'http://' in str(output) or 'https://' in str(output)\n\n        return EvaluationReason(\n            value=has_url,\n            explanation=\"URL found\" if has_url else \"No URL found\"\n        )\n\n# Test it\nurl_checker = ContainsURL()\nprint(\"Created custom ContainsURL evaluator\")","key":"l9659r0AEN"},{"type":"output","id":"9GEnLPSJ_16klETgMzq3C","data":[{"name":"stdout","output_type":"stream","text":"Created custom ContainsURL evaluator\n"}],"key":"DRBWnJkcXr"}],"key":"lCa9EvGd0J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key points","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ew9Zzvt2YY"}],"key":"cdSqIuXC7T"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B8PxOkpsvf"}],"key":"O3ImwydnUb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Implement ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MAPHKKnxFg"},{"type":"inlineCode","value":"evaluate","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EXBOkxpD5C"},{"type":"text","value":" method (can be sync or async)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"M0ApMJJnKf"}],"key":"N9TgkC1YIz"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Access inputs/outputs through ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"XzQRZuLhn3"},{"type":"inlineCode","value":"EvaluatorContext","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gQsQ8wKlyK"}],"key":"eqB0tyMpnx"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Return ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UVD4JC8Zt5"},{"type":"inlineCode","value":"EvaluationReason","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TkTFjyL1TP"},{"type":"text","value":" with value and explanation","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"f94hhyrBV5"}],"key":"utwTCOUYWm"}],"key":"w8slYE2SRz"}],"key":"Nj6z68dtzx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 2: Design Evaluators","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oMRKKuk7qL"}],"identifier":"exercise-2-design-evaluators","label":"Exercise 2: Design Evaluators","html_id":"exercise-2-design-evaluators","implicit":true,"key":"PTSBce8DjO"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For the sentiment analysis agent from Exercise 1:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JQ5OJpDaVF"}],"key":"wMcnFhGiUC"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"What ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"R0CXvAYnU1"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"deterministic","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mLcC9RL425"}],"key":"nOqkkCOcO6"},{"type":"text","value":" evaluators would you use?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KSN8VcefUT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Think about checking exact label matches, valid sentiment values","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Wd6knyPWk5"}],"key":"ArPm2XcOAC"}],"key":"rJxq0MmI2F"}],"key":"bxHXxcjMgO"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"What ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YcHFXWCSWM"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"subjective","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BQjxiB2AF4"}],"key":"WZpWkBTQEk"},{"type":"text","value":" aspects might need LLM evaluation?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CQGOGNEP7Y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Example: When a review has mixed sentiment, is the chosen label reasonable?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qgBgXzF3pP"}],"key":"jI5yu9SxrW"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"What would your LLMJudge rubric say?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"e2ezywtEZG"}],"key":"HX5nLO6Tpk"}],"key":"e4VH7VMvDD"}],"key":"OL97kJxRra"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Design one ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FU1hHKsF48"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"custom evaluator","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"kYcZbvJ7Bf"}],"key":"UMJ5GfCXCa"},{"type":"text","value":" for a domain-specific check","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OiSbTd4Opq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Example: “Output should be all lowercase” or “Response time should be fast”","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wSAqAUPrJT"}],"key":"aTjnVH2qhs"}],"key":"lksvbHU3Ye"}],"key":"bv117EOpLG"}],"key":"TGjRxxuWeX"}],"key":"xyBvLYeIvU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# TODO: Your code here\n# Create evaluators for sentiment analysis\n\n# Example deterministic evaluator\n# sentiment_dataset.evaluators.append(EqualsExpected())\n\n# Example custom evaluator\n# class ValidSentiment(Evaluator):\n#     \"\"\"Check if output is a valid sentiment label.\"\"\"\n#     def evaluate(self, ctx: EvaluatorContext) -\u003e EvaluationReason:\n#         valid_sentiments = {\"positive\", \"negative\", \"neutral\"}\n#         is_valid = ctx.output.lower() in valid_sentiments\n#         return EvaluationReason(\n#             value=is_valid,\n#             explanation=f\"Output is {'valid' if is_valid else 'invalid'} sentiment\"\n#         )","key":"PwJSgZSAtT"},{"type":"output","id":"Voc4pr9jCmt0wXSM_M3z2","data":[],"key":"zj7Cmh1F4U"}],"key":"wrMFXCfmoX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Running Evaluations: From Code to Reports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZS4eW3N1Or"}],"identifier":"running-evaluations-from-code-to-reports","label":"Running Evaluations: From Code to Reports","html_id":"running-evaluations-from-code-to-reports","implicit":true,"key":"A6X7IKvpna"}],"key":"bLkGKE5Dll"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Evaluation Loop","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"chAyYp1u8f"}],"identifier":"the-evaluation-loop","label":"The Evaluation Loop","html_id":"the-evaluation-loop","implicit":true,"key":"SZKsT0CKum"},{"type":"heading","depth":4,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Step 1: Define your task function","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XZXaf5Nrfg"}],"identifier":"step-1-define-your-task-function","label":"Step 1: Define your task function","html_id":"step-1-define-your-task-function","implicit":true,"key":"OjhRhenIjE"}],"key":"fOo6yCdRIn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a simple intent classifier agent\nsupport_agent = Agent(\n    'anthropic:claude-haiku-4-5',\n    system_prompt=(\n        \"You are a customer support intent classifier. \"\n        \"Classify user messages into one of: return, shipping, account. \"\n        \"Respond with ONLY the classification label, nothing else.\"\n    )\n)\n\nasync def classify_intent(inputs: str) -\u003e str:\n    \"\"\"Our task: classify customer message intent.\"\"\"\n    result = await support_agent.run(inputs)\n    return result.output.lower().strip()\n\nprint(\"Created intent classification agent\")","key":"y7FM1F42Ag"},{"type":"output","id":"4u9g3XRJ-XTAhfvIqQuVT","data":[{"name":"stdout","output_type":"stream","text":"Created intent classification agent\n"}],"key":"HDtm8nLqL4"}],"key":"YLeyXD0hzA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2: Run evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ci26malPWd"}],"identifier":"step-2-run-evaluation","label":"Step 2: Run evaluation","html_id":"step-2-run-evaluation","implicit":true,"key":"j3JVOu493c"}],"key":"nOZKiaiNFf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Run experiment\nreport = await intent_dataset_with_evals.evaluate(\n    task=classify_intent,\n    max_concurrency=3,  # Run 3 cases in parallel\n    progress=True  # Show progress bar\n)\n\nprint(\"\\nEvaluation complete!\")\nprint(f\"Evaluated {len(report.cases)} cases\")","key":"d8T9q6E0cR"},{"type":"output","id":"Z3V_xzf0pahdQ391m6jjt","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"22c255567d3f4994bdf857d217e2e00a\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Output()","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cpre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"\u003e\u003c/pre\u003e\n","content_type":"text/html"},"text/plain":{"content":"","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"\nEvaluation complete!\nEvaluated 3 cases\n"}],"key":"NIMK4Wk5S8"}],"key":"cjGyzyjUvE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3: Analyze results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Yvq7Ichb9f"}],"identifier":"step-3-analyze-results","label":"Step 3: Analyze results","html_id":"step-3-analyze-results","implicit":true,"key":"hgGxdjByTZ"}],"key":"JjV78xGEcL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Print formatted report\nreport.print()\n\nprint(\"\\n\" + \"=\"*50)\nprint(\"Detailed results:\")\nprint(\"=\"*50)\n\n# Or get the data programmatically\nfor case in report.cases:\n    print(f\"\\nCase: {case.name}\")\n    print(f\"  Input: {case.inputs}\")\n    print(f\"  Output: {case.output}\")\n    print(f\"  Expected: {case.expected_output}\")\n    print(f\"  Assertions: {case.assertions}\")\n    print(f\"  All passed: {all(case.assertions.values())}\")","key":"ysX2ZSHb6v"},{"type":"output","id":"abDF5455IXw5Lvs2H2Z_8","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cpre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"\u003e\u003cspan style=\"font-style: italic\"\u003e    Evaluation Summary: classify_intent     \u003c/span\u003e\n┏━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┓\n┃\u003cspan style=\"font-weight: bold\"\u003e Case ID          \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e Assertions \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e Duration \u003c/span\u003e┃\n┡━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━┩\n│\u003cspan style=\"font-weight: bold\"\u003e return_request   \u003c/span\u003e│ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔✔\u003c/span\u003e         │  736.7ms │\n├──────────────────┼────────────┼──────────┤\n│\u003cspan style=\"font-weight: bold\"\u003e shipping_status  \u003c/span\u003e│ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔✔\u003c/span\u003e         │     1.6s │\n├──────────────────┼────────────┼──────────┤\n│\u003cspan style=\"font-weight: bold\"\u003e account_question \u003c/span\u003e│ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔✔\u003c/span\u003e         │     1.0s │\n├──────────────────┼────────────┼──────────┤\n│\u003cspan style=\"font-weight: bold\"\u003e \u003c/span\u003e\u003cspan style=\"font-weight: bold; font-style: italic\"\u003eAverages\u003c/span\u003e\u003cspan style=\"font-weight: bold\"\u003e         \u003c/span\u003e│ 100.0% \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔\u003c/span\u003e   │     1.1s │\n└──────────────────┴────────────┴──────────┘\n\u003c/pre\u003e\n","content_type":"text/html"},"text/plain":{"content":"\u001b[3m    Evaluation Summary: classify_intent     \u001b[0m\n┏━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━┓\n┃\u001b[1m \u001b[0m\u001b[1mCase ID         \u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1mAssertions\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1mDuration\u001b[0m\u001b[1m \u001b[0m┃\n┡━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━┩\n│\u001b[1m \u001b[0m\u001b[1mreturn_request  \u001b[0m\u001b[1m \u001b[0m│ \u001b[32m✔\u001b[0m\u001b[32m✔\u001b[0m         │  736.7ms │\n├──────────────────┼────────────┼──────────┤\n│\u001b[1m \u001b[0m\u001b[1mshipping_status \u001b[0m\u001b[1m \u001b[0m│ \u001b[32m✔\u001b[0m\u001b[32m✔\u001b[0m         │     1.6s │\n├──────────────────┼────────────┼──────────┤\n│\u001b[1m \u001b[0m\u001b[1maccount_question\u001b[0m\u001b[1m \u001b[0m│ \u001b[32m✔\u001b[0m\u001b[32m✔\u001b[0m         │     1.0s │\n├──────────────────┼────────────┼──────────┤\n│\u001b[1m \u001b[0m\u001b[1;3mAverages\u001b[0m\u001b[1m        \u001b[0m\u001b[1m \u001b[0m│ 100.0% \u001b[32m✔\u001b[0m   │     1.1s │\n└──────────────────┴────────────┴──────────┘\n","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"\n==================================================\nDetailed results:\n==================================================\n\nCase: return_request\n  Input: I want to return my order\n  Output: return\n  Expected: return\n  Assertions: {'EqualsExpected': EvaluationResult(name='EqualsExpected', value=True, reason=None, source=EvaluatorSpec(name='EqualsExpected', arguments=None)), 'MaxDuration': EvaluationResult(name='MaxDuration', value=True, reason=None, source=EvaluatorSpec(name='MaxDuration', arguments=(2.0,)))}\n  All passed: True\n\nCase: shipping_status\n  Input: Where is my package?\n  Output: shipping\n  Expected: shipping\n  Assertions: {'EqualsExpected': EvaluationResult(name='EqualsExpected', value=True, reason=None, source=EvaluatorSpec(name='EqualsExpected', arguments=None)), 'MaxDuration': EvaluationResult(name='MaxDuration', value=True, reason=None, source=EvaluatorSpec(name='MaxDuration', arguments=(2.0,)))}\n  All passed: True\n\nCase: account_question\n  Input: How do I reset my password?\n  Output: account\n  Expected: account\n  Assertions: {'EqualsExpected': EvaluationResult(name='EqualsExpected', value=True, reason=None, source=EvaluatorSpec(name='EqualsExpected', arguments=None)), 'MaxDuration': EvaluationResult(name='MaxDuration', value=True, reason=None, source=EvaluatorSpec(name='MaxDuration', arguments=(2.0,)))}\n  All passed: True\n"}],"key":"vkRSfjYeGK"}],"key":"Y4AQadirHy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualizing Results with Logfire","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DezF46zGYT"}],"identifier":"visualizing-results-with-logfire","label":"Visualizing Results with Logfire","html_id":"visualizing-results-with-logfire","implicit":true,"key":"sfMCnTpmra"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"While the printed reports are useful, ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jHztaAyjWX"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pydantic Logfire","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GV7IUbwnBr"}],"key":"G62cgapcpN"},{"type":"text","value":" provides a web UI for visualizing and analyzing evaluation results over time.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Fq7QChhuhr"}],"key":"cFCm5Ks2jZ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Why use Logfire?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Yvkl1xrHVG"}],"key":"ws4kNhcUbn"}],"key":"Js9yPH7cS7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Interactive dashboards for evaluation metrics","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"qSuBpOOSK7"}],"key":"QxceHu97nI"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Trace exploration for debugging failed cases","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FkWIMJOrBg"}],"key":"lOvG5ElHU9"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Track trends across multiple evaluation runs","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FxVjc0K5bp"}],"key":"x86bi7DoeZ"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Team collaboration and sharing results","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"T8jQrH9vlv"}],"key":"u6ZQAUkAqT"}],"key":"GhmnDJGNlO"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Let’s configure Logfire integration:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WV0tARUod1"}],"key":"mSnNGyVWRw"}],"key":"cCGU9CMvSS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"et9Zdu8fBn"}],"key":"wPma8AlZaA"},{"type":"text","value":": With Logfire configured, all subsequent evaluations will automatically send their results to the Logfire web UI. You can then:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tc2JpAYhos"}],"key":"GBloalusel"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"View evaluation reports in an interactive dashboard","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"p9eahzIVwM"}],"key":"F82msA9cD9"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Explore individual traces and spans","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BfmSm8o4Tm"}],"key":"UppcMvaZsb"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Compare results across multiple runs","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gXDQaGoYbi"}],"key":"x0SwQ9c5qY"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Set up alerts for failing evaluations","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pWUIWnBRMV"}],"key":"vSpUODnJCe"}],"key":"uDo25nMyel"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Visit ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NAcNm9EtNz"},{"type":"link","url":"https://logfire.pydantic.dev","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"logfire​.pydantic​.dev","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HhrpOiDHOI"}],"urlSource":"https://logfire.pydantic.dev","key":"yqznm36iFZ"},{"type":"text","value":" to view your evaluation results.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SN4PfShqlE"}],"key":"rXniZYGLlX"},{"type":"heading","depth":3,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Understanding Evaluation Results","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tbbr5I2McX"}],"identifier":"understanding-evaluation-results","label":"Understanding Evaluation Results","html_id":"understanding-evaluation-results","implicit":true,"key":"zrGYBoH6NK"}],"key":"dQowDvA43A"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import logfire\n\n# Configure Logfire\n# This will automatically send evaluation results to Logfire if token is present\nlogfire.configure(\n    send_to_logfire='if-token-present',\n\n)\n\nprint(\"Logfire configured!\")\nprint(\"Future evaluations will automatically appear in Logfire web UI\")","key":"rJchKXUdIh"},{"type":"output","id":"lI-TtXK0pV3TX5mwvtKlZ","data":[{"name":"stdout","output_type":"stream","text":"Logfire configured!\nFuture evaluations will automatically appear in Logfire web UI\n"},{"name":"stderr","output_type":"stream","text":"\u001b[1mLogfire\u001b[0m project URL: \u001b]8;id=50384;https://logfire-us.pydantic.dev/sglyon/cap-6318-example\u001b\\\u001b[4;36mhttps://logfire-us.pydantic.dev/sglyon/cap-6318-example\u001b[0m\u001b]8;;\u001b\\\n"}],"key":"wsQDzfHuor"}],"key":"zVitzIrJcH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Comparing Experiments: Tracking Improvements","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AugwZjemKi"}],"identifier":"comparing-experiments-tracking-improvements","label":"Comparing Experiments: Tracking Improvements","html_id":"comparing-experiments-tracking-improvements","implicit":true,"key":"xH9ujEZoNa"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s modify our agent and compare results:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DhIjZXXG2A"}],"key":"Imr9WdSLqc"}],"key":"P5wpmHOg2W"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create an improved agent with better prompt\nimproved_agent = Agent(\n    'anthropic:claude-haiku-4-5',\n    system_prompt=(\n        \"You are a customer support intent classifier. \"\n        \"Classify user messages into exactly one of these categories:\\n\"\n        \"- return: for return/refund requests\\n\"\n        \"- shipping: for delivery/tracking questions\\n\"\n        \"- account: for login/password/profile issues\\n\\n\"\n        \"Respond with ONLY the classification label in lowercase, nothing else.\"\n    )\n)\n\nasync def improved_classify_intent(inputs: str) -\u003e str:\n    \"\"\"Improved task function.\"\"\"\n    result = await improved_agent.run(inputs)\n    return result.output.lower().strip()\n\n# Run evaluation with improved agent\nimproved_report = await intent_dataset_with_evals.evaluate(\n    task=improved_classify_intent,\n    max_concurrency=3,\n    progress=True\n)","key":"rbY6289pwm"},{"type":"output","id":"bj61KnyHrlzVZcxrPFfg_","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"5ce63410f23e431f806c69f6ff437550\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Output()","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"20:11:13.865 evaluate improved_classify_intent\n20:11:13.869   case: return_request\n20:11:13.869     execute improved_classify_intent\n20:11:13.871   case: shipping_status\n20:11:13.871     execute improved_classify_intent\n20:11:13.872   case: account_question\n20:11:13.872     execute improved_classify_intent\n"},{"name":"stdout","output_type":"stream","text":"20:11:14.569     evaluator: EqualsExpected\n20:11:14.569     evaluator: MaxDuration\n               case: return_request\n20:11:14.570     evaluator: EqualsExpected\n20:11:14.570     evaluator: MaxDuration\n"},{"name":"stdout","output_type":"stream","text":"               case: shipping_status\n20:11:14.963     evaluator: EqualsExpected\n20:11:14.963     evaluator: MaxDuration\n"},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cpre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"\u003e\u003c/pre\u003e\n","content_type":"text/html"},"text/plain":{"content":"","content_type":"text/plain"}}}],"key":"HZgsFQXA3p"}],"key":"Jsn8NQPRek"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Compare against baseline\nimproved_report.print(baseline=report)","key":"nGXlIlgJMy"},{"type":"output","id":"l27_UOnSSZ7guvdG9C5sn","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cpre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"\u003e\u003cspan style=\"font-style: italic\"\u003e     Evaluation Diff: classify_intent → improved_classify_intent      \u003c/span\u003e\n┏━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃\u003cspan style=\"font-weight: bold\"\u003e Case ID          \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e Assertions \u003c/span\u003e┃\u003cspan style=\"font-weight: bold\"\u003e                           Duration \u003c/span\u003e┃\n┡━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩\n│\u003cspan style=\"font-weight: bold\"\u003e account_question \u003c/span\u003e│ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔✔\u003c/span\u003e         │ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e1.0s → 696.5ms (-320.9ms / -31.5%)\u003c/span\u003e │\n├──────────────────┼────────────┼────────────────────────────────────┤\n│\u003cspan style=\"font-weight: bold\"\u003e return_request   \u003c/span\u003e│ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔✔\u003c/span\u003e         │                  736.7ms → 700.2ms │\n├──────────────────┼────────────┼────────────────────────────────────┤\n│\u003cspan style=\"font-weight: bold\"\u003e shipping_status  \u003c/span\u003e│ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔✔\u003c/span\u003e         │    \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e1.6s → 1.1s (-544.0ms / -33.3%)\u003c/span\u003e │\n├──────────────────┼────────────┼────────────────────────────────────┤\n│\u003cspan style=\"font-weight: bold\"\u003e \u003c/span\u003e\u003cspan style=\"font-weight: bold; font-style: italic\"\u003eAverages\u003c/span\u003e\u003cspan style=\"font-weight: bold\"\u003e         \u003c/span\u003e│ 100.0% \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e✔\u003c/span\u003e   │ \u003cspan style=\"color: #008000; text-decoration-color: #008000\"\u003e1.1s → 829.4ms (-300.5ms / -26.6%)\u003c/span\u003e │\n└──────────────────┴────────────┴────────────────────────────────────┘\n\u003c/pre\u003e\n","content_type":"text/html"},"text/plain":{"content":"\u001b[3m     Evaluation Diff: classify_intent → improved_classify_intent      \u001b[0m\n┏━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃\u001b[1m \u001b[0m\u001b[1mCase ID         \u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1mAssertions\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1m                          Duration\u001b[0m\u001b[1m \u001b[0m┃\n┡━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩\n│\u001b[1m \u001b[0m\u001b[1maccount_question\u001b[0m\u001b[1m \u001b[0m│ \u001b[32m✔\u001b[0m\u001b[32m✔\u001b[0m         │ \u001b[32m1.0s → 696.5ms (-320.9ms / -31.5%)\u001b[0m │\n├──────────────────┼────────────┼────────────────────────────────────┤\n│\u001b[1m \u001b[0m\u001b[1mreturn_request  \u001b[0m\u001b[1m \u001b[0m│ \u001b[32m✔\u001b[0m\u001b[32m✔\u001b[0m         │                  736.7ms → 700.2ms │\n├──────────────────┼────────────┼────────────────────────────────────┤\n│\u001b[1m \u001b[0m\u001b[1mshipping_status \u001b[0m\u001b[1m \u001b[0m│ \u001b[32m✔\u001b[0m\u001b[32m✔\u001b[0m         │    \u001b[32m1.6s → 1.1s (-544.0ms / -33.3%)\u001b[0m │\n├──────────────────┼────────────┼────────────────────────────────────┤\n│\u001b[1m \u001b[0m\u001b[1;3mAverages\u001b[0m\u001b[1m        \u001b[0m\u001b[1m \u001b[0m│ 100.0% \u001b[32m✔\u001b[0m   │ \u001b[32m1.1s → 829.4ms (-300.5ms / -26.6%)\u001b[0m │\n└──────────────────┴────────────┴────────────────────────────────────┘\n","content_type":"text/plain"}}}],"key":"lruUeYknl0"}],"key":"vhgd08BwJK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 3: Run Your First Evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JWHWdy6qhR"}],"identifier":"exercise-3-run-your-first-evaluation","label":"Exercise 3: Run Your First Evaluation","html_id":"exercise-3-run-your-first-evaluation","implicit":true,"key":"b2tdcUl8yy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Using the sentiment analysis agent you designed in Exercise 1:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zZceDK9Zhp"}],"key":"MxMYu6kmj1"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Create an agent that performs sentiment classification","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZJ68UWh4Hn"}],"key":"rWb2RXkq1A"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Use your dataset from Exercise 1 (add more cases if needed)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ccO0Mug9gb"}],"key":"MHtvLvQaEk"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Add 2-3 evaluators (mix of built-in and custom from Exercise 2)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LT0vvS7w9b"}],"key":"R66BBdZdLg"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Run the evaluation using ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qpbPCPZUbp"},{"type":"inlineCode","value":"await dataset.evaluate(task=your_function)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Tz3aDfGcOn"}],"key":"DuN7UlZu1G"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Interpret the results:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"KTqhLiFrb4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Which cases passed/failed?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"KohgUDZU1D"}],"key":"VHJuEBGVJb"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"What patterns do you notice?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"BYexa0SxsC"}],"key":"RGmZxFcnWP"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What would you improve about the agent or the test cases?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Jp7Fpaovd9"}],"key":"EKV3vNmPBj"}],"key":"fAl6wUzFkf"}],"key":"B5I11MdF7A"}],"key":"UcMnAKg2EV"}],"key":"TvmJx2NI4y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# TODO: Your code here","key":"iM5zhGinaM"},{"type":"output","id":"T3YBFGEIdTr-agyZwEA-f","data":[],"key":"zkNUD0NJBf"}],"key":"fmmpgWBBkR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Advanced Topics: Span-Based Evaluation and Dataset Generation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UDTtJB8Zvt"}],"identifier":"advanced-topics-span-based-evaluation-and-dataset-generation","label":"Advanced Topics: Span-Based Evaluation and Dataset Generation","html_id":"advanced-topics-span-based-evaluation-and-dataset-generation","implicit":true,"key":"m1yA8Qgi1f"}],"key":"KTXGLPTopB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Span-Based Evaluation: Evaluating the Process, Not Just the Output","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ltW4s2LUtB"}],"identifier":"span-based-evaluation-evaluating-the-process-not-just-the-output","label":"Span-Based Evaluation: Evaluating the Process, Not Just the Output","html_id":"span-based-evaluation-evaluating-the-process-not-just-the-output","implicit":true,"key":"V8xs3HQi0Z"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Problem","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"is2vtzsZqD"}],"key":"UgIWsaE5kN"},{"type":"text","value":": Sometimes the final answer is correct, but the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YjKPfx9VlP"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E82L9lVdgg"}],"key":"BWVXN82GQG"},{"type":"text","value":" matters","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"g2Ts8a6nAu"}],"key":"qgQoVKFf9O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Example: Math problem solving","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xQOm2YkNJL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Output: “42” ✓ Correct!","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tzbnVbdq01"}],"key":"eI17UBJ1xd"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"But did the agent:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"oDQjFfLMMJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Use the right formula?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bApYfXkurl"}],"key":"lbkXf1GUaC"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Show its work?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZOWZqsOAmh"}],"key":"zKtCHd4DvC"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Make calculation errors that happened to cancel out?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vMluNSgOjx"}],"key":"jGqs1PCD6V"}],"key":"o9bEmP6UrL"}],"key":"gEX8ycoyUE"}],"key":"ThcWj7ySuk"}],"key":"UOcDO7QuX1"}],"key":"A10xMd6sz2"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Spans","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"r1Xg5ogRrE"}],"key":"tuZ7aji3dr"},{"type":"text","value":": Execution traces from OpenTelemetry","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"bvNeEDK7SC"}],"key":"KJL4KIMw1q"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Capture what the agent did internally","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jcJL9ZJ5JR"}],"key":"V6GXIIboeG"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Tool calls made","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FIzyjrlsSJ"}],"key":"YXyMn2mn3a"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"LLM requests and responses","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"SiQNO7SCtF"}],"key":"k0sIU3oahE"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Intermediate reasoning steps","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"RcTs5OyLNI"}],"key":"d8rFzlvZNT"}],"key":"XcPcgcHyGL"},{"type":"heading","depth":4,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"HasMatchingSpan Evaluator:","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"cQf5gf8mFn"}],"identifier":"hasmatchingspan-evaluator","label":"HasMatchingSpan Evaluator:","html_id":"hasmatchingspan-evaluator","implicit":true,"key":"QylXuPkLkn"}],"key":"NppcmCBHzm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Ensure agent called a specific tool\nspan_evaluator = HasMatchingSpan(\n    query={'name_contains': 'calculator_tool'},\n    evaluation_name='used_calculator'\n)\n\nprint(\"Created span-based evaluator\")\nprint(\"This evaluator checks that a span named 'calculator_tool' was called\")","key":"WDUdG6wUTH"},{"type":"output","id":"fRshR00i4bhU9-7ypSU9g","data":[],"key":"gi0u10z5Ts"}],"key":"hOeVH3AwpA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why this matters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xUeoO58tnc"}],"key":"E1bqmL3Nge"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cwt7YalFE8"}],"key":"KvLcheSLjL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Catches “lucky guesses” where agent gets answer right for wrong reasons","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F3qNs3lZvd"}],"key":"EV2PRQkFwB"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Validates agent is following intended reasoning process","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"a4sHU90c2x"}],"key":"bYvCeRs9TY"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Useful for multi-step tasks where process correctness matters","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YKK21YU30V"}],"key":"eT6o3j1LTA"}],"key":"L65MEU4hQD"}],"key":"pGq6FmlV6b"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Generating Datasets with LLMs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EEnqZx2S4C"}],"identifier":"generating-datasets-with-llms","label":"Generating Datasets with LLMs","html_id":"generating-datasets-with-llms","implicit":true,"key":"BPG09tPD8i"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Challenge","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HvNW6YCzO5"}],"key":"v4SglcWQhb"},{"type":"text","value":": Creating comprehensive test datasets is tedious","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BNHYvNnk8P"}],"key":"qDScTxcvvg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Need diverse inputs covering edge cases","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"I7Z3fvSR7k"}],"key":"RxeHlBefsz"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Need correct expected outputs","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kl7KhHPmiS"}],"key":"CtTedQo2Fw"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Manual creation doesn’t scale","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"athksaf9H7"}],"key":"mQfx52VM5E"}],"key":"aeBZJ7nO8H"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Solution","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Kcxeq7K2ti"}],"key":"sN0NVE3EVA"},{"type":"text","value":": Use an LLM to generate test cases","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tnKOeIElZU"}],"key":"Bu1cdTV57p"}],"key":"Gm7q3rbyzQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pydantic_evals.generation import generate_dataset\n\n# Generate dataset for sentiment analysis\ngenerated_dataset = await generate_dataset(\n    dataset_type=Dataset[str, str],  # Input and output types\n    n_examples=5,  # Generate 5 test cases\n    extra_instructions=(\n        \"Create diverse restaurant reviews with clear sentiment. \"\n        \"Input should be a restaurant review. \"\n        \"Output should be the sentiment: positive, negative, or neutral.\"\n    ),\n    model='anthropic:claude-haiku-4-5'\n)\n\nprint(f\"Generated {len(generated_dataset.cases)} test cases\")\nfor i, case in enumerate(generated_dataset.cases[:3]):\n    print(f\"\\nCase {i+1}:\")\n    print(f\"  Input: {case.inputs}\")\n    print(f\"  Expected: {case.expected_output}\")","key":"QXS723HDHv"},{"type":"output","id":"HC-xlZAJXhxBGa-pcjMd0","data":[],"key":"NQqvRaUEP5"}],"key":"hJz7aUN0Eg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How it works","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I7VSUsIAu9"}],"key":"iJYcJaGXJ2"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bRJxu92smd"}],"key":"npNNRKr2P0"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You specify the dataset type with input/output types (e.g., ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CmuDxGqX8m"},{"type":"inlineCode","value":"Dataset[str, str]","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uAUPPBxRtM"},{"type":"text","value":")","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yGJfttEVVa"}],"key":"BZgiyX2YKG"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"LLM generates diverse test scenarios based on your instructions","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"opvgeAqDOj"}],"key":"dWkZmqm1Yq"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Returns properly structured ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zfmjQeL0gZ"},{"type":"inlineCode","value":"Dataset","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wKrX50yvWK"},{"type":"text","value":" object with generated cases","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nj3b1zi06y"}],"key":"nlMDgnmafa"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Can optionally save to file for version control (using ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"HBv1O8B7uY"},{"type":"inlineCode","value":"path","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VjWXI6Ya5N"},{"type":"text","value":" parameter)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VNiu5ZK8gs"}],"key":"iSLNiTJtl8"}],"key":"hM2TLIl5R7"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Best practices","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mGZYFdd4YK"}],"key":"ONA7wDVpHL"},{"type":"text","value":":","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FRKiopR1zI"}],"key":"IM9xPxauP4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Review generated cases before using","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iVbSG6Mm2H"}],"key":"NE1j2NWZIW"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Mix generated and hand-crafted cases","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"XK7l1u3q1O"}],"key":"cK2fOY2Thp"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Regenerate periodically to expand coverage","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"YTJQ2yxkoe"}],"key":"gIoEjIyW7Q"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"K809HZ92Hy"},{"type":"inlineCode","value":"extra_instructions","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"orevTeqvhW"},{"type":"text","value":" to guide the LLM toward specific edge cases","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"uBhZE7EH8O"}],"key":"ulRvWE6yl9"}],"key":"XKoRwU7HUI"}],"key":"i4YT6OMxuG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evaluating RAG Systems: A Two-Stage Challenge","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GblBUf0Dc3"}],"identifier":"evaluating-rag-systems-a-two-stage-challenge","label":"Evaluating RAG Systems: A Two-Stage Challenge","html_id":"evaluating-rag-systems-a-two-stage-challenge","implicit":true,"key":"mGNSoFPGg6"}],"key":"w3hWHyepyg"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is RAG?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tdyOgQ1hqN"}],"identifier":"what-is-rag","label":"What is RAG?","html_id":"what-is-rag","implicit":true,"key":"QAZqjwlkax"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"RAG = Retrieval-Augmented Generation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iKpXTpVFZj"}],"key":"pcRQIMBxim"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Common pattern for AI agents that need to answer questions about documents/data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zh2fDodI7Q"}],"key":"suKdUQ47da"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Two stages:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GMkXPZ24vL"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Retrieval","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"L01NLp0C2M"}],"key":"peP2owA6od"},{"type":"text","value":": Find relevant documents/passages from knowledge base","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VJi3updlqe"}],"key":"IIMxiXeB6N"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Generation","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kmIMPwQhKv"}],"key":"UjxN1OtuLD"},{"type":"text","value":": Use retrieved context to generate answer","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vdS3Qvze2y"}],"key":"t0ihWu1RvH"}],"key":"F6fIXgDHdE"}],"key":"L68k3ilATD"}],"key":"i8egTPozf2"},{"type":"heading","depth":4,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Why RAG Evaluation is Different","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"DowjYBlFOd"}],"identifier":"why-rag-evaluation-is-different","label":"Why RAG Evaluation is Different","html_id":"why-rag-evaluation-is-different","implicit":true,"key":"AXPSl4gwKA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Traditional evaluation: just check the final answer","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"OiRU4yN0NS"}],"key":"CI3bajRkRw"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"RAG evaluation: need to check ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vY0VUsCGlF"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"both","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SFjFmoFHd2"}],"key":"aig7d8phRD"},{"type":"text","value":" stages","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"sr8vWBfA8E"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Is the retrieval finding the right documents?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RCmct9s9uc"}],"key":"RazR6RySMy"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Is the generation using those documents correctly?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"GqNrbQTM0i"}],"key":"HTdGfiMRTF"}],"key":"PoVgGOwhhh"}],"key":"mdSF9VUZal"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Failure can happen at either stage (or both!)","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FaSgWphkGj"}],"key":"bNcyzc0k8u"}],"key":"kByuP3TJWs"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Example Failure Modes","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"lW0tfdFmzb"}],"key":"Nt7THDOMwG"},{"type":"text","value":":","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"e11nDgoMrI"}],"key":"tUcffKKZMY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"✓ Retrieval works, ✗ Generation fails: Found right docs, but hallucinated answer","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"DGUR6NrsZx"}],"key":"Bd1gV65lcS"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"✗ Retrieval fails, ✓ Generation works: Couldn’t find relevant docs, so generated plausible but wrong answer","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"kuMdr5sPGJ"}],"key":"yDQMGOesBL"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"✗ Both fail: Retrieved irrelevant docs ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"IoO60SDMKH"},{"type":"emphasis","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"and","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"F4Dbzh6ba4"}],"key":"fACv8gHwuK"},{"type":"text","value":" made up information","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"bAEPhjMHDE"}],"key":"t1iE7T4Ecr"}],"key":"aVgGK7eKdu"}],"key":"ZyA5dvz0Cx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"RAG Evaluation Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vofa1rZL90"}],"identifier":"rag-evaluation-metrics","label":"RAG Evaluation Metrics","html_id":"rag-evaluation-metrics","implicit":true,"key":"fW2D5HX5vO"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Retrieval Metrics","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kIBxZkBkUs"}],"key":"fy9SAC6jPp"},{"type":"text","value":" (Is the retrieval working?)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yiiDYNk7Sa"}],"key":"EzqYVi8vHr"}],"key":"OMJrdlUOvl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class PrecisionAtK(Evaluator):\n    \"\"\"Check if retrieved documents are relevant.\"\"\"\n\n    def __init__(self, k: int = 5):\n        self.k = k\n\n    def evaluate(self, ctx: EvaluatorContext) -\u003e EvaluationReason:\n        # Assume ctx.metadata contains retrieved doc IDs and ground truth\n        retrieved_docs = ctx.metadata.get('retrieved_doc_ids', [])[:self.k]\n        relevant_docs = ctx.metadata.get('relevant_doc_ids', [])\n\n        relevant_retrieved = set(retrieved_docs) \u0026 set(relevant_docs)\n        precision = len(relevant_retrieved) / self.k if self.k \u003e 0 else 0\n\n        return EvaluationReason(\n            value=precision,\n            explanation=f\"Retrieved {len(relevant_retrieved)}/{self.k} relevant docs\"\n        )\n\nclass RecallAtK(Evaluator):\n    \"\"\"Check if all relevant documents were found.\"\"\"\n\n    def __init__(self, k: int = 5):\n        self.k = k\n\n    def evaluate(self, ctx: EvaluatorContext) -\u003e EvaluationReason:\n        retrieved_docs = ctx.metadata.get('retrieved_doc_ids', [])[:self.k]\n        relevant_docs = ctx.metadata.get('relevant_doc_ids', [])\n\n        relevant_retrieved = set(retrieved_docs) \u0026 set(relevant_docs)\n        recall = len(relevant_retrieved) / len(relevant_docs) if len(relevant_docs) \u003e 0 else 0\n\n        return EvaluationReason(\n            value=recall,\n            explanation=f\"Found {len(relevant_retrieved)}/{len(relevant_docs)} relevant docs\"\n        )\n\nprint(\"Created RAG retrieval evaluators\")","key":"HEJdjAU1Ve"},{"type":"output","id":"qvSXFkypc4pAR_OJeze5N","data":[],"key":"wnannEu0Mp"}],"key":"J4Z8Huhy5q"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Generation Metrics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sxeyORjhmb"}],"key":"ezSLwJdCYp"},{"type":"text","value":" (Is the generation working?)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c3DjKauZIV"}],"key":"j2hmogaHNV"}],"key":"CRubhC4N6p"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"class Faithfulness(Evaluator):\n    \"\"\"Check if answer is grounded in retrieved context.\"\"\"\n\n    async def evaluate(self, ctx: EvaluatorContext) -\u003e EvaluationReason:\n        answer = ctx.output\n        context = ctx.metadata.get('retrieved_context', '')\n\n        # Use LLM to judge faithfulness\n        judge = Agent('anthropic:claude-haiku-4-5')\n        result = await judge.run(\n            f\"Context: {context}\\n\\n\"\n            f\"Answer: {answer}\\n\\n\"\n            f\"Is the answer fully supported by the context? \"\n            f\"Respond with YES, NO, or PARTIAL and explain why.\"\n        )\n\n        assessment = result.data\n        is_faithful = assessment.startswith('YES')\n\n        return EvaluationReason(\n            value=is_faithful,\n            explanation=assessment\n        )\n\nprint(\"Created Faithfulness evaluator\")","key":"BxVhzaQKh4"},{"type":"output","id":"xmSQb_QG2lLDUJdBaNkob","data":[],"key":"FzfgNDaE4b"}],"key":"HfDagEwZFn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Best Practices for RAG Evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u3OuJGstAl"}],"identifier":"best-practices-for-rag-evaluation","label":"Best Practices for RAG Evaluation","html_id":"best-practices-for-rag-evaluation","implicit":true,"key":"gpKpWxIgX5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1. Evaluate Stages Independently","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QCxk2xPFZe"}],"key":"f36kZGjN5W"}],"key":"XvSAiyfGXC"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Create separate datasets for retrieval and generation to pinpoint where failures occur.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uLZt8D0VQu"}],"key":"vlSp5KhAzF"}],"key":"Fuyb0rLFgA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Example: Retrieval evaluation dataset\nretrieval_dataset = Dataset(\n    name=\"Retrieval Quality\",\n    cases=[\n        Case(\n            inputs={\"query\": \"What are the return policies?\"},\n            metadata={\n                \"relevant_doc_ids\": [\"doc_42\", \"doc_87\"],  # Ground truth\n                \"retrieved_doc_ids\": [\"doc_42\", \"doc_87\", \"doc_13\", \"doc_99\", \"doc_5\"],  # Simulated retrieval\n            }\n        ),\n    ],\n    evaluators=[\n        PrecisionAtK(k=5),\n        RecallAtK(k=5),\n    ]\n)\n\nprint(\"Created retrieval evaluation dataset\")","key":"lrBUrnsugB"},{"type":"output","id":"ze-W6EUDrnk_0zH97vJv0","data":[],"key":"XtOkifQgAf"}],"key":"x5rKSRc5Y9"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why separate?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EKb8lkMwlg"}],"key":"PAqzJQe2Ww"}],"key":"pSyUxx53Vv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Pinpoints where failures occur","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wp2OOPK7Ym"}],"key":"bLUyEERdRU"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Can optimize retrieval and generation independently","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"behBteWht4"}],"key":"dydnvUajBf"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Clearer diagnosis: “Our retrieval is great but generation hallucinates” vs “Both need work”","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"K23sXeLEye"}],"key":"cISYVq8zCo"}],"key":"ndtGPBko4e"}],"key":"N418sgqBn6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise: Design RAG Evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DVbD1t6GWr"}],"identifier":"exercise-design-rag-evaluation","label":"Exercise: Design RAG Evaluation","html_id":"exercise-design-rag-evaluation","implicit":true,"key":"ywDrzTqEJz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Scenario","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sLC7daVOpy"}],"key":"tCRC9aDdrO"},{"type":"text","value":": You’re building a RAG system that answers questions about a company’s internal documentation.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ldslSWC0Pb"}],"key":"ZMA2ojR0Yu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Tasks","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"V1u5AJZpdJ"}],"key":"CIEls1f8C9"},{"type":"text","value":":","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EgbpcbrlU6"}],"key":"M8Nne8PkIF"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Identify failure modes","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FrCZwLykpa"}],"key":"gnnabggBma"},{"type":"text","value":": What are 3 ways this RAG system could fail?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"sdAVIbnrpC"}],"key":"hgbAjOfhlm"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Design retrieval tests","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"f3bb5mBBAa"}],"key":"XOpXIQKoTt"},{"type":"text","value":": What cases would test if retrieval is working?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"RpVSswaMtj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"What queries should always retrieve specific documents?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eJ1lZo4k4B"}],"key":"Dkrj2G4P4R"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"What edge cases might break retrieval?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"lZWgM0S64W"}],"key":"BOnES04CVm"}],"key":"hyMcuPyZxX"}],"key":"snveM2mnjn"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Design generation tests","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ED6dm64myC"}],"key":"XG1NzeIFmA"},{"type":"text","value":": Assuming perfect retrieval, how do you test generation?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"UKSQ6KMi4n"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What makes a “good” answer?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"yxiUmXgmBD"}],"key":"gCztJUyeeT"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"How do you detect hallucinations?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mavmnYy1s5"}],"key":"b12ceRW0OR"}],"key":"r2YvSLe5ym"}],"key":"Ahgiyc1MKm"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Create evaluation pipeline","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"GWXMoI0SVP"}],"key":"BbXlWS8UOU"},{"type":"text","value":": Sketch code for evaluating both stages","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"qwnVjaTfsu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"What metrics would you track?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ZkUTotiYCg"}],"key":"GhbmhXp36Z"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"How would you report results?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"BNo7RNthbn"}],"key":"QwUjpHJWpB"}],"key":"S8vVl7SNE6"}],"key":"CZEl95tDXs"}],"key":"vajkfAlNGU"}],"key":"tD1bhrqByc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# TODO: Your code here","key":"hOgdMnd0aQ"},{"type":"output","id":"ZExFuvyZ-yp7nTZlJUqXD","data":[],"key":"tSNdityjI4"}],"key":"noCr1XvRYV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Integration and Best Practices","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QXCf4dJeFD"}],"identifier":"integration-and-best-practices","label":"Integration and Best Practices","html_id":"integration-and-best-practices","implicit":true,"key":"mwILsP58VP"}],"key":"QcLuCTYHqg"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When to Use Each Evaluation Type","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g7Dihuu7pH"}],"identifier":"when-to-use-each-evaluation-type","label":"When to Use Each Evaluation Type","html_id":"when-to-use-each-evaluation-type","implicit":true,"key":"Zqka8M5bZM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Deterministic Evaluators","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"K5W7FnlFDk"}],"key":"UQAPvlxsFU"},{"type":"text","value":" when:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EWLOpHmsVn"}],"key":"PKd09PTyJA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Clear right/wrong answers exist","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tdpVgWfQAv"}],"key":"dRfRlFfHxW"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Output format matters (structured data)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QkHH8rB2rB"}],"key":"LZlAuqUwvy"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Security/safety constraints (no PII leakage)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VAuroL4fUt"}],"key":"VW94EycggH"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Performance requirements (latency, cost)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"VhSiggJjvm"}],"key":"klkFW00pQw"}],"key":"SY1k23sM3c"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"LLM as Judge","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"tYuxoU3Iie"}],"key":"VYvSPXywBu"},{"type":"text","value":" when:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"siAndba3fd"}],"key":"g2s5X4sO8L"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Multiple valid answers exist","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wxpYJ9bda7"}],"key":"po1DTqCf8r"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Quality is subjective (helpfulness, tone)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"HYWKAmnsmL"}],"key":"ULHWgHecPI"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Semantic equivalence matters (“Paris” vs “The capital of France is Paris”)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"noMZM6RLei"}],"key":"ilzeJVnSKb"}],"key":"oI62yrlKcu"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Span-Based Evaluation","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"arklcSzuV0"}],"key":"jFLWSr6cfD"},{"type":"text","value":" when:","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"jg29m7YDYS"}],"key":"F56q15DtNf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Process correctness matters, not just output","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"aMgZ1sP2pu"}],"key":"bpZveABYWF"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Multi-step reasoning needs validation","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"gDr9WZpQdV"}],"key":"jcPF8OkuxW"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Tool usage patterns are important","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"HmKPukJ0nt"}],"key":"bPYTJEAk8x"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Debugging complex agent behaviors","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"RhAwBExObS"}],"key":"tXkdc8ZhI6"}],"key":"SmQahFRoJ1"}],"key":"kUzkxzwQuW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Tips for Effective Evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bEMh1yGXu4"}],"identifier":"tips-for-effective-evaluation","label":"Tips for Effective Evaluation","html_id":"tips-for-effective-evaluation","implicit":true,"key":"RXGEuxuKdE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Start Small, Grow Gradually","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qL7l5Xinbu"}],"key":"qI2Wk5tuU6"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HanEAVihTh"}],"key":"Ph0Qf1ltVo"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Begin with 5-10 cases covering main scenarios","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"I41DjMFT05"}],"key":"olBdMtYFJz"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Add cases as you discover failures","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ot6tyxphO4"}],"key":"iuzi78DL8W"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Prioritize cases that would impact users most","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BvomouShTD"}],"key":"GQM5GsHCYW"}],"key":"kfHq7LxOUy"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Balance Coverage and Maintainability","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"bpgoZnRLql"}],"key":"m6hWvvgG6y"},{"type":"text","value":":","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"v5fKJneBX5"}],"key":"KGEwJYYPGj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Don’t try to test everything","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ziPHrZ2Lw3"}],"key":"W5d7TNu2L9"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Focus on high-risk or high-value scenarios","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ONsazgUzg8"}],"key":"oEamYCVxqZ"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Remove redundant cases","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WehbclVQem"}],"key":"paxX6swyvm"}],"key":"HbToqxd0o5"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Make Evaluators Specific and Clear","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"LbbzXlHpfb"}],"key":"XXNFebSO9q"},{"type":"text","value":":","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Gj9fwr4yJQ"}],"key":"zpaN6nzRl4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Good rubric: “Score 0-10 on factual accuracy. Check claims against provided context.”","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"cCn7dAfwkG"}],"key":"WZ0bFVrC9a"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Bad rubric: “Score the quality of the response.”","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"E6PRMtawDA"}],"key":"sxwcyKays9"}],"key":"eK9Y0kyyK8"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Version Control Your Datasets","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"TazaI1dKRg"}],"key":"UR5ftNK4zM"},{"type":"text","value":":","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"EKGlqxSK9X"}],"key":"ysGBZloXtu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Store datasets as YAML/JSON in git","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"xFRGc0Kt2m"}],"key":"ej2wghn5jN"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Track changes over time","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"WoMFfe5r6B"}],"key":"vLAUGyIjEP"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Share across team","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"huGPOtJva1"}],"key":"grfSEI39oQ"}],"key":"HHJLABaR4B"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"strong","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Automate Where Possible","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"GHVh0FH2ZU"}],"key":"ltekyMgaqX"},{"type":"text","value":":","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"xbRLSDvJTQ"}],"key":"xBYkKljrme"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Run evals in CI/CD pipeline","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"rUZL5IePzH"}],"key":"hwN53onk95"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Block deploys if pass rate drops","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Cspopq5gYc"}],"key":"iyyO5mPVtZ"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Generate alerts for regressions","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"aDc5Nszd7A"}],"key":"ieUxwaaWYB"}],"key":"fHcrs0Gebd"}],"key":"wUaNlvXx5p"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise: Evaluation Strategy Design","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WB8Kjo926r"}],"identifier":"exercise-evaluation-strategy-design","label":"Exercise: Evaluation Strategy Design","html_id":"exercise-evaluation-strategy-design","implicit":true,"key":"zSgb0ps1Ds"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Choose one scenario:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PZKOZSnuqh"}],"key":"TGc5Gbcfy0"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"E-commerce support agent","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VxXdCawHDr"}],"key":"rZnhyTSIf8"},{"type":"text","value":": Handles returns, shipping, account questions","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QHP04IvcCV"}],"key":"t2NlE45WTi"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Code review agent","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"WgFcje5GOY"}],"key":"CVnlZPrt1k"},{"type":"text","value":": Reviews pull requests, suggests improvements","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"d8JylJPped"}],"key":"q3o3LhHC81"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Data analysis agent","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KmAASlnkvI"}],"key":"H7r2gFDRLD"},{"type":"text","value":": Answers questions about datasets using pandas","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DuqHMEYZQJ"}],"key":"rBFG9pXTH3"}],"key":"tsljekTR9K"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"For your chosen scenario:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"UFticsv6S0"}],"key":"SQ8JNWzZkY"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Design an evaluation strategy:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QuOIsK1Neb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What’s in your test dataset? (10+ cases)","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"VXte5yPoba"}],"key":"FOi3Fl0H9x"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"What evaluators would you use?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"qijVt1mZtQ"}],"key":"Ney2wE4w4n"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"How would you measure success?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ZVtMeCpS7u"}],"key":"wWGilWx2kN"}],"key":"YKr0m0CcME"}],"key":"m3tjgoCuf7"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Describe your development workflow:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"sFmw3VhCgh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"When do you run evals?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"H7rordcZVt"}],"key":"Y738oM0yk9"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"What metrics do you track?","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"fH3eVuNdVC"}],"key":"ZO9RQtrJe6"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"How do you decide when to deploy?","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"sCXZcst0k3"}],"key":"mpVgAfjoGD"}],"key":"rrkqpv71fO"}],"key":"M1XcMP65aA"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Plan for production:","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"D6AMPFAgz3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"How do you handle failures?","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"epU9dcDo7B"}],"key":"s17TZjhqon"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"When do you update your dataset?","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"UOEHIH89yO"}],"key":"YrdrSOUj8G"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"What triggers re-evaluation?","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Vo4syYusxE"}],"key":"BRnUPuGPoc"}],"key":"r2IJMe60wp"}],"key":"poAQtvobCd"}],"key":"MtM1XV61x5"}],"key":"yCg6WtPxoS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Connections to Course Themes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wtnFiHzPyc"}],"identifier":"connections-to-course-themes","label":"Connections to Course Themes","html_id":"connections-to-course-themes","implicit":true,"key":"vsRTwvhnow"}],"key":"XhcnKxK9cu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Game Theory and Evaluation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VSdjXiFvbK"}],"identifier":"game-theory-and-evaluation","label":"Game Theory and Evaluation","html_id":"game-theory-and-evaluation","implicit":true,"key":"p9OkbCQXWJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Agent alignment","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"u8sBHB8xKv"}],"key":"CCtKiBQTPA"},{"type":"text","value":": Evaluation as mechanism design","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Scs8jfTdK1"}],"key":"p3zeONCEet"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"You design rubrics (rules) to incentivize desired behaviors","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"N9cmTx6A7T"}],"key":"Nmjh0oO7sC"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"LLM as Judge is like a referee in a game","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Rh7eJHCZDe"}],"key":"XiwXDNIDWY"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Pass/fail thresholds create strategic constraints","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"atQOS95mrY"}],"key":"g4CB9GYz6t"}],"key":"IwARlkziGy"}],"key":"nZvNea7uZu"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Adversarial evaluation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xyHRALrZ8F"}],"key":"aQRNEHtmJm"},{"type":"text","value":": Red team vs Blue team","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"RyOOzHp9im"}],"key":"KFMZ118gx4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Attackers try to make agent fail (jailbreaking, prompt injection)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"MQRmvslQvD"}],"key":"HppIXWPug5"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Defenders build evals that catch these attacks","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FcXPTDNcW9"}],"key":"DPuCURvWRP"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Nash equilibrium between robustness and capability","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HyarW3ZjXl"}],"key":"sOyGpMjXMn"}],"key":"pXtzf1J1BZ"}],"key":"JEEehsOEBy"}],"key":"Uj5Wlcbm9B"},{"type":"heading","depth":3,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Network Effects in AI Systems","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"elvkg6IhmT"}],"identifier":"network-effects-in-ai-systems","label":"Network Effects in AI Systems","html_id":"network-effects-in-ai-systems","implicit":true,"key":"r9V6zRfdUd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Evaluation datasets as networks","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"M8kQLm5Grr"}],"key":"hZQFo5gXyf"},{"type":"text","value":":","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"DWtKed30eq"}],"key":"Tt50Dig1bF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Cases can have dependencies (one builds on another)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"AhCKVnqAsR"}],"key":"zx2DsDhIhl"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Failures can cascade (if base functionality breaks, many cases fail)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"fAt9Ri3ivg"}],"key":"nt4UGggP1R"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Coverage metrics: are there “clusters” of untested scenarios?","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"AAxDxj2Fxz"}],"key":"cnhTFssDub"}],"key":"ZjSlImZj2y"}],"key":"P2aA9bRBTC"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Agent-to-agent evaluation","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"yxjqfmgbUH"}],"key":"BRydJXNBgW"},{"type":"text","value":":","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"RrYXbYcS53"}],"key":"WmiMsRfWWT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Multi-agent systems need coordinated evaluation","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"RTNVayOiIy"}],"key":"z4NhPJUxei"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Agent A’s outputs become Agent B’s inputs","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"hI2h5UixYf"}],"key":"MdEFD4VwVG"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Network of evals reflects agent interaction topology","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Wm23fkBmvG"}],"key":"wk4YXSKXCG"}],"key":"ju4Lq4ZK6j"}],"key":"BMUfApsZWl"}],"key":"rvfVVmIAUn"},{"type":"heading","depth":3,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Emergence in Complex AI Systems","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"xDluwNQeOh"}],"identifier":"emergence-in-complex-ai-systems","label":"Emergence in Complex AI Systems","html_id":"emergence-in-complex-ai-systems","implicit":true,"key":"s9znmVqYCL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":27,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Emergent behaviors","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Aexhzf1EM3"}],"key":"h4oQQnftbG"},{"type":"text","value":" in multi-step agents:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"mN2bxActLR"}],"key":"jHpq4NujUx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Simple agent + simple tools → complex behaviors","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"t3mBr9s5US"}],"key":"ISFFhoX5O7"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Can’t predict all outcomes from components","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"lhBw63QGrn"}],"key":"EfSo2KRSVm"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Evaluation discovers emergent capabilities (and failures)","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"iAIwzEV4Q9"}],"key":"wSrBD84TnG"}],"key":"iHO1zqWSc7"}],"key":"FQWQQjLYdY"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"strong","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Evaluation as an ABM simulation","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"hpsAs4yHMq"}],"key":"DXekgkbxGe"},{"type":"text","value":":","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"GnAB9hnnvr"}],"key":"nPCiF9z9L1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Each test case is like running the simulation once","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"mm9Eic2wgx"}],"key":"nMsjCh86Px"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Aggregate results reveal patterns","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"P6rzS0eNaC"}],"key":"K1VbpbeRWX"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Edge cases show boundary conditions of agent “behavior space”","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ocOMRCFdFb"}],"key":"y6jEwKsy7t"}],"key":"j54mr7oW4G"}],"key":"pVXBNMdxMY"}],"key":"YoED5KuwBR"}],"key":"MDs0j9UVoq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary and Key Takeaways","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bC6ewTqyZa"}],"identifier":"summary-and-key-takeaways","label":"Summary and Key Takeaways","html_id":"summary-and-key-takeaways","implicit":true,"key":"leWZoGI3RR"}],"key":"AoLV3Yc7ra"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What We Learned","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bJEex9tkIw"}],"identifier":"what-we-learned","label":"What We Learned","html_id":"what-we-learned","implicit":true,"key":"esdADrASfh"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Why Evals Matter","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mRP0ohMJV0"}],"key":"kJxN9ePgrO"}],"key":"dqmWoR05Zy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"AI systems are non-deterministic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Qc8CWMMMT6"}],"key":"mnPLl2FXxJ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Systematic testing catches issues before production","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tKlI5AJ3ye"}],"key":"sCpkIwfXXf"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Evals enable confident iteration and deployment","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QFZLVOJnVf"}],"key":"rqI90u3kXn"}],"key":"RshHPZAsiQ"}],"key":"vpEGUEnAm3"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Core Framework: Pydantic Evals","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CuWiHZTX39"}],"key":"E8YSJLwen5"}],"key":"dC1Z5AwJMc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Cases: individual test scenarios","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"URhrMt9Urf"}],"key":"bNiNdK7eKz"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Datasets: collections of cases","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Ln308llzjH"}],"key":"H0p3Bmstlo"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Evaluators: scoring mechanisms (deterministic, LLM, custom)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"i2Dlr75suc"}],"key":"FUxwpFS4w2"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Experiments: runs that generate reports","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"qvkz5MHMqz"}],"key":"AB2YbCg3gu"}],"key":"joIQFG4o8f"}],"key":"jhjo2rHq2j"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Evaluation Strategies","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"unvqjax5A7"}],"key":"lIRxm2Ui9E"}],"key":"JfblLtH3DL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Deterministic checks for clear criteria","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"F63AKFHESS"}],"key":"J5Qu5YaJUt"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"LLM as Judge for subjective quality","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UoA5KOagvQ"}],"key":"HK84qveFWF"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Span-based evaluation for process correctness","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"CJZHEUF6g6"}],"key":"b2nj2neTQg"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Custom evaluators for domain-specific needs","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"JBDnR8A8VU"}],"key":"qujhA0tLIm"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"RAG-specific metrics for retrieval + generation","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"VW4wVUSk3i"}],"key":"CU3IDyrldP"}],"key":"Utpyxb4KNZ"}],"key":"wGsDR8y7rb"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Best Practices","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"MAnnPzMC4B"}],"key":"bp1G30WrcJ"}],"key":"XKimGQbIfE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Start small, iterate based on failures","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"PQ0UK5fsuV"}],"key":"tlQUP1Rpfd"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Balance coverage with maintainability","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"UZle77Pp3a"}],"key":"xOHnkXOLYj"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Version control datasets and track metrics","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"EFkRGDzKqt"}],"key":"hC9tfgpMc0"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Integrate into development and deployment workflows","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"FAJ42xz6Bp"}],"key":"R2YUVgZSEJ"}],"key":"pYnVeZIXdT"}],"key":"j856srPKmA"}],"key":"lmajq3XrWG"},{"type":"heading","depth":3,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Looking Forward","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"zV57v8xTOc"}],"identifier":"looking-forward","label":"Looking Forward","html_id":"looking-forward","implicit":true,"key":"FKsLDLroBq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Evaluations are “an emerging art/science”","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"RUheRpmgAj"}],"key":"csGwvvYZxJ"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"No single “right” approach exists","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"kWrWjAz1Pe"}],"key":"KuBnsFL7Zj"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Adapt techniques to your domain and constraints","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"wi16EP2nRT"}],"key":"jeUOqusf8u"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Key principle: ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"jLQNc678hC"},{"type":"strong","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Test systematically, deploy confidently","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"qEVW2ovwqr"}],"key":"sqjiEDicxd"}],"key":"cYu76SNGiU"}],"key":"FCnVZZjGCf"}],"key":"rUtr7ZAMaz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Final Exercise: Reflection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vIR7KTCfsU"}],"identifier":"final-exercise-reflection","label":"Final Exercise: Reflection","html_id":"final-exercise-reflection","implicit":true,"key":"sYIK0V4K1p"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Think about an AI agent you might build:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NntUnz7WaV"}],"key":"FoJq5dwAXN"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"What are the top 3 risks or failure modes?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pmtaXxgnMk"}],"key":"B2h2VdRqWX"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"How would you design evals to catch those?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"f8n7IDi1ma"}],"key":"VVaandflf4"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"What would “success” look like quantitatively?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jQupPK5Zte"}],"key":"zxJShp53kb"}],"key":"M2o8Dtbdnm"}],"key":"JLjx1ydc3o"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Additional Resources","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NdMhKGtyBB"}],"identifier":"additional-resources","label":"Additional Resources","html_id":"additional-resources","implicit":true,"key":"zc9oyp4ttt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/evals/index.md","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pydantic AI Evals Documentation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VfaXuFlkdP"}],"urlSource":"https://ai.pydantic.dev/evals/index.md","key":"v5cSdN7Hbi"}],"key":"C9GULbi9eo"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/api/pydantic_evals/dataset/index.md","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dataset API Reference","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"II77W9lxdp"}],"urlSource":"https://ai.pydantic.dev/api/pydantic_evals/dataset/index.md","key":"jd8M5WyK1u"}],"key":"lyjGivFq4V"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/api/pydantic_evals/evaluators/index.md","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Evaluators API Reference","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ULoXAAshFf"}],"urlSource":"https://ai.pydantic.dev/api/pydantic_evals/evaluators/index.md","key":"G5XsyoiJfs"}],"key":"vhRuJ7maNA"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/logfire/index.md","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Pydantic Logfire for Visualization","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hqHxYbV2rA"}],"urlSource":"https://ai.pydantic.dev/logfire/index.md","key":"BSfrQsMMNS"}],"key":"agK8E7AdNl"}],"key":"i3sizEX6Bn"}],"key":"QOxSGGQtZD"}],"key":"tuUSsegda8"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Type-Safe Agent Development with PydanticAI Patterns","url":"/l-a2-02-type-safe-agents-pydantic-patterns","group":"Agents 2"},"next":{"title":"Building Agent Tools with FastMCP","url":"/l-a03-01-mcp-with-fastmcp","group":"Agents 3"}}},"domain":"http://localhost:3000"},"project":{"title":"UCF CAP-6318","description":"Computational Analysis of Social Complexity","authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"id":"492c0fd0-6de5-4738-b5ab-8c08e34fb954","toc":[{"file":"week01/L01.01_welcome.ipynb"},{"children":[{"file":"week01/L01.02_setup.ipynb"},{"file":"week01/L01.03_julia_basics.ipynb"}],"title":"Julia 1"},{"children":[{"file":"week02/L02.01_julia_types_methods.ipynb"},{"file":"week02/L02.02_code_organization.ipynb"},{"file":"week02/L02.03_julia_packages.ipynb"}],"title":"Julia 2"},{"children":[{"file":"week03/L03.01_graphs.ipynb"},{"file":"week03/L03.02_strong_weak_ties.ipynb"}],"title":"Graph Theory 1"},{"children":[{"file":"week04/L04.01_homophily.ipynb"},{"file":"week04/L04.02_weighted_graphs.ipynb"},{"file":"week04/L04.03_structural_balance.ipynb"}],"title":"Graph Theory 2"},{"children":[{"file":"week05/L05.01_production_networks.ipynb"}],"title":"Production Networks"},{"children":[{"file":"week06/L06.01_abm_concepts.ipynb"},{"file":"week06/L06.02_schelling_agents.ipynb"}],"title":"ABM 1"},{"children":[{"file":"week07/L07.01_abm_money.ipynb"},{"file":"week07/L07.02_abm_paper_virality.ipynb"}],"title":"ABM 2"},{"children":[{"file":"week08/L08.01_game_theory_intro.ipynb"},{"file":"week08/L08.02_network_traffic.ipynb"}],"title":"Game Theory 1"},{"children":[{"file":"week09/L09.01_mixed_strategies.ipynb"},{"file":"week09/L09.03_auctions.ipynb"},{"file":"week09/L09.04_game_theory_lab.ipynb"}],"title":"Game Theory 2"},{"children":[{"file":"weekA01/L.A1.01_from_rule_based_to_learning_agents.ipynb"},{"file":"weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb"},{"file":"weekA01/L.A1.03_multi_agent_conversations.ipynb"}],"title":"Agents 1"},{"children":[{"file":"weekA02/L.A2.01_function_calling_and_tools.ipynb"},{"file":"weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb"},{"file":"weekA02/L.A02.03_evaluations.ipynb"}],"title":"Agents 2"},{"children":[{"file":"weekA03/L.A03.01_MCP_with_fastmcp.ipynb"},{"file":"weekA03/L.A03.02_ai_agent_security.ipynb"}],"title":"Agents 3"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Julia 1"},{"slug":"l01-02-setup","title":"Julia Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l01-03-julia-basics","title":"Julia Foundations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Julia 2"},{"slug":"l02-01-julia-types-methods","title":"Julia Types and Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-02-code-organization","title":"Julia Code Organization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-03-julia-packages","title":"Julia Package Development","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 1"},{"slug":"l03-01-graphs","title":"Graphs","description":"","date":"","thumbnail":"/build/967a40bb8f52cb4e2ba5e92214773160.png","thumbnailOptimized":"/build/967a40bb8f52cb4e2ba5e92214773160.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l03-02-strong-weak-ties","title":"Strong and Weak Ties","description":"","date":"","thumbnail":"/build/ca8cf7fd449d95329a6482e7c5663568.png","thumbnailOptimized":"/build/ca8cf7fd449d95329a6482e7c5663568.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 2"},{"slug":"l04-01-homophily","title":"Homophily","description":"","date":"","thumbnail":"/build/c2d78afac7a8f5c0a921d74dc173a647.png","thumbnailOptimized":"/build/c2d78afac7a8f5c0a921d74dc173a647.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-02-weighted-graphs","title":"Weighted Graphs","description":"","date":"","thumbnail":"/build/89abe19f81fbf303bd67dbdff22715f2.png","thumbnailOptimized":"/build/89abe19f81fbf303bd67dbdff22715f2.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-03-structural-balance","title":"Structural Balance","description":"","date":"","thumbnail":"/build/e8165665e7da5ff6c9050aa529f882e5.png","thumbnailOptimized":"/build/e8165665e7da5ff6c9050aa529f882e5.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Production Networks"},{"level":1,"title":"ABM 1"},{"slug":"l06-01-abm-concepts","title":"Agent Based Models","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l06-02-schelling-agents","title":"Schelling Model with Agents.jl","description":"","date":"","thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 2"},{"slug":"l07-01-abm-money","title":"Agent Based Models Review/Practice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l07-02-abm-paper-virality","title":"Academic Paper Virality: An Agent-Based Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 1"},{"slug":"l08-01-game-theory-intro","title":"Game Theory 1","description":"","date":"","thumbnail":"/build/514111f16ff750b99f83913e8f7cef48.png","thumbnailOptimized":"/build/514111f16ff750b99f83913e8f7cef48.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l08-02-network-traffic","title":"Network Traffic with Game Theory","description":"","date":"","thumbnail":"/build/424d6f26a2e0b40ca12376f2698b2418.png","thumbnailOptimized":"/build/424d6f26a2e0b40ca12376f2698b2418.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 2"},{"slug":"l09-01-mixed-strategies","title":"More Game Theory","description":"","date":"","thumbnail":"/build/c78b1360cc127c6ff833e0a98f9de844.png","thumbnailOptimized":"/build/c78b1360cc127c6ff833e0a98f9de844.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-03-auctions","title":"Auctions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-04-game-theory-lab","title":"Game Theory Lab: Data Science Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 1"},{"slug":"l-a1-01-from-rule-based-to-learning-agents","title":"From Rule-Based to Learning Agents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-02-rag-pattern-augmented-knowledge","title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-03-multi-agent-conversations","title":"Multi-Agent Conversations and Emergent Collaboration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 2"},{"slug":"l-a2-01-function-calling-and-tools","title":"Function Calling and Tool Use: From Talk to Action","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a2-02-type-safe-agents-pydantic-patterns","title":"Type-Safe Agent Development with PydanticAI Patterns","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a02-03-evaluations","title":"Evaluating AI Systems: Testing Agents at Scale","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 3"},{"slug":"l-a03-01-mcp-with-fastmcp","title":"Building Agent Tools with FastMCP","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a03-02-ai-agent-security","title":"Security for AI Agents: The Lethal Trifecta","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-06410F0D.js";
import * as route0 from "/build/root-ZJZ4LRPY.js";
import * as route1 from "/build/routes/$-23AHH5XS.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>