<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Retrieval-Augmented Generation: Augmenting AI with External Knowledge - UCF CAP-6318</title><meta property="og:title" content="Retrieval-Augmented Generation: Augmenting AI with External Knowledge - UCF CAP-6318"/><meta name="generator" content="mystmd"/><meta name="description" content="Computational Analysis of Social Complexity"/><meta property="og:description" content="Computational Analysis of Social Complexity"/><meta name="keywords" content=""/><link rel="stylesheet" href="/build/_assets/app-PKKJHBHV.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3"><img src="/build/logo-fdb88c5958d943ce34b840a833724994.png" class="h-9 dark:hidden" height="2.25rem"/><img src="/build/logo-dark-68957f97f434b89940d35537897dfb8c.png" class="hidden h-9 dark:block" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R758p:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="UCF CAP-6318" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">UCF CAP-6318</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Julia 1" class="block break-words rounded py-2 grow cursor-pointer">Julia 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Julia 2" class="block break-words rounded py-2 grow cursor-pointer">Julia 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Graph Theory 1" class="block break-words rounded py-2 grow cursor-pointer">Graph Theory 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16pop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16pop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Graph Theory 2" class="block break-words rounded py-2 grow cursor-pointer">Graph Theory 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Production Networks" class="block break-words rounded py-2 grow cursor-pointer">Production Networks</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1mpop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1mpop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="ABM 1" class="block break-words rounded py-2 grow cursor-pointer">ABM 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1upop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1upop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="ABM 2" class="block break-words rounded py-2 grow cursor-pointer">ABM 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R26pop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R26pop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Game Theory 1" class="block break-words rounded py-2 grow cursor-pointer">Game Theory 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2epop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2epop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Game Theory 2" class="block break-words rounded py-2 grow cursor-pointer">Game Theory 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2mpop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R2mpop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Agents 1" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Agents 1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R2upop:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R2upop:" class="pl-3 pr-[2px] collapsible-content"><a title="From Rule-Based to Learning Agents" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/l-a1-01-from-rule-based-to-learning-agents">From Rule-Based to Learning Agents</a><a title="Retrieval-Augmented Generation: Augmenting AI with External Knowledge" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/l-a1-02-rag-pattern-augmented-knowledge">Retrieval-Augmented Generation: Augmenting AI with External Knowledge</a><a title="Multi-Agent Conversations and Emergent Collaboration" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/l-a1-03-multi-agent-conversations">Multi-Agent Conversations and Emergent Collaboration</a></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Agents 2" class="block break-words rounded py-2 grow cursor-pointer">Agents 2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R36pop:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R36pop:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8u8p:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Retrieval-Augmented Generation: Augmenting AI with External Knowledge</h1><header class="mt-4 not-prose"><div class="grid grid-cols-1 sm:grid-cols-2 gap-y-1"><div><span class="font-semibold text-sm"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2t8u8p:" data-state="closed">Spencer Lyon</button><a class="ml-1" href="mailto:spencer.lyon@ucf.edu" title="Spencer Lyon &lt;spencer.lyon@ucf.edu&gt;" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-blue-400"><path d="M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"></path><path d="M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"></path></svg></a><a class="ml-1" href="https://orcid.org/0009-0001-6461-885X" title="ORCID: 0009-0001-6461-885X" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1rem" height="1rem" class="inline-block text-gray-400 -translate-y-[0.1em] hover:text-[#A9C751]"><path d="M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"></path></svg></a></span></div><div class="text-sm"><div>University of Central Florida<!-- --> </div><div>Valorum Data<!-- --> </div></div></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="gUBZpMXJeY" class="relative group/block"><blockquote><p>Computational Analysis of Social Complexity</p><p>Fall 2025, Spencer Lyon</p></blockquote><p><strong>Prerequisites</strong></p><ul><li>L.A1.01 (LLMs and API calls)</li><li>Basic understanding of vector spaces</li><li>Networks concepts (Weeks 3-5)</li></ul><p><strong>Required Julia Packages</strong></p><p>Install the following packages if you haven’t already:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">using Pkg
Pkg.add([&quot;HTTP&quot;, &quot;JSON3&quot;, &quot;DotEnv&quot;, &quot;LinearAlgebra&quot;, &quot;DataFrames&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p><strong>Outcomes</strong></p><ul><li>Understand the limitations of parametric knowledge in LLMs</li><li>Implement a complete Retrieval-Augmented Generation (RAG) system</li><li>Work with embeddings and perform vector similarity search</li><li>Design knowledge bases for domain-specific AI applications</li><li>Analyze trade-offs between parametric and retrieval-based knowledge</li></ul><p><strong>References</strong></p><ul><li>Lewis et al. (2020) “Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks” <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/2005.11401" class="">arXiv:2005.11401</a></li><li>Gao et al. (2023) “Retrieval-Augmented Generation for Large Language Models: A Survey” <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/2312.10997" class="">arXiv:2312.10997</a></li><li>OpenAI Embeddings Documentation: <a target="_blank" rel="noreferrer" href="https://platform.openai.com/docs/guides/embeddings" class="">https://<wbr/>platform<wbr/>.openai<wbr/>.com<wbr/>/docs<wbr/>/guides<wbr/>/embeddings</a></li><li>OpenAI Responses API Quickstart: <a target="_blank" rel="noreferrer" href="https://platform.openai.com/docs/quickstart?api-mode=responses" class="">https://<wbr/>platform<wbr/>.openai<wbr/>.com<wbr/>/docs<wbr/>/quickstart<wbr/>?api<wbr/>-mode<wbr/>=<wbr/>responses</a></li><li>Anthropic Context Window Documentation: <a target="_blank" rel="noreferrer" href="https://docs.anthropic.com/claude/docs/models-overview" class="">https://<wbr/>docs<wbr/>.anthropic<wbr/>.com<wbr/>/claude<wbr/>/docs<wbr/>/models<wbr/>-overview</a></li></ul></div><div id="qcol90ulOH" class="relative group/block"><h2 id="the-knowledge-problem" class="relative group"><span class="heading-text">The Knowledge Problem</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-knowledge-problem" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li>In the previous lecture we learned how to interact with LLMs via API calls</li><li>We saw that these models can be remarkably helpful for various tasks</li><li>However, LLMs have a fundamental limitation: they only “know” what was in their training data</li><li>This creates several problems that we’ll explore now</li></ul></div><div id="QbD3FHVAR8" class="relative group/block"><h3 id="problem-1-knowledge-cutoffs" class="relative group"><span class="heading-text">Problem 1: Knowledge Cutoffs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#problem-1-knowledge-cutoffs" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>LLMs are trained on data collected up to a specific date</li><li>For example, GPT-4 (original) had a knowledge cutoff of September 2021</li><li>Claude 3.5 Sonnet has a knowledge cutoff of April 2024</li><li>Any events, research, or information after the cutoff date is unknown to the model</li><li>This means:<ul><li>Can’t answer questions about recent events</li><li>Doesn’t know about new research papers or discoveries</li><li>Unaware of updated statistics or data</li></ul></li></ul><p><strong>Example</strong>: If you ask GPT-4 (original) about a paper published in 2023, it will either say it doesn’t know or worse, hallucinate details about a paper it has never seen.</p></div><div id="CEeNuVc6IB" class="relative group/block"><h3 id="problem-2-hallucination" class="relative group"><span class="heading-text">Problem 2: Hallucination</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#problem-2-hallucination" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>LLMs are trained to generate plausible-sounding text</li><li>When asked about something they don’t know, they often <strong>hallucinate</strong>: generate confident-sounding but factually incorrect information</li><li>This is particularly dangerous because:<ul><li>The model sounds authoritative</li><li>Users may not realize the information is false</li><li>The hallucinated content can include fake citations, statistics, or facts</li></ul></li></ul><p><strong>Example</strong>: Ask an LLM about a research paper that doesn’t exist. It might generate a plausible abstract, author names, and even “key findings” - all completely fabricated.</p></div><div id="Ttb5ZQTD4w" class="relative group/block"><h3 id="problem-3-domain-specific-knowledge" class="relative group"><span class="heading-text">Problem 3: Domain-Specific Knowledge</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#problem-3-domain-specific-knowledge" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Even within their training data, LLMs have uneven knowledge</li><li>Some domains are well-represented in training data (e.g., popular programming languages)</li><li>Others are sparse (e.g., specialized academic subfields, proprietary company data)</li><li>For your organization’s specific documents, data, or knowledge base, the LLM knows nothing</li></ul><p><strong>Example</strong>: You want an AI assistant to help with your company’s internal policies, product documentation, or research papers. The LLM has never seen these documents.</p></div><div id="d1XOXdDkHi" class="relative group/block"><h3 id="connection-to-network-information-flow" class="relative group"><span class="heading-text">Connection to Network Information Flow</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#connection-to-network-information-flow" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Recall from Weeks 3-4 our study of information diffusion in networks</li><li>We saw how information flows through network structures</li><li>Key insight: <strong>who you’re connected to determines what information you can access</strong></li><li>LLMs face a similar problem:<ul><li>Their “connections” are frozen at training time</li><li>They can’t access new information sources</li><li>They can’t form new “edges” to external knowledge</li></ul></li><li>RAG solves this by creating a <strong>dynamic connection</strong> between the LLM and external knowledge sources</li><li>Think of RAG as giving the LLM the ability to form new edges in the information network on-demand</li></ul></div><div id="oPO5X6IbyL" class="relative group/block"><h3 id="the-solution-retrieval-augmented-generation" class="relative group"><span class="heading-text">The Solution: Retrieval-Augmented Generation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-solution-retrieval-augmented-generation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Instead of relying solely on parametric knowledge (what’s encoded in model weights), we can augment the LLM with <strong>retrieval</strong></li><li>Basic idea:<ol start="1"><li>User asks a question</li><li>Search a knowledge base for relevant information</li><li>Provide that information to the LLM as context</li><li>LLM generates answer based on retrieved information</li></ol></li><li>This approach:<ul><li>Eliminates knowledge cutoff problem (use up-to-date sources)</li><li>Reduces hallucination (model works from provided facts)</li><li>Enables domain-specific applications (use your own documents)</li><li>Provides citations (you know which documents were used)</li></ul></li></ul></div><div id="lOmU5BQGGn" class="relative group/block"><h2 id="embeddings-representing-meaning-as-vectors" class="relative group"><span class="heading-text">Embeddings: Representing Meaning as Vectors</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#embeddings-representing-meaning-as-vectors" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li>To implement retrieval, we need to search for relevant documents</li><li>But how do we determine if a document is relevant to a query?</li><li>The key innovation: <strong>embeddings</strong> - representations of text as high-dimensional vectors</li><li>Embeddings capture semantic meaning: similar meanings → similar vectors</li></ul></div><div id="w3VjGA3EAm" class="relative group/block"><h3 id="what-are-embeddings" class="relative group"><span class="heading-text">What are Embeddings?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-are-embeddings" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>An embedding is a function <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mtext>Text</mtext><mo>→</mo><msup><mi mathvariant="double-struck">R</mi><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">f: \text{Text} \rightarrow \mathbb{R}^d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">Text</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span></span> that maps text to a d-dimensional vector</li><li>Typically <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span></span> ranges from 384 to 3072 dimensions</li><li>Key property: texts with similar meanings have similar embeddings (vectors close together in vector space)</li></ul><p><strong>Intuition</strong>: Think of each dimension as capturing some aspect of meaning</p><ul><li>One dimension might capture “technical vs casual”</li><li>Another might capture “positive vs negative sentiment”</li><li>Another might capture “about networks vs about game theory”</li><li>With hundreds or thousands of dimensions, we can capture nuanced semantic relationships</li></ul></div><div id="ZvTXDQkaRe" class="relative group/block"><h3 id="example-word-analogies" class="relative group"><span class="heading-text">Example: Word Analogies</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#example-word-analogies" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>One famous property of embeddings is that they capture relational meaning:</p><div id="vCTi7tBEZh" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>embedding</mtext><mo stretchy="false">(</mo><mtext>&quot;king&quot;</mtext><mo stretchy="false">)</mo><mo>−</mo><mtext>embedding</mtext><mo stretchy="false">(</mo><mtext>&quot;man&quot;</mtext><mo stretchy="false">)</mo><mo>+</mo><mtext>embedding</mtext><mo stretchy="false">(</mo><mtext>&quot;woman&quot;</mtext><mo stretchy="false">)</mo><mo>≈</mo><mtext>embedding</mtext><mo stretchy="false">(</mo><mtext>&quot;queen&quot;</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{embedding}(\text{&quot;king&quot;}) - \text{embedding}(\text{&quot;man&quot;}) + \text{embedding}(\text{&quot;woman&quot;}) \approx \text{embedding}(\text{&quot;queen&quot;})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">embedding</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">&quot;king&quot;</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">embedding</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">&quot;man&quot;</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">embedding</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">&quot;woman&quot;</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">embedding</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">&quot;queen&quot;</span></span><span class="mclose">)</span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#vCTi7tBEZh" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->1<!-- -->)</a></div></div><p>This works because the embedding space organizes concepts by their relationships:</p><ul><li>The vector from “man” to “king” represents “royalty”</li><li>Adding that same vector to “woman” gives you something close to “queen”</li></ul><p>Similar patterns work for other relationships:</p><ul><li>Paris - France + Germany ≈ Berlin</li><li>Walking - Walked + Swimming ≈ Swam</li></ul></div><div id="mCkIrrd9k5" class="relative group/block"><h3 id="measuring-similarity-cosine-similarity" class="relative group"><span class="heading-text">Measuring Similarity: Cosine Similarity</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#measuring-similarity-cosine-similarity" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Once we have embeddings, we need a way to measure similarity between vectors</li><li>The most common metric is <strong>cosine similarity</strong></li><li>For two vectors <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">a</mi></mrow><annotation encoding="application/x-tex">\mathbf{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"></span><span class="mord mathbf">a</span></span></span></span></span> and <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">b</mi></mrow><annotation encoding="application/x-tex">\mathbf{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">b</span></span></span></span></span>:</li></ul><div id="sGwTxoKebT" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>cosine_similarity</mtext><mo stretchy="false">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><mi mathvariant="bold">b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">b</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi mathvariant="bold">a</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mtext> </mtext><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi mathvariant="bold">b</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></munderover><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></munderover><msubsup><mi>a</mi><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>d</mi></munderover><msubsup><mi>b</mi><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{cosine\_similarity}(\mathbf{a}, \mathbf{b}) = \frac{\mathbf{a} \cdot \mathbf{b}}{||\mathbf{a}|| \, ||\mathbf{b}||} = \frac{\sum_{i=1}^d a_i b_i}{\sqrt{\sum_{i=1}^d a_i^2} \sqrt{\sum_{i=1}^d b_i^2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord text"><span class="mord">cosine_similarity</span></span><span class="mopen">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣∣</span><span class="mord mathbf">a</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣∣</span><span class="mord mathbf">b</span><span class="mord">∣∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbf">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.4087em;vertical-align:-1.73em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6787em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.3296em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3296em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.989em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.2896em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5104em;"><span></span></span></span></span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3296em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.989em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.2896em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5104em;"><span></span></span></span></span></span></span></span><span style="top:-3.5596em;"><span class="pstrut" style="height:3.3296em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.0194em;"><span class="pstrut" style="height:3.3296em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.989em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.73em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#sGwTxoKebT" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->2<!-- -->)</a></div></div><ul><li>Returns a value between -1 and 1<ul><li>1: vectors point in same direction (very similar)</li><li>0: vectors are orthogonal (unrelated)</li><li>-1: vectors point in opposite directions (opposite meaning)</li></ul></li><li>Why cosine and not Euclidean distance?<ul><li>Cosine measures angle, not magnitude</li><li>Makes sense for text: a longer document isn’t necessarily “farther” in meaning</li><li>Embedding models are typically optimized for cosine similarity</li></ul></li></ul></div><div id="OmBASfN6cD" class="relative group/block"><h3 id="creating-embeddings-with-openai" class="relative group"><span class="heading-text">Creating Embeddings with OpenAI</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#creating-embeddings-with-openai" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s see how to create embeddings using OpenAI’s API.</p><p><strong>Setup</strong>: Before running the code below, make sure you have a <code>.env</code> file in your working directory with your OpenAI API key:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">OPENAI_API_KEY=sk-your-api-key-here</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The <code>DotEnv</code> package will automatically load these environment variables from the <code>.env</code> file.</p></div><div id="LpyQsUpXEK" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">using HTTP, JSON3, DotEnv

# Load environment variables from .env file
DotEnv.load!()

# Load API key from environment
OPENAI_API_KEY = ENV[&quot;OPENAI_API_KEY&quot;]

function get_embedding(text::String; model=&quot;text-embedding-3-small&quot;)
    &quot;&quot;&quot;
    Get embedding vector for input text using OpenAI&#x27;s API

    Args:
        text: Input text to embed
        model: Embedding model to use (default: text-embedding-3-small)

    Returns:
        Vector of floats representing the embedding
    &quot;&quot;&quot;
    url = &quot;https://api.openai.com/v1/embeddings&quot;

    headers = [
        &quot;Authorization&quot; =&gt; &quot;Bearer $(OPENAI_API_KEY)&quot;,
        &quot;Content-Type&quot; =&gt; &quot;application/json&quot;
    ]

    body = JSON3.write(Dict(
        &quot;input&quot; =&gt; text,
        &quot;model&quot; =&gt; model
    ))

    response = HTTP.post(url, headers, body)
    result = JSON3.read(String(response.body))

    return Vector(result.data[1].embedding)
end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="CUDYjsgRN-JBcCSo6ZaLz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>get_embedding (generic function with 1 method)</span></code></div></div></div><div id="xvXfLk319c" class="relative group/block"><p>Let’s test this with some network-related concepts:</p></div><div id="t9gN5H5vQO" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Embed some network-related texts
texts = [
    &quot;Graph theory studies the mathematical structure of networks&quot;,
    &quot;The clustering coefficient measures the tendency of nodes to form triangles&quot;,
    &quot;Preferential attachment leads to power law degree distributions&quot;,
    &quot;I enjoy eating pizza with extra cheese&quot;
]

embeddings = [get_embedding(text) for text in texts]

println(&quot;Embedding dimension: &quot;, length(embeddings[1]))
println(&quot;First few values of first embedding: &quot;, embeddings[1][1:5])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="x0rwd-Qf3hDrytX-FIE3e" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Embedding dimension: 1536
First few values of first embedding: [-0.059553657, -0.029068848, 0.023821464, -0.023550766, -0.0076992884]
</span></code></pre></div></div></div><div id="GDrZNFwHJ2" class="relative group/block"><p>Now let’s compute cosine similarity between these texts:</p></div><div id="sNldRGkWlm" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">using LinearAlgebra

function cosine_similarity(a::Vector{Float64}, b::Vector{Float64})
    &quot;&quot;&quot;
    Compute cosine similarity between two vectors
    &quot;&quot;&quot;
    return dot(a, b) / (norm(a) * norm(b))
end

# Compare first text (graph theory) to all others
println(&quot;Similarities to: &#x27;&quot;, texts[1], &quot;&#x27;\n&quot;)
for (i, text) in enumerate(texts)
    sim = cosine_similarity(embeddings[1], embeddings[i])
    println(&quot;Text $i ($(text[1:min(40, end)])...): $(round(sim, digits=4))&quot;)
end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="h5Vi_O8a3NRAaZ8W2vXmJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Similarities to: &#x27;Graph theory studies the mathematical structure of networks&#x27;

Text 1 (Graph theory studies the mathematical st...): 1.0
Text 2 (The clustering coefficient measures the ...): 0.3744
Text 3 (Preferential attachment leads to power l...): 0.4689
Text 4 (I enjoy eating pizza with extra cheese...): 0.0422
</span></code></pre></div></div></div><div id="GM0k59949L" class="relative group/block"><p><strong>What do we see?</strong></p><ul><li>The first three texts (all about networks) have high similarity to each other (typically &gt; 0.7)</li><li>The pizza text has low similarity to the network texts (typically &lt; 0.5)</li><li>This demonstrates that embeddings capture semantic meaning</li><li>Texts about similar topics cluster together in the embedding space</li></ul></div><div id="jqTqSZdDG6" class="relative group/block"><h3 id="exercise-1-exploring-embeddings" class="relative group"><span class="heading-text">Exercise 1: Exploring Embeddings</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-1-exploring-embeddings" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Create embeddings for the following texts and compute their pairwise similarities:</p><ol start="1"><li>“Nash equilibrium is a solution concept in game theory”</li><li>“Players choose strategies to maximize their payoffs”</li><li>“Agent-based models simulate individual decision makers”</li><li>“The weather today is sunny and warm”</li></ol><p>Questions:</p><ul><li>Which pairs of texts have the highest similarity?</li><li>Does the game theory text have higher similarity to the ABM text or the weather text? Why?</li><li>What does this tell you about how embeddings capture domain knowledge?</li></ul></div><div id="ojx2j2tQuX" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># TODO: your code here</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="TgKiQI2_elACUpG5B8-Im" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oDAlNdqAA7" class="relative group/block"><h2 id="building-a-rag-pipeline" class="relative group"><span class="heading-text">Building a RAG Pipeline</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#building-a-rag-pipeline" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li>Now that we understand embeddings, we can build a complete RAG system</li><li>A RAG pipeline has four main stages:<ol start="1"><li><strong>Chunking</strong>: Break documents into manageable pieces</li><li><strong>Embedding</strong>: Convert chunks to vectors and store them</li><li><strong>Retrieval</strong>: Find most relevant chunks for a query</li><li><strong>Generation</strong>: Use LLM to answer query with retrieved context</li></ol></li></ul><p>Let’s build each component step by step.</p></div><div id="dSlADhcJaA" class="relative group/block"><h3 id="stage-1-chunking" class="relative group"><span class="heading-text">Stage 1: Chunking</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#stage-1-chunking" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Most documents are too long to embed as a single unit</li><li>We need to break them into <strong>chunks</strong> - smaller, semantically meaningful pieces</li><li>Typical chunk sizes: 100-500 words or 400-2000 characters</li></ul><p><strong>Why chunk?</strong></p><ul><li>Embeddings work best on focused, coherent pieces of text</li><li>Enables fine-grained retrieval (find specific relevant paragraphs, not whole documents)</li><li>Fits within LLM context limits (we can only inject so much context)</li></ul><p><strong>Chunking strategies</strong>:</p><ol start="1"><li>Fixed size: Every N characters or words</li><li>Natural boundaries: By paragraph, section, or sentence</li><li>Semantic: Using embeddings to identify topic shifts</li></ol><p>For this lecture, we’ll use a simple paragraph-based chunking:</p></div><div id="SsjpWnfycc" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">function chunk_text(text::String; max_chunk_size::Int=1000, overlap::Int=100)
    &quot;&quot;&quot;
    Split text into overlapping chunks

    Args:
        text: Input text to chunk
        max_chunk_size: Maximum characters per chunk
        overlap: Number of characters to overlap between chunks

    Returns:
        Vector of text chunks
    &quot;&quot;&quot;
    # Split by paragraphs first (double newline)
    paragraphs = split(text, &quot;\n\n&quot;)

    chunks = String[]
    current_chunk = &quot;&quot;

    for para in paragraphs
        # If adding this paragraph would exceed max size, save current chunk
        if length(current_chunk) + length(para) &gt; max_chunk_size &amp;&amp; !isempty(current_chunk)
            push!(chunks, strip(current_chunk))
            # Start new chunk with overlap from previous
            current_chunk = current_chunk[max(1, end-overlap):end]
        end

        current_chunk *= para * &quot;\n\n&quot;
    end

    # Don&#x27;t forget last chunk
    if !isempty(strip(current_chunk))
        push!(chunks, strip(current_chunk))
    end

    return chunks
end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="RQdOx15H6AUjI-Qtv0Djp" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>chunk_text (generic function with 1 method)</span></code></div></div></div><div id="YN9QcpXllz" class="relative group/block"><h3 id="stage-2-vector-database" class="relative group"><span class="heading-text">Stage 2: Vector Database</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#stage-2-vector-database" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Once we have chunks and embeddings, we need to store them efficiently</li><li>A <strong>vector database</strong> stores embeddings and enables fast similarity search</li><li>For this lecture, we’ll build a simple in-memory vector store</li><li>Production systems typically use specialized vector databases like:<ul><li>Pinecone</li><li>Weaviate</li><li>Qdrant</li><li>Chroma</li><li>pgvector (PostgreSQL extension)</li></ul></li></ul></div><div id="yleTEAySOh" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">using DataFrames

mutable struct VectorStore
    documents::Vector{String}          # Original text chunks
    embeddings::Vector{Vector{Float64}}  # Corresponding embeddings
    metadata::Vector{Dict{String, Any}}  # Optional metadata (source, page, etc.)
end

# Constructor for empty store
VectorStore() = VectorStore(String[], Vector{Float64}[], Dict{String, Any}[])

function add_documents!(store::VectorStore, docs::Vector{String}; metadata=nothing)
    &quot;&quot;&quot;
    Add documents to the vector store by computing and storing their embeddings
    &quot;&quot;&quot;
    println(&quot;Embedding $(length(docs)) documents...&quot;)

    for (i, doc) in enumerate(docs)
        # Get embedding
        emb = get_embedding(doc)

        # Store document, embedding, and metadata
        push!(store.documents, doc)
        push!(store.embeddings, emb)

        if metadata !== nothing &amp;&amp; i &lt;= length(metadata)
            push!(store.metadata, metadata[i])
        else
            push!(store.metadata, Dict(&quot;index&quot; =&gt; i))
        end

        if i % 10 == 0
            println(&quot;  Processed $i/$(length(docs))...&quot;)
        end
    end

    println(&quot;Done! Store now contains $(length(store.documents)) documents.&quot;)
end

function search(store::VectorStore, query::String; top_k::Int=5)
    &quot;&quot;&quot;
    Search for most similar documents to query

    Args:
        store: Vector store to search
        query: Search query text
        top_k: Number of results to return

    Returns:
        DataFrame with columns: rank, document, similarity, metadata
    &quot;&quot;&quot;
    # Embed the query
    query_emb = get_embedding(query)

    # Compute similarities to all documents
    similarities = [cosine_similarity(query_emb, doc_emb) for doc_emb in store.embeddings]

    # Get top k indices
    top_indices = partialsortperm(similarities, 1:min(top_k, length(similarities)), rev=true)

    # Build result dataframe
    results = DataFrame(
        rank = 1:length(top_indices),
        document = store.documents[top_indices],
        similarity = similarities[top_indices],
        metadata = store.metadata[top_indices]
    )

    return results
end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MvQPWnEudMywMyArGcDR7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>search (generic function with 1 method)</span></code></div></div></div><div id="t1e9g3TNQO" class="relative group/block"><h3 id="stage-3-4-retrieval-and-generation" class="relative group"><span class="heading-text">Stage 3 &amp; 4: Retrieval and Generation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#stage-3-4-retrieval-and-generation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li>Now we can combine retrieval with LLM generation</li><li>The key is to inject retrieved documents into the LLM’s context</li><li>We’ll create a function that:<ol start="1"><li>Takes a user query</li><li>Retrieves relevant chunks from vector store</li><li>Constructs instructions with retrieved context</li><li>Sends to LLM via OpenAI’s Responses API for final answer</li></ol></li></ul><p><strong>Note</strong>: We’re using OpenAI’s Responses API (<code>/v1/responses</code>) which is the modern successor to the Chat Completions API. The Responses API uses <code>instructions</code> for system-level guidance and <code>input</code> for user queries, providing a cleaner interface for stateful interactions.</p></div><div id="S3MZym5XXh" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">function rag_query(store::VectorStore, query::String; top_k::Int=3, model::String=&quot;gpt-5&quot;)
    &quot;&quot;&quot;
    Answer a query using RAG: retrieve relevant docs, then generate answer

    Args:
        store: Vector store containing knowledge base
        query: User&#x27;s question
        top_k: Number of documents to retrieve
        model: OpenAI model to use for generation (default: gpt-5)

    Returns:
        Generated answer and retrieved documents
    &quot;&quot;&quot;
    # Step 1: Retrieve relevant documents
    results = search(store, query; top_k=top_k)

    # Step 2: Construct context from retrieved documents
    context = &quot;&quot;
    for i in 1:nrow(results)
        context *= &quot;Document $i:\n$(results.document[i])\n\n&quot;
    end

    # Step 3: Build instructions with context
    instructions = &quot;&quot;&quot;
    You are a helpful assistant that answers questions based on provided context.
    Use the context below to answer the user&#x27;s question. If the context doesn&#x27;t
    contain enough information to answer the question, say so - do not make up information.

    Context:
    $(context)
    &quot;&quot;&quot;

    # Step 4: Call LLM using Responses API
    response = call_gpt(
        query;
        instructions=instructions,
        model=model
    )

    return (answer=response, sources=results)
end

function call_gpt(input::String; instructions::String=&quot;&quot;, model::String=&quot;gpt-5-nano&quot;, reasoning_effort::String=&quot;low&quot;)
    url = &quot;https://api.openai.com/v1/responses&quot;

    # OPENAI_API_KEY should be loaded from ENV via DotEnv
    headers = [
        &quot;Authorization&quot; =&gt; &quot;Bearer $(ENV[&quot;OPENAI_API_KEY&quot;])&quot;,
        &quot;Content-Type&quot; =&gt; &quot;application/json&quot;
    ]

    # Build request body with Responses API format
    request_body = Dict(
        &quot;model&quot; =&gt; model,
        &quot;input&quot; =&gt; input,
        &quot;reasoning&quot; =&gt; Dict(&quot;effort&quot; =&gt; reasoning_effort)
    )

    # Add instructions if provided
    if !isempty(instructions)
        request_body[&quot;instructions&quot;] = instructions
    end

    body = JSON3.write(request_body)

    response = HTTP.post(url, headers, body)
    result = JSON3.read(String(response.body))

    # NOTE: result.output is an array that can have multiple items. We are assuming a simple case here...
    return result.output[end].content[1].text
end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="DFxx4JJBdgmhkbF8-zhCe" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>call_gpt (generic function with 1 method)</span></code></div></div></div><div id="HUf5mKDS4t" class="relative group/block"><h2 id="application-network-analysis-assistant" class="relative group"><span class="heading-text">Application: Network Analysis Assistant</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#application-network-analysis-assistant" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li>Let’s build a practical RAG application: an AI assistant for graph theory and network analysis</li><li>We’ll create a knowledge base from summaries of key network concepts</li><li>This assistant will be able to answer questions about network theory using retrieved information</li><li>In a real application, you would load actual research papers, textbooks, or documentation</li></ul></div><div id="rebfvFB0bT" class="relative group/block"><h3 id="building-the-knowledge-base" class="relative group"><span class="heading-text">Building the Knowledge Base</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#building-the-knowledge-base" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s create a knowledge base with information about graph theory and network analysis:</p></div><div id="RyG0ZC0Q4x" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Sample documents about network analysis
# In practice, you would load these from files, scrape papers, etc.
network_docs = [
    &quot;&quot;&quot;
    Clustering Coefficient

    The clustering coefficient measures the degree to which nodes in a graph tend to
    cluster together. For a given node, it is defined as the proportion of connections
    between the node&#x27;s neighbors which are also connected to each other.

    Formally, for node i with degree k_i, if there are E_i edges between its neighbors,
    the local clustering coefficient is C_i = 2*E_i / (k_i * (k_i - 1)).

    The global clustering coefficient averages this measure across all nodes. High
    clustering coefficients are characteristic of social networks and indicate the
    presence of tightly-knit communities.
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Preferential Attachment and Scale-Free Networks

    Preferential attachment is a mechanism by which networks grow over time. When a new
    node joins the network, it forms connections preferentially to nodes that already
    have many connections - the &quot;rich get richer&quot; phenomenon.

    The Barabási-Albert model (1999) demonstrated that preferential attachment leads to
    scale-free networks with power law degree distributions. In such networks, P(k) ~ k^(-γ)
    where γ is typically between 2 and 3.

    Scale-free networks are characterized by the presence of hubs - nodes with
    disproportionately high degree. Examples include the Internet, citation networks,
    and social media platforms.
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Small-World Networks

    Small-world networks, introduced by Watts and Strogatz (1998), exhibit two key properties:
    high clustering (like regular lattices) and short path lengths (like random graphs).

    The small-world phenomenon, popularly known as &quot;six degrees of separation,&quot; refers to
    the observation that most pairs of nodes in many real networks are connected by short
    paths, typically of length 6 or less.

    The Watts-Strogatz model generates small-world networks by starting with a ring lattice
    and randomly rewiring edges with some probability p. For intermediate values of p,
    the network maintains high clustering while gaining shortcuts that reduce path length.
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Centrality Measures

    Centrality measures identify the most important nodes in a network. Different
    centrality measures capture different notions of importance:

    1. Degree centrality: Simply counts the number of connections. High degree nodes
       are &quot;hubs&quot; that directly connect to many others.

    2. Betweenness centrality: Counts how often a node lies on shortest paths between
       other nodes. High betweenness nodes are &quot;bridges&quot; that control information flow.

    3. Closeness centrality: Measures the average distance from a node to all others.
       High closeness nodes can reach the network quickly.

    4. Eigenvector centrality: A node is important if it connects to other important
       nodes. This is the principle behind Google&#x27;s PageRank algorithm.
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Community Detection

    Community detection aims to identify groups of nodes that are more densely connected
    internally than to the rest of the network. Communities represent functional modules
    or social groups.

    The modularity measure quantifies the quality of a partition. For partition C,
    modularity Q = (1/2m) * Σ[A_ij - (k_i*k_j/2m)] * δ(c_i, c_j), where m is the total
    number of edges, A_ij is the adjacency matrix, and δ(c_i, c_j) = 1 if nodes i and j
    are in the same community.

    Popular algorithms include the Louvain method, which greedily optimizes modularity,
    and spectral methods based on the graph Laplacian. Community structure appears in
    social networks (friend groups), biological networks (protein complexes), and
    information networks (topic clusters).
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Network Resilience and Robustness

    Network resilience refers to a network&#x27;s ability to maintain functionality when nodes
    or edges are removed. This is crucial for infrastructure networks, communication systems,
    and biological systems.

    Scale-free networks exhibit a peculiar property: they are robust to random failures
    but vulnerable to targeted attacks. Removing random nodes has little effect because
    most nodes have low degree. However, removing hubs quickly fragments the network.

    The resilience of random graphs is more uniform - they handle both random and targeted
    removal similarly. Measuring resilience involves computing the size of the largest
    connected component as nodes are progressively removed.
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Network Formation and Strategic Link Formation

    In many contexts, network connections form through strategic decisions by self-interested
    agents. Game-theoretic models of network formation consider the costs and benefits of
    forming links.

    Jackson and Wolinsky (1996) introduced the concept of pairwise stability: a network is
    pairwise stable if no agent wants to sever a link and no pair of agents wants to form
    a new link.

    The tension between individual incentives and social welfare is central to network
    formation theory. The star network, where one central node connects to all others,
    often minimizes total distance (socially optimal) but may not be pairwise stable
    without appropriate transfer payments.
    &quot;&quot;&quot;,

    &quot;&quot;&quot;
    Information Diffusion and Cascades

    Information, behaviors, and innovations spread through networks via social influence.
    The threshold model (Granovetter, 1978) posits that individuals adopt a behavior when
    a threshold fraction of their neighbors have adopted it.

    A cascade occurs when an initial adoption by a few nodes triggers a chain reaction
    of adoptions throughout the network. Whether cascades occur depends on the distribution
    of thresholds and the network structure.

    Weak ties play a crucial role in diffusion (Granovetter, 1973). While strong ties
    create dense, clustered groups, weak ties serve as bridges between communities and
    enable information to reach new populations. This explains why job seekers often find
    opportunities through acquaintances rather than close friends.
    &quot;&quot;&quot;
]

println(&quot;Created knowledge base with $(length(network_docs)) documents&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kg5j7-u4aLkqLvT-GudLz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Created knowledge base with 8 documents
</span></code></pre></div></div></div><div id="YJxYVWXExv" class="relative group/block"><p>Now let’s create our vector store and add these documents:</p></div><div id="bSqa4BlReY" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Initialize vector store
network_store = VectorStore()

# Add documents to store (this will take a moment as we embed each document)
add_documents!(network_store, network_docs)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1u4TU8C-igfMj_cpfCl_S" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Embedding 8 documents...
Done! Store now contains 8 documents.
</span></code></pre></div></div></div><div id="Jvt4kDMnb1" class="relative group/block"><h3 id="testing-our-network-analysis-assistant" class="relative group"><span class="heading-text">Testing Our Network Analysis Assistant</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#testing-our-network-analysis-assistant" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s test our RAG system with some questions about networks:</p></div><div id="RdAnWL9PCJ" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Question 1: About clustering
q1 = &quot;What is the clustering coefficient and how is it calculated?&quot;
result1 = rag_query(network_store, q1)

println(&quot;Question: &quot;, q1)
println(&quot;\nAnswer:\n&quot;, result1.answer)
println(&quot;\n&quot; * &quot;=&quot;^80)
println(&quot;Top sources used:&quot;)
for i in 1:min(2, nrow(result1.sources))
    println(&quot;\n[$i] (similarity: $(round(result1.sources.similarity[i], digits=3)))&quot;)
    println(result1.sources.document[i][1:min(200, end)] * &quot;...&quot;)
end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="7qD7k06yY-zJ2ibx5GGRh" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Question: What is the clustering coefficient and how is it calculated?

Answer:
The clustering coefficient quantifies how much a node’s neighbors are connected to each other (how “clustered” they are).

- Local clustering coefficient for node i: C_i = 2*E_i / (k_i * (k_i - 1))
  - k_i: degree of node i (number of neighbors)
  - E_i: number of edges that actually exist between those neighbors
  - It measures the fraction of possible neighbor-to-neighbor links that are present.

- Global clustering coefficient: the average of the local clustering coefficients over all nodes.

High values indicate tightly knit groups, common in social networks.

================================================================================
Top sources used:

[1] (similarity: 0.765)
Clustering Coefficient

The clustering coefficient measures the degree to which nodes in a graph tend to
cluster together. For a given node, it is defined as the proportion of connections
between the ...

[2] (similarity: 0.416)
Community Detection

Community detection aims to identify groups of nodes that are more densely connected
internally than to the rest of the network. Communities represent functional modules
or social...
</span></code></pre></div></div></div><div id="Ob4yIGBzwT" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Question 2: About scale-free networks
q2 = &quot;Why are scale-free networks vulnerable to targeted attacks?&quot;
result2 = rag_query(network_store, q2)

println(&quot;Question: &quot;, q2)
println(&quot;\nAnswer:\n&quot;, result2.answer)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6bMAknAE0E3p1bauf7RfI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Question: Why are scale-free networks vulnerable to targeted attacks?

Answer:
Because scale-free networks rely on a few high-degree hubs to hold the network together. Targeted attacks that remove these hubs quickly fragment the network and shrink the largest connected component, causing a rapid loss of connectivity, even though random failures (which mostly hit low-degree nodes) have little effect.
</span></code></pre></div></div></div><div id="iwv1A62KGN" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Question 3: About weak ties
q3 = &quot;What role do weak ties play in information diffusion?&quot;
result3 = rag_query(network_store, q3)

println(&quot;Question: &quot;, q3)
println(&quot;\nAnswer:\n&quot;, result3.answer)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="tiTf3bALTy73bNXkrC-C4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Question: What role do weak ties play in information diffusion?

Answer:
Weak ties act as bridges between otherwise separate, densely clustered groups. By connecting different communities, they let information travel beyond local circles, reaching new populations and enabling broader cascades of adoption. This is why people often hear about job opportunities through acquaintances rather than close friends.
</span></code></pre></div></div></div><div id="sXrfYBO4zk" class="relative group/block"><h3 id="comparing-rag-vs-vanilla-llm" class="relative group"><span class="heading-text">Comparing RAG vs Vanilla LLM</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#comparing-rag-vs-vanilla-llm" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s demonstrate the value of RAG by comparing answers with and without retrieved context:</p></div><div id="Uvb8Rvk26u" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre">function vanilla_llm_query(query::String; model::String=&quot;gpt-5&quot;)
    &quot;&quot;&quot;
    Query LLM without RAG (no retrieved context)
    &quot;&quot;&quot;
    return call_gpt(
        query;
        instructions=&quot;You are a helpful assistant.&quot;,
        model=model
    )
end

# Ask a specific question that requires precise information
specific_q = &quot;What is the formula for local clustering coefficient in a graph?&quot;

println(&quot;Question: &quot;, specific_q)
println(&quot;\n&quot; * &quot;=&quot;^80)
println(&quot;Vanilla LLM Answer:&quot;)
println(vanilla_llm_query(specific_q))
println(&quot;\n&quot; * &quot;=&quot;^80)
println(&quot;RAG Answer:&quot;)
println(rag_query(network_store, specific_q).answer)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="SF4emsK803zT-i4AhJTKK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Question: What is the formula for local clustering coefficient in a graph?

================================================================================
Vanilla LLM Answer:
For an undirected, unweighted graph, the local clustering coefficient of a node v is:

C(v) = 2 e_v / [k_v (k_v − 1)]

- k_v = degree of v (number of neighbors)
- e_v = number of edges between neighbors of v (equivalently, number of triangles involving v)

By convention, C(v) = 0 if k_v &lt; 2.

Note (directed variant): For directed graphs, the maximal number of possible edges among neighbors is k_v (k_v − 1), so a common definition is C(v) = e_v / [k_v (k_v − 1)], where e_v counts directed edges among neighbors.

================================================================================
RAG Answer:
C_i = 2 E_i / [k_i (k_i − 1)], where k_i is the degree of node i and E_i is the number of edges between its neighbors.
</span></code></pre></div></div></div><div id="IR9I9rveWO" class="relative group/block"><p><strong>Observations:</strong></p><p>Both answers are likely correct (this is a well-known formula in the LLM’s training data). However:</p><ol start="1"><li><strong>With RAG</strong>, we know exactly where the answer came from (we can cite sources)</li><li><strong>With RAG</strong>, if we had proprietary or recent information, the LLM couldn’t answer without it</li><li><strong>With RAG</strong>, we can update knowledge without retraining the model</li></ol><p>Let’s test with a question the LLM definitely doesn’t know:</p></div><div id="Wz6976LTrY" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># Add a &quot;research paper&quot; about a fictional concept
fictional_doc = [&quot;&quot;&quot;
Recent work by Spencer Lyon (2025) introduced the concept of &quot;resonance centrality&quot;
for dynamic networks. Unlike traditional centrality measures which focus on static
network structure, resonance centrality captures how a node&#x27;s importance oscillates
over time due to feedback loops.

The resonance centrality R_i(t) for node i at time t is computed as:
R_i(t) = β * Σ_j A_ij(t) * R_j(t-1) + (1-β) * d_i(t)

where A_ij(t) is the time-varying adjacency matrix, d_i(t) is the degree at time t,
and β ∈ [0,1] controls the memory of past centrality.

Lyon showed that in social networks, nodes with high resonance centrality are often
&quot;trend catalysts&quot; - they don&#x27;t just spread information, but trigger cascades that
feed back to amplify their influence in subsequent time periods.
&quot;&quot;&quot;]

add_documents!(network_store, fictional_doc)

# Now ask about it
fictional_q = &quot;What is resonance centrality and how is it calculated?&quot;

println(&quot;Question: &quot;, fictional_q)
println(&quot;\n&quot; * &quot;=&quot;^80)
println(&quot;Vanilla LLM Answer:&quot;)
println(vanilla_llm_query(fictional_q))
println(&quot;\n&quot; * &quot;=&quot;^80)
println(&quot;RAG Answer:&quot;)
println(rag_query(network_store, fictional_q).answer)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MfXVg3pnXN11-gPYRG1aG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Embedding 1 documents...
Done! Store now contains 9 documents.
Question: What is resonance centrality and how is it calculated?

================================================================================
Vanilla LLM Answer:
Resonance centrality is a frequency-dependent notion of node importance for networks with dynamical processes. It ranks nodes by how strongly they respond to an oscillatory (periodic) input that propagates through the network dynamics. In other words, a node is “resonantly central” if the dynamics make it amplify signals at some frequency more than other nodes.

How it is defined (general idea)
- Choose a linear dynamical model on the network (first- or second-order), and a vector b describing which nodes are externally driven.
- Drive the system with a sinusoidal input u(t) = Re{u0 e^{iωt}}.
- Compute the steady-state frequency response (transfer function) from the input to each node. The magnitude of that response at node i is its frequency-dependent centrality gi(ω).
- Resonance centrality of node i is then taken as, e.g., the peak response maxω gi(ω) (and the corresponding ω is the node’s resonant frequency). Some variants use the squared magnitude or the area under the curve across ω.

Common formulations

1) First-order (diffusive/consensus-like) dynamics
- Dynamics: x′(t) = A x(t) + b u(t) with A stable (often A = −L for a Laplacian L of an undirected graph).
- Frequency response: H(ω) = (iωI − A)^{-1} b.
- Node-i response magnitude: gi(ω) = |ei^T H(ω)| = |[(iωI − A)^{-1} b]_i|.
- Resonance centrality (peak gain): Ri = maxω gi(ω).

Notes:
- If A = −L with L ≥ 0 (diffusion), the response typically peaks at low frequency (ω → 0). Then Ri ≈ |[L^† b]_i| (L^† is the Moore–Penrose pseudoinverse), so “resonance” reduces to a low-frequency (quasi-static) sensitivity, closely related to resistance-based measures.

2) Second-order (oscillator/inertial) dynamics
- Dynamics: M x″(t) + C x′(t) + K x(t) = b u(t), with M, C, K ≽ 0 (e.g., coupled oscillators, power grids).
- Dynamic stiffness: Z(ω) = K − ω^2 M + iω C.
- Frequency response: H(ω) = Z(ω)^{-1} b.
- Node-i response magnitude: gi(ω) = |ei^T H(ω)|.
- Resonance centrality: Ri = maxω gi(ω). True resonance peaks occur near the system’s natural frequencies (eigenvalues of (M, K) with damping from C).

Spectral form (useful for computation and insight)
- For first-order A diagonalizable: A = VΛV^{-1}, H(ω) = V (iωI − Λ)^{-1} V^{-1} b, so
  gi(ω) = |∑k (vik wk)/(iω − λk)|, where wk are components of V^{-1}b.
- Peaks occur where |iω − λk| is small and the mode k is excited (wk large) and observed at node i (vik large).

Practical computation
- Choose dynamics (A, or M, C, K) and the input profile b (uniform, single node, or application-specific).
- Pick a frequency grid ω ∈ [ωmin, ωmax] covering relevant dynamics (near natural frequencies if known).
- For each ω, solve a linear system:
  - First-order: y(ω) = (iωI − A)^{-1} b.
  - Second-order: y(ω) = (K − ω^2 M + iω C)^{-1} b.
- Take gi(ω) = |y_i(ω)|. Define Ri = maxω gi(ω) (and optionally record the argmax for the resonant frequency).
- Variants: use squared magnitude, L2 norm over frequencies ∫ gi(ω)^2 dω, or multiple input profiles and average.

Connections to other centralities
- Setting ω = 0 in first-order systems recovers static sensitivity measures linked to resistance distance and current-flow centralities.
- Evaluating (sI − A)^{-1} at complex s relates resonance centrality to resolvent/Katz-type centralities; resonance centrality is the frequency-response version (s on the imaginary axis).

In short: resonance centrality is the node-wise peak (or frequency-shaped) gain of the network’s transfer function under oscillatory driving, computed via inverses of (iωI − A) for first-order or of dynamic stiffness matrices for second-order dynamics.

================================================================================
RAG Answer:
Resonance centrality is a dynamic-network centrality measure that captures how a node’s importance oscillates over time due to feedback loops. It emphasizes not just current connections but how past influence reverberates and amplifies across time.

Calculation:
For node i at time t:
R_i(t) = β * Σ_j A_ij(t) * R_j(t−1) + (1 − β) * d_i(t)

- A_ij(t): time-varying adjacency (connection from j to i at time t)
- R_j(t−1): resonance centrality of node j at the previous time step
- d_i(t): degree of node i at time t
- β ∈ [0,1]: memory parameter controlling how much past centrality influences the present

Interpretation:
- Higher β gives more weight to past influence propagating through the network (feedback).
- Lower β leans more on the node’s current degree.
In social networks, nodes with high resonance centrality tend to be “trend catalysts” that trigger cascades which amplify their future influence.
</span></code></pre></div></div></div><div id="jcTvUgIaYR" class="relative group/block"><p><strong>What happened?</strong></p><ul><li>The vanilla LLM either says it doesn’t know, or <strong>hallucinates</strong> a plausible-sounding definition</li><li>The RAG system correctly retrieves and uses our fictional paper</li><li>This demonstrates how RAG enables working with proprietary, recent, or domain-specific knowledge</li></ul></div><div id="vmGDBZiD5A" class="relative group/block"><h2 id="trade-offs-and-design-considerations" class="relative group"><span class="heading-text">Trade-offs and Design Considerations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#trade-offs-and-design-considerations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now that we’ve built a working RAG system, let’s discuss key design decisions and trade-offs.</p></div><div id="kF4dZbb1Em" class="relative group/block"><h3 id="parametric-vs-retrieval-based-knowledge" class="relative group"><span class="heading-text">Parametric vs Retrieval-Based Knowledge</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#parametric-vs-retrieval-based-knowledge" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Parametric Knowledge</strong> (in model weights):</p><ul><li>Pros:<ul><li>Fast: no need to search external sources</li><li>Synthesizes information from vast training corpus</li><li>Good for general knowledge and reasoning</li></ul></li><li>Cons:<ul><li>Fixed at training time</li><li>Can’t update without retraining</li><li>May hallucinate when uncertain</li><li>No citations or provenance</li></ul></li></ul><p><strong>Retrieval-Based Knowledge</strong> (via RAG):</p><ul><li>Pros:<ul><li>Can use up-to-date information</li><li>Access to proprietary/specialized knowledge</li><li>Provides citations and sources</li><li>Reduces hallucination</li><li>Updates without retraining</li></ul></li><li>Cons:<ul><li>Slower (requires retrieval step)</li><li>Quality depends on retrieval accuracy</li><li>Requires maintaining vector database</li><li>May miss information requiring synthesis across many sources</li></ul></li></ul></div><div id="fUWYwgDXor" class="relative group/block"><h3 id="key-design-decisions" class="relative group"><span class="heading-text">Key Design Decisions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#key-design-decisions" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>1. Chunk Size</strong></p><ul><li>Smaller chunks (100-200 words):<ul><li>More precise retrieval</li><li>Better for question answering</li><li>May lose context across chunk boundaries</li></ul></li><li>Larger chunks (500-1000 words):<ul><li>Preserve more context</li><li>Better for complex reasoning</li><li>May include irrelevant information</li></ul></li></ul><p><strong>2. Number of Retrieved Documents (top_k)</strong></p><ul><li>Few documents (k=1-3):<ul><li>Focuses on most relevant information</li><li>Faster, uses less context window</li><li>May miss important information</li></ul></li><li>Many documents (k=5-10):<ul><li>More comprehensive context</li><li>Better for complex queries</li><li>May include noise, uses more tokens</li></ul></li></ul><p><strong>3. Embedding Model</strong></p><ul><li>Smaller models (text-embedding-3-small: 512-1536 dims):<ul><li>Faster embedding and search</li><li>Lower cost</li><li>Slightly lower quality</li></ul></li><li>Larger models (text-embedding-3-large: 3072 dims):<ul><li>Better semantic understanding</li><li>More accurate retrieval</li><li>Higher cost and latency</li></ul></li></ul></div><div id="JFZsNTodjd" class="relative group/block"><h3 id="advanced-rag-techniques" class="relative group"><span class="heading-text">Advanced RAG Techniques</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#advanced-rag-techniques" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Our implementation is a basic RAG pipeline. Production systems often use:</p><p><strong>1. Hybrid Search</strong></p><ul><li>Combine vector similarity with keyword search (BM25)</li><li>Leverages both semantic and lexical matching</li><li>More robust to different query types</li></ul><p><strong>2. Re-ranking</strong></p><ul><li>Use a separate model to re-rank retrieved results</li><li>Can consider query-document interaction more deeply</li><li>Improves precision of top results</li></ul><p><strong>3. Query Expansion</strong></p><ul><li>Generate multiple variations of user query</li><li>Search with all variations</li><li>Helps with vocabulary mismatch between query and documents</li></ul><p><strong>4. Hierarchical Retrieval</strong></p><ul><li>First retrieve at document level</li><li>Then retrieve specific passages within those documents</li><li>Balances context and precision</li></ul><p><strong>5. Iterative RAG</strong></p><ul><li>Let LLM decide what to retrieve next</li><li>Multiple retrieval rounds</li><li>Better for complex, multi-hop reasoning</li></ul></div><div id="x8Yj9DvYwl" class="relative group/block"><h3 id="connection-to-course-themes" class="relative group"><span class="heading-text">Connection to Course Themes</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#connection-to-course-themes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>RAG systems connect to several course concepts:</p><p><strong>Networks and Information Flow</strong></p><ul><li>RAG creates edges from LLM to knowledge sources</li><li>Quality of answer depends on network structure (which documents are connected via similarity)</li><li>Similar to how social network structure affects information diffusion</li></ul><p><strong>Game Theory and Mechanism Design</strong></p><ul><li>In multi-agent RAG systems, agents must decide what information to share</li><li>Strategic information retrieval: costly to retrieve everything, must be selective</li><li>Related to costly network formation from our game theory module</li></ul><p><strong>Agent-Based Modeling</strong></p><ul><li>Can model RAG systems as agents with retrieval actions</li><li>Environment is the knowledge base</li><li>Rules govern when to retrieve, what to retrieve, how to synthesize</li><li>Next lecture will explore multi-agent AI systems in depth</li></ul></div><div id="DUrlVwRNsJ" class="relative group/block"><h2 id="exercise-2-build-your-own-rag-system" class="relative group"><span class="heading-text">Exercise 2: Build Your Own RAG System</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-2-build-your-own-rag-system" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Choose one of the following domains and build a RAG system:</p><p><strong>Option A: Game Theory Assistant</strong></p><ul><li>Create documents summarizing key game theory concepts from our Week 8-9 lectures</li><li>Include: Nash equilibrium, dominant strategies, mixed strategies, auctions</li><li>Test with questions like “What is a Nash equilibrium?” or “Explain the winner’s curse”</li></ul><p><strong>Option B: Julia Programming Helper</strong></p><ul><li>Create documents with Julia programming tips and common patterns</li><li>Include: array operations, data frames, plotting, packages we’ve used</li><li>Test with questions like “How do I create a histogram?” or “What’s the syntax for filtering a DataFrame?”</li></ul><p><strong>Option C: Your Domain</strong></p><ul><li>Choose a topic you’re interested in</li><li>Create 5-10 documents with information</li><li>Build and test a RAG system</li></ul><p>For your chosen option:</p><ol start="1"><li>Create at least 5 documents (can be shorter than our examples)</li><li>Build a vector store</li><li>Test with at least 3 different questions</li><li>Compare RAG answers vs vanilla LLM answers</li><li>Experiment with different values of <code>top_k</code> (number of retrieved documents)</li></ol></div><div id="vdoogpea2y" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># TODO: your code here

# Step 1: Create your documents
my_docs = [
    # Your documents here
]

# Step 2: Build vector store
my_store = VectorStore()
# add_documents!(my_store, my_docs)

# Step 3: Test with questions
# test_q1 = &quot;...&quot;
# result = rag_query(my_store, test_q1)
# println(result.answer)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="r1GB_HpE1KhSSuowq_vX-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vrYf4Izzqd" class="relative group/block"><h2 id="exercise-3-evaluating-retrieval-quality" class="relative group"><span class="heading-text">Exercise 3: Evaluating Retrieval Quality</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-3-evaluating-retrieval-quality" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>An important aspect of RAG systems is <strong>retrieval quality</strong> - are we finding the right documents?</p><p>Using our network_store:</p><ol start="1"><li>Create 3 test queries where you know which document(s) should be retrieved</li><li>For each query, perform retrieval with different values of k (k=1, 3, 5)</li><li>Examine the similarity scores - what do they tell you?</li><li>Try a query that requires information from multiple documents</li><li>Try a query that’s completely off-topic (e.g., about cooking) - what gets retrieved?</li></ol><p>Questions to explore:</p><ul><li>Does the highest similarity document always have the best answer?</li><li>How much does similarity score drop from rank 1 to rank 3?</li><li>What happens when the query uses different terminology than the documents?</li></ul></div><div id="RP22uCILkU" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-julia" style="white-space:pre"># TODO: your analysis here

# Example structure:
# test_queries = [
#     &quot;query 1...&quot;,
#     &quot;query 2...&quot;,
#     &quot;query 3...&quot;
# ]

# for query in test_queries
#     println(&quot;Query: &quot;, query)
#     results = search(network_store, query; top_k=5)
#     # Analyze results
# end</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="uc7lTLYS3VftMj1ZkVuTg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GLQXkeegVG" class="relative group/block"><h2 id="exercise-4-design-decisions" class="relative group"><span class="heading-text">Exercise 4: Design Decisions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-4-design-decisions" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Consider the following scenarios and discuss what RAG design choices you would make:</p><p><strong>Scenario 1: Legal Document Q&amp;A</strong></p><ul><li>Database: 10,000 legal contracts and case documents</li><li>Queries: Lawyers asking about specific clauses and precedents</li><li>Requirements: High accuracy, must cite sources, complex reasoning</li></ul><p><strong>Scenario 2: Customer Support Chatbot</strong></p><ul><li>Database: 500 FAQ articles and product documentation</li><li>Queries: Customers asking how to use products, troubleshoot issues</li><li>Requirements: Fast responses, conversational, handles unclear questions</li></ul><p><strong>Scenario 3: Academic Research Assistant</strong></p><ul><li>Database: 100,000 research papers</li><li>Queries: Researchers asking about literature, methodologies, findings</li><li>Requirements: Comprehensive answers, identifies connections between papers</li></ul><p>For each scenario, decide:</p><ol start="1"><li>Chunk size (small, medium, large)?</li><li>Number of documents to retrieve (k=?)?</li><li>Would you use any advanced techniques (hybrid search, re-ranking, etc.)?</li><li>How would you handle queries that require information from multiple documents?</li><li>How would you evaluate the system’s performance?</li></ol><p>Write your analysis below:</p></div><div id="tc1q5IX2OX" class="relative group/block"><p><strong>Your Analysis:</strong></p><p>Scenario 1: Legal Document Q&amp;A</p><ul><li>Chunk size: ...</li><li>k: ...</li><li>Advanced techniques: ...</li><li>Multi-document handling: ...</li><li>Evaluation: ...</li></ul><p><em>(Continue for other scenarios)</em></p></div><div id="vDEhVIcnqP" class="relative group/block"><h2 id="looking-ahead-multi-agent-systems" class="relative group"><span class="heading-text">Looking Ahead: Multi-Agent Systems</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#looking-ahead-multi-agent-systems" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li>In this lecture we built a single-agent RAG system</li><li>The LLM agent retrieves information and generates answers</li><li>But what if we had multiple AI agents working together?</li><li>Next lecture (A1.03) we’ll explore <strong>multi-agent AI systems</strong>:<ul><li>Multiple LLM agents with specialized roles</li><li>Agents that coordinate and communicate</li><li>Connections to agent-based models and game theory</li><li>Building complex workflows with agentic systems</li></ul></li></ul><p>Think about:</p><ul><li>How might multiple agents improve retrieval? (e.g., one agent generates queries, another evaluates relevance)</li><li>What if different agents had access to different knowledge bases?</li><li>How does this relate to our study of networks and strategic interaction?</li></ul></div><div id="pjjaO7a6Jm" class="relative group/block"><h2 id="key-takeaways" class="relative group"><span class="heading-text">Key Takeaways</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#key-takeaways" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ol start="1"><li><p><strong>LLMs have fundamental knowledge limitations</strong>: cutoffs, hallucination, missing domain-specific info</p></li><li><p><strong>RAG augments LLMs with external knowledge</strong> through retrieval from vector databases</p></li><li><p><strong>Embeddings represent text as vectors</strong> capturing semantic meaning, enabling similarity search</p></li><li><p><strong>A RAG pipeline has four stages</strong>: chunking, embedding, retrieval, generation</p></li><li><p><strong>Design trade-offs matter</strong>: chunk size, number of retrieved docs, embedding model all affect quality and performance</p></li><li><p><strong>RAG enables practical AI applications</strong> with up-to-date, domain-specific, and proprietary knowledge</p></li><li><p><strong>RAG connects to network concepts</strong>: creating dynamic information flow from LLM to knowledge sources</p></li><li><p><strong>Citations and provenance</strong> are key benefits of RAG over pure parametric knowledge</p></li></ol></div><div id="Ixr01L0iWM" class="relative group/block"><h2 id="further-reading" class="relative group"><span class="heading-text">Further Reading</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#further-reading" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p><strong>Foundational Papers:</strong></p><ul><li>Lewis et al. (2020) “Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks”</li><li>Gao et al. (2023) “Retrieval-Augmented Generation for Large Language Models: A Survey”</li></ul><p><strong>Advanced RAG:</strong></p><ul><li>Khattab et al. (2023) “DSPy: Compiling Declarative Language Model Calls into Self-Improving Pipelines” <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/2310.03714" class="">arXiv:2310.03714</a></li><li>Shi et al. (2023) “REPLUG: Retrieval-Augmented Black-Box Language Models” <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/2301.12652" class="">arXiv:2301.12652</a></li></ul><p><strong>Vector Databases:</strong></p><ul><li>Pinecone Documentation: <a target="_blank" rel="noreferrer" href="https://docs.pinecone.io/" class="">https://<wbr/>docs<wbr/>.pinecone<wbr/>.io/</a></li><li>Weaviate Concepts: <a target="_blank" rel="noreferrer" href="https://weaviate.io/developers/weaviate/concepts" class="">https://<wbr/>weaviate<wbr/>.io<wbr/>/developers<wbr/>/weaviate<wbr/>/concepts</a></li></ul><p><strong>Embeddings:</strong></p><ul><li>OpenAI Embeddings Guide: <a target="_blank" rel="noreferrer" href="https://platform.openai.com/docs/guides/embeddings" class="">https://<wbr/>platform<wbr/>.openai<wbr/>.com<wbr/>/docs<wbr/>/guides<wbr/>/embeddings</a></li><li>Neelakantan et al. (2022) “Text and Code Embeddings by Contrastive Pre-Training” <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/2201.10005" class="">arXiv:2201.10005</a></li></ul></div><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/l-a1-01-from-rule-based-to-learning-agents"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Agents 1</div>From Rule-Based to Learning Agents</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/l-a1-03-multi-agent-conversations"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Agents 1</div>Multi-Agent Conversations and Emergent Collaboration</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-N2N6M3QH.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-ZJZ4LRPY.js"/><link rel="modulepreload" href="/build/_shared/chunk-KGDL62ZF.js"/><link rel="modulepreload" href="/build/routes/$-23AHH5XS.js"/><script>window.__remixContext = {"url":"/l-a1-02-rag-pattern-augmented-knowledge","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","options":{"hide_toc":false,"favicon":"/build/favicon-2547b7788b87f81b44ad3bc88b3d2a8b.ico","logo":"/build/logo-fdb88c5958d943ce34b840a833724994.png","logo_dark":"/build/logo-dark-68957f97f434b89940d35537897dfb8c.png"},"nav":[],"actions":[],"projects":[{"title":"UCF CAP-6318","description":"Computational Analysis of Social Complexity","authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"id":"492c0fd0-6de5-4738-b5ab-8c08e34fb954","toc":[{"file":"week01/L01.01_welcome.ipynb"},{"children":[{"file":"week01/L01.02_setup.ipynb"},{"file":"week01/L01.03_julia_basics.ipynb"}],"title":"Julia 1"},{"children":[{"file":"week02/L02.01_julia_types_methods.ipynb"},{"file":"week02/L02.02_code_organization.ipynb"},{"file":"week02/L02.03_julia_packages.ipynb"}],"title":"Julia 2"},{"children":[{"file":"week03/L03.01_graphs.ipynb"},{"file":"week03/L03.02_strong_weak_ties.ipynb"}],"title":"Graph Theory 1"},{"children":[{"file":"week04/L04.01_homophily.ipynb"},{"file":"week04/L04.02_weighted_graphs.ipynb"},{"file":"week04/L04.03_structural_balance.ipynb"}],"title":"Graph Theory 2"},{"children":[{"file":"week05/L05.01_production_networks.ipynb"}],"title":"Production Networks"},{"children":[{"file":"week06/L06.01_abm_concepts.ipynb"},{"file":"week06/L06.02_schelling_agents.ipynb"}],"title":"ABM 1"},{"children":[{"file":"week07/L07.01_abm_money.ipynb"},{"file":"week07/L07.02_abm_paper_virality.ipynb"}],"title":"ABM 2"},{"children":[{"file":"week08/L08.01_game_theory_intro.ipynb"},{"file":"week08/L08.02_network_traffic.ipynb"}],"title":"Game Theory 1"},{"children":[{"file":"week09/L09.01_mixed_strategies.ipynb"},{"file":"week09/L09.03_auctions.ipynb"},{"file":"week09/L09.04_game_theory_lab.ipynb"}],"title":"Game Theory 2"},{"children":[{"file":"weekA01/L.A1.01_from_rule_based_to_learning_agents.ipynb"},{"file":"weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb"},{"file":"weekA01/L.A1.03_multi_agent_conversations.ipynb"}],"title":"Agents 1"},{"children":[{"file":"weekA02/L.A2.01_function_calling_and_tools.ipynb"},{"file":"weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb"},{"file":"weekA02/L.A02.03_evaluations.ipynb"}],"title":"Agents 2"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Julia 1"},{"slug":"l01-02-setup","title":"Julia Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l01-03-julia-basics","title":"Julia Foundations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Julia 2"},{"slug":"l02-01-julia-types-methods","title":"Julia Types and Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-02-code-organization","title":"Julia Code Organization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-03-julia-packages","title":"Julia Package Development","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 1"},{"slug":"l03-01-graphs","title":"Graphs","description":"","date":"","thumbnail":"/build/967a40bb8f52cb4e2ba5e92214773160.png","thumbnailOptimized":"/build/967a40bb8f52cb4e2ba5e92214773160.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l03-02-strong-weak-ties","title":"Strong and Weak Ties","description":"","date":"","thumbnail":"/build/ca8cf7fd449d95329a6482e7c5663568.png","thumbnailOptimized":"/build/ca8cf7fd449d95329a6482e7c5663568.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 2"},{"slug":"l04-01-homophily","title":"Homophily","description":"","date":"","thumbnail":"/build/c2d78afac7a8f5c0a921d74dc173a647.png","thumbnailOptimized":"/build/c2d78afac7a8f5c0a921d74dc173a647.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-02-weighted-graphs","title":"Weighted Graphs","description":"","date":"","thumbnail":"/build/89abe19f81fbf303bd67dbdff22715f2.png","thumbnailOptimized":"/build/89abe19f81fbf303bd67dbdff22715f2.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-03-structural-balance","title":"Structural Balance","description":"","date":"","thumbnail":"/build/e8165665e7da5ff6c9050aa529f882e5.png","thumbnailOptimized":"/build/e8165665e7da5ff6c9050aa529f882e5.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Production Networks"},{"slug":"l05-01-production-networks","title":"Production Networks","description":"","date":"","thumbnail":"/build/7b92ed8d684202cdc6a3ee91cdc9e32b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 1"},{"slug":"l06-01-abm-concepts","title":"Agent Based Models","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l06-02-schelling-agents","title":"Schelling Model with Agents.jl","description":"","date":"","thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 2"},{"slug":"l07-01-abm-money","title":"Agent Based Models Review/Practice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l07-02-abm-paper-virality","title":"Academic Paper Virality: An Agent-Based Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 1"},{"slug":"l08-01-game-theory-intro","title":"Game Theory 1","description":"","date":"","thumbnail":"/build/514111f16ff750b99f83913e8f7cef48.png","thumbnailOptimized":"/build/514111f16ff750b99f83913e8f7cef48.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l08-02-network-traffic","title":"Network Traffic with Game Theory","description":"","date":"","thumbnail":"/build/424d6f26a2e0b40ca12376f2698b2418.png","thumbnailOptimized":"/build/424d6f26a2e0b40ca12376f2698b2418.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 2"},{"slug":"l09-01-mixed-strategies","title":"More Game Theory","description":"","date":"","thumbnail":"/build/c78b1360cc127c6ff833e0a98f9de844.png","thumbnailOptimized":"/build/c78b1360cc127c6ff833e0a98f9de844.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-03-auctions","title":"Auctions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-04-game-theory-lab","title":"Game Theory Lab: Data Science Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 1"},{"slug":"l-a1-01-from-rule-based-to-learning-agents","title":"From Rule-Based to Learning Agents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-02-rag-pattern-augmented-knowledge","title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-03-multi-agent-conversations","title":"Multi-Agent Conversations and Emergent Collaboration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 2"},{"slug":"l-a2-01-function-calling-and-tools","title":"Function Calling and Tool Use: From Talk to Action","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a2-02-type-safe-agents-pydantic-patterns","title":"Type-Safe Agent Development with PydanticAI Patterns","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a02-03-evaluations","title":"Evaluating AI Systems: Testing Agents at Scale","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.0","options":{"hide_toc":false,"favicon":"/build/favicon-2547b7788b87f81b44ad3bc88b3d2a8b.ico","logo":"/build/logo-fdb88c5958d943ce34b840a833724994.png","logo_dark":"/build/logo-dark-68957f97f434b89940d35537897dfb8c.png"},"nav":[],"actions":[],"projects":[{"title":"UCF CAP-6318","description":"Computational Analysis of Social Complexity","authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"id":"492c0fd0-6de5-4738-b5ab-8c08e34fb954","toc":[{"file":"week01/L01.01_welcome.ipynb"},{"children":[{"file":"week01/L01.02_setup.ipynb"},{"file":"week01/L01.03_julia_basics.ipynb"}],"title":"Julia 1"},{"children":[{"file":"week02/L02.01_julia_types_methods.ipynb"},{"file":"week02/L02.02_code_organization.ipynb"},{"file":"week02/L02.03_julia_packages.ipynb"}],"title":"Julia 2"},{"children":[{"file":"week03/L03.01_graphs.ipynb"},{"file":"week03/L03.02_strong_weak_ties.ipynb"}],"title":"Graph Theory 1"},{"children":[{"file":"week04/L04.01_homophily.ipynb"},{"file":"week04/L04.02_weighted_graphs.ipynb"},{"file":"week04/L04.03_structural_balance.ipynb"}],"title":"Graph Theory 2"},{"children":[{"file":"week05/L05.01_production_networks.ipynb"}],"title":"Production Networks"},{"children":[{"file":"week06/L06.01_abm_concepts.ipynb"},{"file":"week06/L06.02_schelling_agents.ipynb"}],"title":"ABM 1"},{"children":[{"file":"week07/L07.01_abm_money.ipynb"},{"file":"week07/L07.02_abm_paper_virality.ipynb"}],"title":"ABM 2"},{"children":[{"file":"week08/L08.01_game_theory_intro.ipynb"},{"file":"week08/L08.02_network_traffic.ipynb"}],"title":"Game Theory 1"},{"children":[{"file":"week09/L09.01_mixed_strategies.ipynb"},{"file":"week09/L09.03_auctions.ipynb"},{"file":"week09/L09.04_game_theory_lab.ipynb"}],"title":"Game Theory 2"},{"children":[{"file":"weekA01/L.A1.01_from_rule_based_to_learning_agents.ipynb"},{"file":"weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb"},{"file":"weekA01/L.A1.03_multi_agent_conversations.ipynb"}],"title":"Agents 1"},{"children":[{"file":"weekA02/L.A2.01_function_calling_and_tools.ipynb"},{"file":"weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb"},{"file":"weekA02/L.A02.03_evaluations.ipynb"}],"title":"Agents 2"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Julia 1"},{"slug":"l01-02-setup","title":"Julia Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l01-03-julia-basics","title":"Julia Foundations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Julia 2"},{"slug":"l02-01-julia-types-methods","title":"Julia Types and Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-02-code-organization","title":"Julia Code Organization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-03-julia-packages","title":"Julia Package Development","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 1"},{"slug":"l03-01-graphs","title":"Graphs","description":"","date":"","thumbnail":"/build/967a40bb8f52cb4e2ba5e92214773160.png","thumbnailOptimized":"/build/967a40bb8f52cb4e2ba5e92214773160.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l03-02-strong-weak-ties","title":"Strong and Weak Ties","description":"","date":"","thumbnail":"/build/ca8cf7fd449d95329a6482e7c5663568.png","thumbnailOptimized":"/build/ca8cf7fd449d95329a6482e7c5663568.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 2"},{"slug":"l04-01-homophily","title":"Homophily","description":"","date":"","thumbnail":"/build/c2d78afac7a8f5c0a921d74dc173a647.png","thumbnailOptimized":"/build/c2d78afac7a8f5c0a921d74dc173a647.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-02-weighted-graphs","title":"Weighted Graphs","description":"","date":"","thumbnail":"/build/89abe19f81fbf303bd67dbdff22715f2.png","thumbnailOptimized":"/build/89abe19f81fbf303bd67dbdff22715f2.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-03-structural-balance","title":"Structural Balance","description":"","date":"","thumbnail":"/build/e8165665e7da5ff6c9050aa529f882e5.png","thumbnailOptimized":"/build/e8165665e7da5ff6c9050aa529f882e5.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Production Networks"},{"slug":"l05-01-production-networks","title":"Production Networks","description":"","date":"","thumbnail":"/build/7b92ed8d684202cdc6a3ee91cdc9e32b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 1"},{"slug":"l06-01-abm-concepts","title":"Agent Based Models","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l06-02-schelling-agents","title":"Schelling Model with Agents.jl","description":"","date":"","thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 2"},{"slug":"l07-01-abm-money","title":"Agent Based Models Review/Practice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l07-02-abm-paper-virality","title":"Academic Paper Virality: An Agent-Based Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 1"},{"slug":"l08-01-game-theory-intro","title":"Game Theory 1","description":"","date":"","thumbnail":"/build/514111f16ff750b99f83913e8f7cef48.png","thumbnailOptimized":"/build/514111f16ff750b99f83913e8f7cef48.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l08-02-network-traffic","title":"Network Traffic with Game Theory","description":"","date":"","thumbnail":"/build/424d6f26a2e0b40ca12376f2698b2418.png","thumbnailOptimized":"/build/424d6f26a2e0b40ca12376f2698b2418.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 2"},{"slug":"l09-01-mixed-strategies","title":"More Game Theory","description":"","date":"","thumbnail":"/build/c78b1360cc127c6ff833e0a98f9de844.png","thumbnailOptimized":"/build/c78b1360cc127c6ff833e0a98f9de844.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-03-auctions","title":"Auctions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-04-game-theory-lab","title":"Game Theory Lab: Data Science Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 1"},{"slug":"l-a1-01-from-rule-based-to-learning-agents","title":"From Rule-Based to Learning Agents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-02-rag-pattern-augmented-knowledge","title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-03-multi-agent-conversations","title":"Multi-Agent Conversations and Emergent Collaboration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 2"},{"slug":"l-a2-01-function-calling-and-tools","title":"Function Calling and Tool Use: From Talk to Action","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a2-02-type-safe-agents-pydantic-patterns","title":"Type-Safe Agent Development with PydanticAI Patterns","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a02-03-evaluations","title":"Evaluating AI Systems: Testing Agents at Scale","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":2,"kind":"Notebook","sha256":"603266c133e55382bd5e3a83efcbf4248ab2c1bcbcceb266c2f9507076314652","slug":"l-a1-02-rag-pattern-augmented-knowledge","location":"/weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb","dependencies":[],"frontmatter":{"title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","content_includes_title":false,"kernelspec":{"name":"julia-1.11","display_name":"Julia 1.11.6","language":"julia"},"authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"L.A1.02_rag_pattern_augmented_knowledge.ipynb","url":"/build/L.A1.02_rag_pattern_-306e8b5b4591f17d9c7d4d05791c1cf1.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Computational Analysis of Social Complexity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oIznj5jFBO"}],"key":"WV1a0ZnfOj"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Fall 2025, Spencer Lyon","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"sJzJWRvlMi"}],"key":"kKqd2eAihK"}],"key":"qveT2rxlfg"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"JF3CPTZhI2"}],"key":"ij5xYWkzBc"}],"key":"M3ZAjB3yFC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"L.A1.01 (LLMs and API calls)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"x9KGx6457S"}],"key":"MXXpFuwK4u"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Basic understanding of vector spaces","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vEh9LSQhIs"}],"key":"IunJGJlfGk"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Networks concepts (Weeks 3-5)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"C5XoH5hkR0"}],"key":"T5L8dliESd"}],"key":"odynduHoQl"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Required Julia Packages","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ex3oEYGRT1"}],"key":"CnGFlKzQyJ"}],"key":"ayetevSdKr"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Install the following packages if you haven’t already:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"UwZ9goaFEO"}],"key":"shTjmsDsST"},{"type":"code","lang":"julia","value":"using Pkg\nPkg.add([\"HTTP\", \"JSON3\", \"DotEnv\", \"LinearAlgebra\", \"DataFrames\"])","position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"key":"dKgMuk3Szc"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Outcomes","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"o2G98zRVbX"}],"key":"fJXcDMIaF8"}],"key":"Ctcx2jJiMI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Understand the limitations of parametric knowledge in LLMs","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"HxsPEcDgaW"}],"key":"iVmBPz1c1O"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Implement a complete Retrieval-Augmented Generation (RAG) system","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"FbpGZeHTIi"}],"key":"bWQ2SAL2Vl"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Work with embeddings and perform vector similarity search","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"r5v1j3TU45"}],"key":"vC165uRDxf"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Design knowledge bases for domain-specific AI applications","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"pV3kCF5s46"}],"key":"qdI49fF7qP"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Analyze trade-offs between parametric and retrieval-based knowledge","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"oYT11rBcA7"}],"key":"EYEmU0mvHC"}],"key":"WJmoOZnfzl"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"strong","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"TFgTto7yjQ"}],"key":"rJ16rWgcJF"}],"key":"r1fIOgIeOg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Lewis et al. (2020) “Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks” ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"rTCAFZVPsj"},{"type":"link","url":"https://arxiv.org/abs/2005.11401","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"arXiv:2005.11401","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"a0qxXu2myY"}],"urlSource":"https://arxiv.org/abs/2005.11401","key":"updqtI3Lab"}],"key":"xCqkEUStbh"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Gao et al. (2023) “Retrieval-Augmented Generation for Large Language Models: A Survey” ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"Cy6r8NhU4E"},{"type":"link","url":"https://arxiv.org/abs/2312.10997","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"arXiv:2312.10997","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"LVNpGwRz5h"}],"urlSource":"https://arxiv.org/abs/2312.10997","key":"dUK4o7TUe7"}],"key":"EWaSFLjt7Z"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"OpenAI Embeddings Documentation: ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"jGGSwqO9gQ"},{"type":"link","url":"https://platform.openai.com/docs/guides/embeddings","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"https://​platform​.openai​.com​/docs​/guides​/embeddings","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"TKtFbJmLPS"}],"urlSource":"https://platform.openai.com/docs/guides/embeddings","key":"sU2cjj9UEw"}],"key":"cEvowufJIA"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"OpenAI Responses API Quickstart: ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"H0J2qPy3vs"},{"type":"link","url":"https://platform.openai.com/docs/quickstart?api-mode=responses","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"https://​platform​.openai​.com​/docs​/quickstart​?api​-mode​=​responses","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"GaroergX0t"}],"urlSource":"https://platform.openai.com/docs/quickstart?api-mode=responses","key":"tSE8sQ8w4a"}],"key":"W4pH6BlSKP"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Anthropic Context Window Documentation: ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"glyoSw8Tuv"},{"type":"link","url":"https://docs.anthropic.com/claude/docs/models-overview","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"https://​docs​.anthropic​.com​/claude​/docs​/models​-overview","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"AWezKrmrMy"}],"urlSource":"https://docs.anthropic.com/claude/docs/models-overview","key":"eKDXqCOGi5"}],"key":"qvOUu4IvCJ"}],"key":"mSawxYIaAV"}],"key":"gUBZpMXJeY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Knowledge Problem","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q4zzWMhQqW"}],"identifier":"the-knowledge-problem","label":"The Knowledge Problem","html_id":"the-knowledge-problem","implicit":true,"key":"hfjt56Nn2T"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the previous lecture we learned how to interact with LLMs via API calls","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Sc5V2cGjFz"}],"key":"fyO2PufnCM"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We saw that these models can be remarkably helpful for various tasks","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"R2axVk0vDd"}],"key":"eojJleZP5z"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"However, LLMs have a fundamental limitation: they only “know” what was in their training data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nKWzl27cZF"}],"key":"ealX1oe5aK"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This creates several problems that we’ll explore now","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EaRGbwry5J"}],"key":"hmuePC2Ydo"}],"key":"mSAFgsXJvF"}],"key":"qcol90ulOH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Problem 1: Knowledge Cutoffs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wCiny3VbB0"}],"identifier":"problem-1-knowledge-cutoffs","label":"Problem 1: Knowledge Cutoffs","html_id":"problem-1-knowledge-cutoffs","implicit":true,"key":"zgKfrPzgUw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"LLMs are trained on data collected up to a specific date","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zMUqSPmd9F"}],"key":"wiIlYIfuvy"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"For example, GPT-4 (original) had a knowledge cutoff of September 2021","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zPefbV7hqj"}],"key":"ojrOcFD2wR"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Claude 3.5 Sonnet has a knowledge cutoff of April 2024","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EQJEf6ylhE"}],"key":"HAdZRxWBEG"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Any events, research, or information after the cutoff date is unknown to the model","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fCD9bitpUu"}],"key":"l3mJfiWRnI"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"This means:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZPpEHA7Fjw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Can’t answer questions about recent events","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XkExYshXFU"}],"key":"P3wS6mNpiB"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Doesn’t know about new research papers or discoveries","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"QbNjGYXU6W"}],"key":"VK0EH1OGqv"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Unaware of updated statistics or data","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"CoeKtjJfmY"}],"key":"ww0LzXzWBi"}],"key":"zfm8VMUiaO"}],"key":"oTaU0spspx"}],"key":"Rpi1Na4JDw"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"IyWOd2woAj"}],"key":"AHJx6zqVWQ"},{"type":"text","value":": If you ask GPT-4 (original) about a paper published in 2023, it will either say it doesn’t know or worse, hallucinate details about a paper it has never seen.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"szlrAROXrg"}],"key":"j2kTU2fc1f"}],"key":"QbD3FHVAR8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Problem 2: Hallucination","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Pvyx3dpn05"}],"identifier":"problem-2-hallucination","label":"Problem 2: Hallucination","html_id":"problem-2-hallucination","implicit":true,"key":"VcZpYy2j1j"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"LLMs are trained to generate plausible-sounding text","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qhKk0XNQIp"}],"key":"rUBIrjsQKD"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"When asked about something they don’t know, they often ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hpAwQf5QIX"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"hallucinate","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"daT4VQebar"}],"key":"SEGkwU4baz"},{"type":"text","value":": generate confident-sounding but factually incorrect information","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mLOp1vjIqA"}],"key":"BKxPomgpiX"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"This is particularly dangerous because:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ozwsNzEvtT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The model sounds authoritative","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JxLC9XV80L"}],"key":"xpkn0BoyTZ"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Users may not realize the information is false","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yKDoipnFSb"}],"key":"kxjYMnVWEQ"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The hallucinated content can include fake citations, statistics, or facts","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"SuF1aK87ua"}],"key":"vSgTJtE6Id"}],"key":"MlMZ6DiEj8"}],"key":"rOUHVdEF5V"}],"key":"knmXB25Cj2"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"pAv9WAjeXV"}],"key":"ClxQHJgtkL"},{"type":"text","value":": Ask an LLM about a research paper that doesn’t exist. It might generate a plausible abstract, author names, and even “key findings” - all completely fabricated.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"IOfvBmZurm"}],"key":"nc4vFFVG3q"}],"key":"CEeNuVc6IB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Problem 3: Domain-Specific Knowledge","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aMZYgRbiMv"}],"identifier":"problem-3-domain-specific-knowledge","label":"Problem 3: Domain-Specific Knowledge","html_id":"problem-3-domain-specific-knowledge","implicit":true,"key":"JgBwAwKzmD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Even within their training data, LLMs have uneven knowledge","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"O3gMtEal8w"}],"key":"rPgw9cO4dR"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Some domains are well-represented in training data (e.g., popular programming languages)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"XhXokw1t27"}],"key":"KTELSLHufo"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Others are sparse (e.g., specialized academic subfields, proprietary company data)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DtMnJe4G52"}],"key":"lXoDGhYfk7"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"For your organization’s specific documents, data, or knowledge base, the LLM knows nothing","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mcsVo0MyDk"}],"key":"Lx22VQ0R1z"}],"key":"TsuFYqnics"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"SxpQngNDzY"}],"key":"lD1WcRXuWp"},{"type":"text","value":": You want an AI assistant to help with your company’s internal policies, product documentation, or research papers. The LLM has never seen these documents.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CIVxuGcDKc"}],"key":"kpE0iXMlbw"}],"key":"Ttb5ZQTD4w"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Connection to Network Information Flow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q1jTYqZBXF"}],"identifier":"connection-to-network-information-flow","label":"Connection to Network Information Flow","html_id":"connection-to-network-information-flow","implicit":true,"key":"Av6w8Dtoba"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Recall from Weeks 3-4 our study of information diffusion in networks","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GjNsoZvklt"}],"key":"aJjh7oUmxM"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We saw how information flows through network structures","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iZqLIc33Gd"}],"key":"cGm7Zv9z2T"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Key insight: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ntuXObY9Yi"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"who you’re connected to determines what information you can access","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SUgKAplWP0"}],"key":"gEVea6JzdP"}],"key":"Rn96abEYnw"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"LLMs face a similar problem:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"WS7UfVwl1B"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Their “connections” are frozen at training time","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"giimZUSDC6"}],"key":"kpGpeGtK1R"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"They can’t access new information sources","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"wDqxVPUvLx"}],"key":"FuK49liUKF"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"They can’t form new “edges” to external knowledge","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"jZTLpEeFj5"}],"key":"W3s7o6jrXo"}],"key":"IJsWY8C16T"}],"key":"TgZDdUEDCO"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"RAG solves this by creating a ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uujBSdaISU"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"dynamic connection","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iG5iW2SVCI"}],"key":"RgR4wwnvHG"},{"type":"text","value":" between the LLM and external knowledge sources","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rLjf2QBs8P"}],"key":"qEX4NmkLTP"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Think of RAG as giving the LLM the ability to form new edges in the information network on-demand","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bNppnDAthY"}],"key":"nvFUpIZSMp"}],"key":"DfSDNmF0LC"}],"key":"d1XOXdDkHi"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Solution: Retrieval-Augmented Generation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BlmcuKmIiC"}],"identifier":"the-solution-retrieval-augmented-generation","label":"The Solution: Retrieval-Augmented Generation","html_id":"the-solution-retrieval-augmented-generation","implicit":true,"key":"SoxXL2F1TZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Instead of relying solely on parametric knowledge (what’s encoded in model weights), we can augment the LLM with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gpxFZLMXvK"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"retrieval","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ODKo6tcrLv"}],"key":"voBzlASiMn"}],"key":"unGUgK85Cn"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Basic idea:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lds6BaMlIA"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"User asks a question","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lbzjyPUl3l"}],"key":"MDjf3974gZ"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Search a knowledge base for relevant information","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ak9iPufGJI"}],"key":"EpEKk0iDli"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Provide that information to the LLM as context","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FcsIaifFLW"}],"key":"DatkxvDWYp"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"LLM generates answer based on retrieved information","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"R9zzGKGHDJ"}],"key":"tGphVEgUal"}],"key":"XzFyQ9Clsy"}],"key":"MTBDwFJ5ht"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"This approach:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Mer5uApsCK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Eliminates knowledge cutoff problem (use up-to-date sources)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"NsfrOScomg"}],"key":"TaKq9WRwuZ"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Reduces hallucination (model works from provided facts)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JPZpNqk07k"}],"key":"G0ssAUYWPN"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Enables domain-specific applications (use your own documents)","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"RIxIl3QOCT"}],"key":"zYLLXtTonO"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Provides citations (you know which documents were used)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"PT6rc9L42I"}],"key":"uh2kehDcse"}],"key":"pIbQgnm3Jz"}],"key":"d3NDOEBRwl"}],"key":"F59GsJeKT1"}],"key":"oPO5X6IbyL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Embeddings: Representing Meaning as Vectors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HulkhBruWd"}],"identifier":"embeddings-representing-meaning-as-vectors","label":"Embeddings: Representing Meaning as Vectors","html_id":"embeddings-representing-meaning-as-vectors","implicit":true,"key":"nR707WqTiV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To implement retrieval, we need to search for relevant documents","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sWM8lG82n3"}],"key":"bRLWiUDPS7"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"But how do we determine if a document is relevant to a query?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"SyrV4V6J4L"}],"key":"gH9E3n65Kx"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The key innovation: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JxOe2lgqCA"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"embeddings","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TUdtXR1wVa"}],"key":"BGsTfGIcIC"},{"type":"text","value":" - representations of text as high-dimensional vectors","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"To1YZLLbbR"}],"key":"ukaPHkWY17"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Embeddings capture semantic meaning: similar meanings → similar vectors","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yqpca7DrcL"}],"key":"nT6aRAtaHp"}],"key":"ntAbi4rRAs"}],"key":"lOmU5BQGGn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What are Embeddings?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JFnltBlzr7"}],"identifier":"what-are-embeddings","label":"What are Embeddings?","html_id":"what-are-embeddings","implicit":true,"key":"dMUyzytnQz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"An embedding is a function ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZbbDSvPsGI"},{"type":"inlineMath","value":"f: \\text{Text} \\rightarrow \\mathbb{R}^d","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ef\u003c/mi\u003e\u003cmo\u003e:\u003c/mo\u003e\u003cmtext\u003eText\u003c/mtext\u003e\u003cmo\u003e→\u003c/mo\u003e\u003cmsup\u003e\u003cmi mathvariant=\"double-struck\"\u003eR\u003c/mi\u003e\u003cmi\u003ed\u003c/mi\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ef: \\text{Text} \\rightarrow \\mathbb{R}^d\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10764em;\"\u003ef\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eText\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e→\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8491em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathbb\"\u003eR\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8491em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ed\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"N6FrQvqtSU"},{"type":"text","value":" that maps text to a d-dimensional vector","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CBhMvcnnhG"}],"key":"fEvQGcfRm5"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Typically ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"z7rOazatP8"},{"type":"inlineMath","value":"d","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ed\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ed\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ed\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"K4yBFNS3Om"},{"type":"text","value":" ranges from 384 to 3072 dimensions","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"SvdBGAVZV9"}],"key":"Q7MyOf1oz7"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Key property: texts with similar meanings have similar embeddings (vectors close together in vector space)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"c13ckbfYNm"}],"key":"xVCCXaMEuR"}],"key":"hdBRZum0VT"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Intuition","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fu4MOhl2wq"}],"key":"a9EQSf20XD"},{"type":"text","value":": Think of each dimension as capturing some aspect of meaning","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"f8Kaki87YJ"}],"key":"G2lpo5S91o"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"One dimension might capture “technical vs casual”","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HVvrAeqhHP"}],"key":"hJR9GWtwTc"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Another might capture “positive vs negative sentiment”","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VDp7Pknw7L"}],"key":"wSIjYnml9c"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Another might capture “about networks vs about game theory”","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ZTlwzohhp0"}],"key":"Ybs3bMinua"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"With hundreds or thousands of dimensions, we can capture nuanced semantic relationships","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QAOLT6X7Vb"}],"key":"dx2r5W6FSp"}],"key":"HwmYIYTU9W"}],"key":"w3VjGA3EAm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example: Word Analogies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z5ta8J4YrR"}],"identifier":"example-word-analogies","label":"Example: Word Analogies","html_id":"example-word-analogies","implicit":true,"key":"kNJsZFl0QD"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"One famous property of embeddings is that they capture relational meaning:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CDdUlIZAVt"}],"key":"gJaL0CGdPH"},{"type":"math","value":"\\text{embedding}(\\text{\"king\"}) - \\text{embedding}(\\text{\"man\"}) + \\text{embedding}(\\text{\"woman\"}) \\approx \\text{embedding}(\\text{\"queen\"})","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmtext\u003eembedding\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmtext\u003e\u0026quot;king\u0026quot;\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e−\u003c/mo\u003e\u003cmtext\u003eembedding\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmtext\u003e\u0026quot;man\u0026quot;\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmtext\u003eembedding\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmtext\u003e\u0026quot;woman\u0026quot;\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e≈\u003c/mo\u003e\u003cmtext\u003eembedding\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmtext\u003e\u0026quot;queen\u0026quot;\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\text{embedding}(\\text{\u0026quot;king\u0026quot;}) - \\text{embedding}(\\text{\u0026quot;man\u0026quot;}) + \\text{embedding}(\\text{\u0026quot;woman\u0026quot;}) \\approx \\text{embedding}(\\text{\u0026quot;queen\u0026quot;})\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eembedding\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003e\u0026quot;king\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e−\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eembedding\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003e\u0026quot;man\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eembedding\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003e\u0026quot;woman\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e≈\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eembedding\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003e\u0026quot;queen\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"1","key":"vCTi7tBEZh"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"This works because the embedding space organizes concepts by their relationships:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XJExAt0JdQ"}],"key":"JCUdNKHAYl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The vector from “man” to “king” represents “royalty”","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"L93cp6u9So"}],"key":"EkdNtZkm9Y"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Adding that same vector to “woman” gives you something close to “queen”","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Aewsodkqs4"}],"key":"MJwOKMjCMv"}],"key":"AT4ss6lge4"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Similar patterns work for other relationships:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"UTukRkH3js"}],"key":"wuE1AeAcIk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Paris - France + Germany ≈ Berlin","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Z6RpaKzVby"}],"key":"yCQ3f9mVFF"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Walking - Walked + Swimming ≈ Swam","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"AVwA1pjEkx"}],"key":"huZA2RegjC"}],"key":"dUKEwensFn"}],"key":"ZvTXDQkaRe"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Measuring Similarity: Cosine Similarity","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lbl0CHe3TX"}],"identifier":"measuring-similarity-cosine-similarity","label":"Measuring Similarity: Cosine Similarity","html_id":"measuring-similarity-cosine-similarity","implicit":true,"key":"T0JacGRv7X"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Once we have embeddings, we need a way to measure similarity between vectors","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YDRuOrJDJg"}],"key":"MjBqgmP4ue"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The most common metric is ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"znwOpDctzw"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"cosine similarity","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hLi3wgZl3o"}],"key":"WcdE4kz62l"}],"key":"jN5kCi4UHt"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"For two vectors ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ly3azmCOUQ"},{"type":"inlineMath","value":"\\mathbf{a}","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi mathvariant=\"bold\"\u003ea\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\mathbf{a}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"TAzDxCXcSQ"},{"type":"text","value":" and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fEC8y2zfzK"},{"type":"inlineMath","value":"\\mathbf{b}","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi mathvariant=\"bold\"\u003eb\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\mathbf{b}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003eb\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"cwKMokuhak"},{"type":"text","value":":","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zcSbz5s17Q"}],"key":"cFDWYlbQuz"}],"key":"CYpnwZkcBY"},{"type":"math","value":"\\text{cosine\\_similarity}(\\mathbf{a}, \\mathbf{b}) = \\frac{\\mathbf{a} \\cdot \\mathbf{b}}{||\\mathbf{a}|| \\, ||\\mathbf{b}||} = \\frac{\\sum_{i=1}^d a_i b_i}{\\sqrt{\\sum_{i=1}^d a_i^2} \\sqrt{\\sum_{i=1}^d b_i^2}}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmtext\u003ecosine_similarity\u003c/mtext\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi mathvariant=\"bold\"\u003ea\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi mathvariant=\"bold\"\u003eb\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmfrac\u003e\u003cmrow\u003e\u003cmi mathvariant=\"bold\"\u003ea\u003c/mi\u003e\u003cmo\u003e⋅\u003c/mo\u003e\u003cmi mathvariant=\"bold\"\u003eb\u003c/mi\u003e\u003c/mrow\u003e\u003cmrow\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmi mathvariant=\"bold\"\u003ea\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmtext\u003e \u003c/mtext\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmi mathvariant=\"bold\"\u003eb\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003cmi mathvariant=\"normal\"\u003e∣\u003c/mi\u003e\u003c/mrow\u003e\u003c/mfrac\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmfrac\u003e\u003cmrow\u003e\u003cmunderover\u003e\u003cmo\u003e∑\u003c/mo\u003e\u003cmrow\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003c/mrow\u003e\u003cmi\u003ed\u003c/mi\u003e\u003c/munderover\u003e\u003cmsub\u003e\u003cmi\u003ea\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003c/msub\u003e\u003cmsub\u003e\u003cmi\u003eb\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003c/msub\u003e\u003c/mrow\u003e\u003cmrow\u003e\u003cmsqrt\u003e\u003cmrow\u003e\u003cmunderover\u003e\u003cmo\u003e∑\u003c/mo\u003e\u003cmrow\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003c/mrow\u003e\u003cmi\u003ed\u003c/mi\u003e\u003c/munderover\u003e\u003cmsubsup\u003e\u003cmi\u003ea\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmn\u003e2\u003c/mn\u003e\u003c/msubsup\u003e\u003c/mrow\u003e\u003c/msqrt\u003e\u003cmsqrt\u003e\u003cmrow\u003e\u003cmunderover\u003e\u003cmo\u003e∑\u003c/mo\u003e\u003cmrow\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003c/mrow\u003e\u003cmi\u003ed\u003c/mi\u003e\u003c/munderover\u003e\u003cmsubsup\u003e\u003cmi\u003eb\u003c/mi\u003e\u003cmi\u003ei\u003c/mi\u003e\u003cmn\u003e2\u003c/mn\u003e\u003c/msubsup\u003e\u003c/mrow\u003e\u003c/msqrt\u003e\u003c/mrow\u003e\u003c/mfrac\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\text{cosine\\_similarity}(\\mathbf{a}, \\mathbf{b}) = \\frac{\\mathbf{a} \\cdot \\mathbf{b}}{||\\mathbf{a}|| \\, ||\\mathbf{b}||} = \\frac{\\sum_{i=1}^d a_i b_i}{\\sqrt{\\sum_{i=1}^d a_i^2} \\sqrt{\\sum_{i=1}^d b_i^2}}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1.06em;vertical-align:-0.31em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003ecosine_similarity\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003ea\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003eb\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.3074em;vertical-align:-0.936em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3714em;\"\u003e\u003cspan style=\"top:-2.314em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e∣∣\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003ea\u003c/span\u003e\u003cspan class=\"mord\"\u003e∣∣\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e∣∣\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003eb\u003c/span\u003e\u003cspan class=\"mord\"\u003e∣∣\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathbf\"\u003ea\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e⋅\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathbf\"\u003eb\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.936em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:3.4087em;vertical-align:-1.73em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.6787em;\"\u003e\u003cspan style=\"top:-2.11em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.3296em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord sqrt\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3296em;\"\u003e\u003cspan class=\"svg-align\" style=\"top:-3.8em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.8em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\" style=\"padding-left:1em;\"\u003e\u003cspan class=\"mop\"\u003e\u003cspan class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\"\u003e∑\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.989em;\"\u003e\u003cspan style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003cspan class=\"mrel mtight\"\u003e=\u003c/span\u003e\u003cspan class=\"mord mtight\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.2029em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ed\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2997em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003ea\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.7959em;\"\u003e\u003cspan style=\"top:-2.4231em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.0448em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2769em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.2896em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.8em;\"\u003e\u003c/span\u003e\u003cspan class=\"hide-tail\" style=\"min-width:1.02em;height:1.88em;\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'\u003e\u003cpath d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/\u003e\u003c/svg\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.5104em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mord sqrt\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3296em;\"\u003e\u003cspan class=\"svg-align\" style=\"top:-3.8em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.8em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\" style=\"padding-left:1em;\"\u003e\u003cspan class=\"mop\"\u003e\u003cspan class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\"\u003e∑\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.989em;\"\u003e\u003cspan style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003cspan class=\"mrel mtight\"\u003e=\u003c/span\u003e\u003cspan class=\"mord mtight\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.2029em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ed\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2997em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003eb\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.7959em;\"\u003e\u003cspan style=\"top:-2.4231em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.0448em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2769em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.2896em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.8em;\"\u003e\u003c/span\u003e\u003cspan class=\"hide-tail\" style=\"min-width:1.02em;height:1.88em;\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'\u003e\u003cpath d='M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z'/\u003e\u003c/svg\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.5104em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.5596em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.3296em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-4.0194em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.3296em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mop\"\u003e\u003cspan class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\"\u003e∑\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.989em;\"\u003e\u003cspan style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003cspan class=\"mrel mtight\"\u003e=\u003c/span\u003e\u003cspan class=\"mord mtight\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.2029em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ed\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2997em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003ea\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3117em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003eb\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3117em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ei\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.73em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"2","key":"sGwTxoKebT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Returns a value between -1 and 1","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CoG5bNLjTv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"1: vectors point in same direction (very similar)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"svLeyQfgTi"}],"key":"P65YFKsQqU"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"0: vectors are orthogonal (unrelated)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"L2Qx6kNHno"}],"key":"GoArFOgX6x"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"-1: vectors point in opposite directions (opposite meaning)","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ZaSJJzQqxQ"}],"key":"lqkKC9WT5f"}],"key":"MjD6s3R8ZA"}],"key":"rH4v4UKDIc"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Why cosine and not Euclidean distance?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ufpv5DxCYd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Cosine measures angle, not magnitude","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cFhlVqWYms"}],"key":"TsTewBluJ6"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Makes sense for text: a longer document isn’t necessarily “farther” in meaning","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ae5uVz6ukr"}],"key":"ovdnKbiv97"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Embedding models are typically optimized for cosine similarity","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"amuBgptdCx"}],"key":"xqGeddD4Of"}],"key":"wnsXIxCf0U"}],"key":"xXPSzJEeDt"}],"key":"CjDyk00e4n"}],"key":"mCkIrrd9k5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating Embeddings with OpenAI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EnCLAJp8Qx"}],"identifier":"creating-embeddings-with-openai","label":"Creating Embeddings with OpenAI","html_id":"creating-embeddings-with-openai","implicit":true,"key":"FePs3EIbNy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s see how to create embeddings using OpenAI’s API.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"syIWf5P4pv"}],"key":"lydGQHzK7I"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tA4BSjaQFW"}],"key":"oQNKbcqhtf"},{"type":"text","value":": Before running the code below, make sure you have a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"m4Z2tiyHfO"},{"type":"inlineCode","value":".env","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KWlGGVqGdo"},{"type":"text","value":" file in your working directory with your OpenAI API key:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"clOeVQsa1k"}],"key":"Y8fhvwTuuQ"},{"type":"code","lang":"","value":"OPENAI_API_KEY=sk-your-api-key-here","position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"key":"dWDvbdvhj5"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ktAopZNRnK"},{"type":"inlineCode","value":"DotEnv","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"rCs31hkpPL"},{"type":"text","value":" package will automatically load these environment variables from the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"fOu90u7q0c"},{"type":"inlineCode","value":".env","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ZAhl2uQ87F"},{"type":"text","value":" file.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"XgQTSX7p6k"}],"key":"PwoCdJhblc"}],"key":"OmBASfN6cD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using HTTP, JSON3, DotEnv\n\n# Load environment variables from .env file\nDotEnv.load!()\n\n# Load API key from environment\nOPENAI_API_KEY = ENV[\"OPENAI_API_KEY\"]\n\nfunction get_embedding(text::String; model=\"text-embedding-3-small\")\n    \"\"\"\n    Get embedding vector for input text using OpenAI's API\n\n    Args:\n        text: Input text to embed\n        model: Embedding model to use (default: text-embedding-3-small)\n\n    Returns:\n        Vector of floats representing the embedding\n    \"\"\"\n    url = \"https://api.openai.com/v1/embeddings\"\n\n    headers = [\n        \"Authorization\" =\u003e \"Bearer $(OPENAI_API_KEY)\",\n        \"Content-Type\" =\u003e \"application/json\"\n    ]\n\n    body = JSON3.write(Dict(\n        \"input\" =\u003e text,\n        \"model\" =\u003e model\n    ))\n\n    response = HTTP.post(url, headers, body)\n    result = JSON3.read(String(response.body))\n\n    return Vector(result.data[1].embedding)\nend","key":"dg2ghdsUx2"},{"type":"output","id":"CUDYjsgRN-JBcCSo6ZaLz","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"get_embedding (generic function with 1 method)","content_type":"text/plain"}}}],"key":"HWkRecHyDY"}],"key":"LpyQsUpXEK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s test this with some network-related concepts:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BwOAl37C64"}],"key":"PQeedF38u4"}],"key":"xvXfLk319c"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Embed some network-related texts\ntexts = [\n    \"Graph theory studies the mathematical structure of networks\",\n    \"The clustering coefficient measures the tendency of nodes to form triangles\",\n    \"Preferential attachment leads to power law degree distributions\",\n    \"I enjoy eating pizza with extra cheese\"\n]\n\nembeddings = [get_embedding(text) for text in texts]\n\nprintln(\"Embedding dimension: \", length(embeddings[1]))\nprintln(\"First few values of first embedding: \", embeddings[1][1:5])","key":"YX1gbsT17i"},{"type":"output","id":"x0rwd-Qf3hDrytX-FIE3e","data":[{"name":"stdout","output_type":"stream","text":"Embedding dimension: 1536\nFirst few values of first embedding: [-0.059553657, -0.029068848, 0.023821464, -0.023550766, -0.0076992884]\n"}],"key":"zDPG3IXwn5"}],"key":"t9gN5H5vQO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now let’s compute cosine similarity between these texts:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s80M1GvU29"}],"key":"J2kC63h8a3"}],"key":"GDrZNFwHJ2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using LinearAlgebra\n\nfunction cosine_similarity(a::Vector{Float64}, b::Vector{Float64})\n    \"\"\"\n    Compute cosine similarity between two vectors\n    \"\"\"\n    return dot(a, b) / (norm(a) * norm(b))\nend\n\n# Compare first text (graph theory) to all others\nprintln(\"Similarities to: '\", texts[1], \"'\\n\")\nfor (i, text) in enumerate(texts)\n    sim = cosine_similarity(embeddings[1], embeddings[i])\n    println(\"Text $i ($(text[1:min(40, end)])...): $(round(sim, digits=4))\")\nend","key":"oVLtVcZDdX"},{"type":"output","id":"h5Vi_O8a3NRAaZ8W2vXmJ","data":[{"name":"stdout","output_type":"stream","text":"Similarities to: 'Graph theory studies the mathematical structure of networks'\n\nText 1 (Graph theory studies the mathematical st...): 1.0\nText 2 (The clustering coefficient measures the ...): 0.3744\nText 3 (Preferential attachment leads to power l...): 0.4689\nText 4 (I enjoy eating pizza with extra cheese...): 0.0422\n"}],"key":"T3c2QlqbqG"}],"key":"sNldRGkWlm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What do we see?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Rm604VBWmr"}],"key":"JkMKAssmLi"}],"key":"nTyORWifZ6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The first three texts (all about networks) have high similarity to each other (typically \u003e 0.7)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RRWVwBaQfc"}],"key":"TRi1WrNkYy"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The pizza text has low similarity to the network texts (typically \u003c 0.5)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kZOqMk3AWY"}],"key":"ZEWvGHvxie"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This demonstrates that embeddings capture semantic meaning","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"r8QYIo9p4z"}],"key":"tllyrt5u4a"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Texts about similar topics cluster together in the embedding space","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"M7ZxZHYdDJ"}],"key":"Xtl9siQiqn"}],"key":"IeQ39SqE9u"}],"key":"GM0k59949L"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 1: Exploring Embeddings","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tlHckQcXAT"}],"identifier":"exercise-1-exploring-embeddings","label":"Exercise 1: Exploring Embeddings","html_id":"exercise-1-exploring-embeddings","implicit":true,"key":"XF52oGwJyw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Create embeddings for the following texts and compute their pairwise similarities:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wACMQBZeSm"}],"key":"K5UbXj5xKw"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"“Nash equilibrium is a solution concept in game theory”","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JhAXa78FyH"}],"key":"BMOa3trifg"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"“Players choose strategies to maximize their payoffs”","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fUyW9XOpOX"}],"key":"Hz2dFutAup"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"“Agent-based models simulate individual decision makers”","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YF6PawiEPf"}],"key":"pbwmg4FeyX"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"“The weather today is sunny and warm”","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kHuIrXDLSj"}],"key":"VejKCNU3nj"}],"key":"Ae9jSMDzj2"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Questions:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BwSSwsN1Y8"}],"key":"Wt9vtq2ZvW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Which pairs of texts have the highest similarity?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"WvXEGfkH0z"}],"key":"npunLmjyyB"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Does the game theory text have higher similarity to the ABM text or the weather text? Why?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"f3WoMInwGS"}],"key":"ihWuaQlfJA"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What does this tell you about how embeddings capture domain knowledge?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"x3JSa9vber"}],"key":"LkDoXDRgaJ"}],"key":"uyhERCL757"}],"key":"jqTqSZdDG6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# TODO: your code here","key":"MA2RfiYFlT"},{"type":"output","id":"TgKiQI2_elACUpG5B8-Im","data":[],"key":"B8VdrNn8fr"}],"key":"ojx2j2tQuX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Building a RAG Pipeline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FQOoeN839j"}],"identifier":"building-a-rag-pipeline","label":"Building a RAG Pipeline","html_id":"building-a-rag-pipeline","implicit":true,"key":"POzLfqkw2I"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now that we understand embeddings, we can build a complete RAG system","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G2PJUPBORG"}],"key":"eGUVZWHOI1"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"A RAG pipeline has four main stages:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hzS4hZrcQD"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Chunking","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AjtrcYUXZy"}],"key":"zdfkJX9mCA"},{"type":"text","value":": Break documents into manageable pieces","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IUJFIbTChf"}],"key":"rDBK5xXy9L"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Embedding","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"PIxJdznXBR"}],"key":"MvGWZp9oaD"},{"type":"text","value":": Convert chunks to vectors and store them","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Vq3wDI8Gkm"}],"key":"bmsJtQugyB"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Retrieval","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QLv5DxmcaD"}],"key":"XKPSud23MY"},{"type":"text","value":": Find most relevant chunks for a query","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"iYJ0p1Rdis"}],"key":"ikaFvVWzQv"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Generation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lgdzcWTHex"}],"key":"Cavy1CAXSH"},{"type":"text","value":": Use LLM to answer query with retrieved context","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"X2jFKB6GyW"}],"key":"oQmTghF6oP"}],"key":"ZYs7wPTyTK"}],"key":"uQCLTpPnbz"}],"key":"mTTsi55S2d"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Let’s build each component step by step.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"EpcT5xrzI3"}],"key":"PZTdWqdt6l"}],"key":"oDAlNdqAA7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Stage 1: Chunking","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UvsxNiafXU"}],"identifier":"stage-1-chunking","label":"Stage 1: Chunking","html_id":"stage-1-chunking","implicit":true,"key":"Oz6bE6clME"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Most documents are too long to embed as a single unit","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HaAKOabT6t"}],"key":"MXxfLbYVqw"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We need to break them into ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UXCADuGbhs"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"chunks","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"USlB3SzcyV"}],"key":"JIDvCoUrxc"},{"type":"text","value":" - smaller, semantically meaningful pieces","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"O629sIXUf2"}],"key":"mnxuo1erjr"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Typical chunk sizes: 100-500 words or 400-2000 characters","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K1hNwKvJuY"}],"key":"ZHSnoTLNgb"}],"key":"fWAYRO2Wct"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Why chunk?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QVAGuBx52Z"}],"key":"nASKOM1YF1"}],"key":"RzWERXTiXV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Embeddings work best on focused, coherent pieces of text","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EHo3cyWUGG"}],"key":"qR2KWyNiPr"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Enables fine-grained retrieval (find specific relevant paragraphs, not whole documents)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"CFhegySAr2"}],"key":"j2Nmyyy1Iq"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Fits within LLM context limits (we can only inject so much context)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jDaH34CcNc"}],"key":"GYjkuhjoln"}],"key":"iwjKc8PtJ0"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Chunking strategies","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"lEAE5njf8D"}],"key":"ma2agH7SC6"},{"type":"text","value":":","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"voJhFAVQl8"}],"key":"MJyd2VJt0i"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Fixed size: Every N characters or words","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bXRmapxny1"}],"key":"MF7BK8uoA8"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Natural boundaries: By paragraph, section, or sentence","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Qq0cPkPiqx"}],"key":"UCOkDH6IBF"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Semantic: Using embeddings to identify topic shifts","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"dbb6O8p0ep"}],"key":"h0ZufMS9tR"}],"key":"jSte97bAfo"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For this lecture, we’ll use a simple paragraph-based chunking:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"BXDnBVqdYT"}],"key":"kwkIS4QT7I"}],"key":"dSlADhcJaA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function chunk_text(text::String; max_chunk_size::Int=1000, overlap::Int=100)\n    \"\"\"\n    Split text into overlapping chunks\n\n    Args:\n        text: Input text to chunk\n        max_chunk_size: Maximum characters per chunk\n        overlap: Number of characters to overlap between chunks\n\n    Returns:\n        Vector of text chunks\n    \"\"\"\n    # Split by paragraphs first (double newline)\n    paragraphs = split(text, \"\\n\\n\")\n\n    chunks = String[]\n    current_chunk = \"\"\n\n    for para in paragraphs\n        # If adding this paragraph would exceed max size, save current chunk\n        if length(current_chunk) + length(para) \u003e max_chunk_size \u0026\u0026 !isempty(current_chunk)\n            push!(chunks, strip(current_chunk))\n            # Start new chunk with overlap from previous\n            current_chunk = current_chunk[max(1, end-overlap):end]\n        end\n\n        current_chunk *= para * \"\\n\\n\"\n    end\n\n    # Don't forget last chunk\n    if !isempty(strip(current_chunk))\n        push!(chunks, strip(current_chunk))\n    end\n\n    return chunks\nend","key":"GZxwKPw4wY"},{"type":"output","id":"RQdOx15H6AUjI-Qtv0Djp","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"chunk_text (generic function with 1 method)","content_type":"text/plain"}}}],"key":"JmqNNaa2FX"}],"key":"SsjpWnfycc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Stage 2: Vector Database","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vQ6HBbFDIn"}],"identifier":"stage-2-vector-database","label":"Stage 2: Vector Database","html_id":"stage-2-vector-database","implicit":true,"key":"HLjTAu34yA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Once we have chunks and embeddings, we need to store them efficiently","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zsxhUDT7XW"}],"key":"k5LN0ePnbr"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"A ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aFZCo5uO9F"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"vector database","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IQ8o36mzXP"}],"key":"uBTLNwtjmc"},{"type":"text","value":" stores embeddings and enables fast similarity search","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"RbisjKDlie"}],"key":"iRfQkVIdkf"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For this lecture, we’ll build a simple in-memory vector store","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GLawdwg5Ch"}],"key":"xqHZt9XBP4"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Production systems typically use specialized vector databases like:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zSpWn73wXy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Pinecone","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"bYYyvKGj9U"}],"key":"GpKqRyhRB5"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Weaviate","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YrCkiEI9eR"}],"key":"qWOF0spsvQ"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Qdrant","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eaARKdLsRL"}],"key":"Wba4pyi5ml"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Chroma","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"PYQy9ku9UN"}],"key":"cXwoli8hIz"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"pgvector (PostgreSQL extension)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"CwYMYY35B0"}],"key":"X24ZzJJqlG"}],"key":"nKqc39KlJG"}],"key":"rNwlzV186s"}],"key":"VKwwzcv6jl"}],"key":"YN9QcpXllz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using DataFrames\n\nmutable struct VectorStore\n    documents::Vector{String}          # Original text chunks\n    embeddings::Vector{Vector{Float64}}  # Corresponding embeddings\n    metadata::Vector{Dict{String, Any}}  # Optional metadata (source, page, etc.)\nend\n\n# Constructor for empty store\nVectorStore() = VectorStore(String[], Vector{Float64}[], Dict{String, Any}[])\n\nfunction add_documents!(store::VectorStore, docs::Vector{String}; metadata=nothing)\n    \"\"\"\n    Add documents to the vector store by computing and storing their embeddings\n    \"\"\"\n    println(\"Embedding $(length(docs)) documents...\")\n\n    for (i, doc) in enumerate(docs)\n        # Get embedding\n        emb = get_embedding(doc)\n\n        # Store document, embedding, and metadata\n        push!(store.documents, doc)\n        push!(store.embeddings, emb)\n\n        if metadata !== nothing \u0026\u0026 i \u003c= length(metadata)\n            push!(store.metadata, metadata[i])\n        else\n            push!(store.metadata, Dict(\"index\" =\u003e i))\n        end\n\n        if i % 10 == 0\n            println(\"  Processed $i/$(length(docs))...\")\n        end\n    end\n\n    println(\"Done! Store now contains $(length(store.documents)) documents.\")\nend\n\nfunction search(store::VectorStore, query::String; top_k::Int=5)\n    \"\"\"\n    Search for most similar documents to query\n\n    Args:\n        store: Vector store to search\n        query: Search query text\n        top_k: Number of results to return\n\n    Returns:\n        DataFrame with columns: rank, document, similarity, metadata\n    \"\"\"\n    # Embed the query\n    query_emb = get_embedding(query)\n\n    # Compute similarities to all documents\n    similarities = [cosine_similarity(query_emb, doc_emb) for doc_emb in store.embeddings]\n\n    # Get top k indices\n    top_indices = partialsortperm(similarities, 1:min(top_k, length(similarities)), rev=true)\n\n    # Build result dataframe\n    results = DataFrame(\n        rank = 1:length(top_indices),\n        document = store.documents[top_indices],\n        similarity = similarities[top_indices],\n        metadata = store.metadata[top_indices]\n    )\n\n    return results\nend","key":"zW5S3zNVR2"},{"type":"output","id":"MvQPWnEudMywMyArGcDR7","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"search (generic function with 1 method)","content_type":"text/plain"}}}],"key":"drMzjdcRAb"}],"key":"yleTEAySOh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Stage 3 \u0026 4: Retrieval and Generation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z6OnnVmccJ"}],"identifier":"stage-3-4-retrieval-and-generation","label":"Stage 3 \u0026 4: Retrieval and Generation","html_id":"stage-3-4-retrieval-and-generation","implicit":true,"key":"zdYKhF0Jkb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we can combine retrieval with LLM generation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B5TjdRi0ln"}],"key":"QInp31rEq4"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The key is to inject retrieved documents into the LLM’s context","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Eo0WgY3HJM"}],"key":"z4CunOP2NB"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"We’ll create a function that:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DIqCNFPzCp"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Takes a user query","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NyqD8Xim8n"}],"key":"mgbiaZj1Oj"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Retrieves relevant chunks from vector store","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"JrnoCfBeFE"}],"key":"mjyDQQEQeH"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Constructs instructions with retrieved context","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"i55aXyux44"}],"key":"EyaSdHaMAt"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Sends to LLM via OpenAI’s Responses API for final answer","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"dYgXlNK4fo"}],"key":"qPX7Kjq5x7"}],"key":"SvEGGcm8zy"}],"key":"SMpLoyrSiy"}],"key":"b8IbwQAFLH"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Note","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"yORNISg8GA"}],"key":"FBdhUqnW2X"},{"type":"text","value":": We’re using OpenAI’s Responses API (","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Bhfx50qoQY"},{"type":"inlineCode","value":"/v1/responses","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"EGTbQvcI0x"},{"type":"text","value":") which is the modern successor to the Chat Completions API. The Responses API uses ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vdJSVBcege"},{"type":"inlineCode","value":"instructions","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"aUUyb95PjC"},{"type":"text","value":" for system-level guidance and ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"icE3JnnLLq"},{"type":"inlineCode","value":"input","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"EEgCwxkG0U"},{"type":"text","value":" for user queries, providing a cleaner interface for stateful interactions.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"hqbRHAHpyU"}],"key":"wGtiJWO66K"}],"key":"t1e9g3TNQO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function rag_query(store::VectorStore, query::String; top_k::Int=3, model::String=\"gpt-5\")\n    \"\"\"\n    Answer a query using RAG: retrieve relevant docs, then generate answer\n\n    Args:\n        store: Vector store containing knowledge base\n        query: User's question\n        top_k: Number of documents to retrieve\n        model: OpenAI model to use for generation (default: gpt-5)\n\n    Returns:\n        Generated answer and retrieved documents\n    \"\"\"\n    # Step 1: Retrieve relevant documents\n    results = search(store, query; top_k=top_k)\n\n    # Step 2: Construct context from retrieved documents\n    context = \"\"\n    for i in 1:nrow(results)\n        context *= \"Document $i:\\n$(results.document[i])\\n\\n\"\n    end\n\n    # Step 3: Build instructions with context\n    instructions = \"\"\"\n    You are a helpful assistant that answers questions based on provided context.\n    Use the context below to answer the user's question. If the context doesn't\n    contain enough information to answer the question, say so - do not make up information.\n\n    Context:\n    $(context)\n    \"\"\"\n\n    # Step 4: Call LLM using Responses API\n    response = call_gpt(\n        query;\n        instructions=instructions,\n        model=model\n    )\n\n    return (answer=response, sources=results)\nend\n\nfunction call_gpt(input::String; instructions::String=\"\", model::String=\"gpt-5-nano\", reasoning_effort::String=\"low\")\n    url = \"https://api.openai.com/v1/responses\"\n\n    # OPENAI_API_KEY should be loaded from ENV via DotEnv\n    headers = [\n        \"Authorization\" =\u003e \"Bearer $(ENV[\"OPENAI_API_KEY\"])\",\n        \"Content-Type\" =\u003e \"application/json\"\n    ]\n\n    # Build request body with Responses API format\n    request_body = Dict(\n        \"model\" =\u003e model,\n        \"input\" =\u003e input,\n        \"reasoning\" =\u003e Dict(\"effort\" =\u003e reasoning_effort)\n    )\n\n    # Add instructions if provided\n    if !isempty(instructions)\n        request_body[\"instructions\"] = instructions\n    end\n\n    body = JSON3.write(request_body)\n\n    response = HTTP.post(url, headers, body)\n    result = JSON3.read(String(response.body))\n\n    # NOTE: result.output is an array that can have multiple items. We are assuming a simple case here...\n    return result.output[end].content[1].text\nend","key":"iJLFJZGqFr"},{"type":"output","id":"DFxx4JJBdgmhkbF8-zhCe","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"call_gpt (generic function with 1 method)","content_type":"text/plain"}}}],"key":"N7mI39KIlU"}],"key":"S3MZym5XXh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Application: Network Analysis Assistant","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KvCs4cRw3T"}],"identifier":"application-network-analysis-assistant","label":"Application: Network Analysis Assistant","html_id":"application-network-analysis-assistant","implicit":true,"key":"gnfdQoEBQM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s build a practical RAG application: an AI assistant for graph theory and network analysis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"af6MfHLUdu"}],"key":"MqhXAc7Eoc"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We’ll create a knowledge base from summaries of key network concepts","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fwgJxrfBaV"}],"key":"CRE1HiVgfP"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This assistant will be able to answer questions about network theory using retrieved information","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tPFBPPvCHI"}],"key":"Iat02Yrcqy"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"In a real application, you would load actual research papers, textbooks, or documentation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gMC4wLh8SN"}],"key":"brqJnoiJNF"}],"key":"u8VPKI7SZe"}],"key":"HUf5mKDS4t"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Building the Knowledge Base","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"omx3jZWqBh"}],"identifier":"building-the-knowledge-base","label":"Building the Knowledge Base","html_id":"building-the-knowledge-base","implicit":true,"key":"mfaIlCRs7A"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s create a knowledge base with information about graph theory and network analysis:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RRiK58z8Te"}],"key":"pg80u1Ya2y"}],"key":"rebfvFB0bT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Sample documents about network analysis\n# In practice, you would load these from files, scrape papers, etc.\nnetwork_docs = [\n    \"\"\"\n    Clustering Coefficient\n\n    The clustering coefficient measures the degree to which nodes in a graph tend to\n    cluster together. For a given node, it is defined as the proportion of connections\n    between the node's neighbors which are also connected to each other.\n\n    Formally, for node i with degree k_i, if there are E_i edges between its neighbors,\n    the local clustering coefficient is C_i = 2*E_i / (k_i * (k_i - 1)).\n\n    The global clustering coefficient averages this measure across all nodes. High\n    clustering coefficients are characteristic of social networks and indicate the\n    presence of tightly-knit communities.\n    \"\"\",\n\n    \"\"\"\n    Preferential Attachment and Scale-Free Networks\n\n    Preferential attachment is a mechanism by which networks grow over time. When a new\n    node joins the network, it forms connections preferentially to nodes that already\n    have many connections - the \"rich get richer\" phenomenon.\n\n    The Barabási-Albert model (1999) demonstrated that preferential attachment leads to\n    scale-free networks with power law degree distributions. In such networks, P(k) ~ k^(-γ)\n    where γ is typically between 2 and 3.\n\n    Scale-free networks are characterized by the presence of hubs - nodes with\n    disproportionately high degree. Examples include the Internet, citation networks,\n    and social media platforms.\n    \"\"\",\n\n    \"\"\"\n    Small-World Networks\n\n    Small-world networks, introduced by Watts and Strogatz (1998), exhibit two key properties:\n    high clustering (like regular lattices) and short path lengths (like random graphs).\n\n    The small-world phenomenon, popularly known as \"six degrees of separation,\" refers to\n    the observation that most pairs of nodes in many real networks are connected by short\n    paths, typically of length 6 or less.\n\n    The Watts-Strogatz model generates small-world networks by starting with a ring lattice\n    and randomly rewiring edges with some probability p. For intermediate values of p,\n    the network maintains high clustering while gaining shortcuts that reduce path length.\n    \"\"\",\n\n    \"\"\"\n    Centrality Measures\n\n    Centrality measures identify the most important nodes in a network. Different\n    centrality measures capture different notions of importance:\n\n    1. Degree centrality: Simply counts the number of connections. High degree nodes\n       are \"hubs\" that directly connect to many others.\n\n    2. Betweenness centrality: Counts how often a node lies on shortest paths between\n       other nodes. High betweenness nodes are \"bridges\" that control information flow.\n\n    3. Closeness centrality: Measures the average distance from a node to all others.\n       High closeness nodes can reach the network quickly.\n\n    4. Eigenvector centrality: A node is important if it connects to other important\n       nodes. This is the principle behind Google's PageRank algorithm.\n    \"\"\",\n\n    \"\"\"\n    Community Detection\n\n    Community detection aims to identify groups of nodes that are more densely connected\n    internally than to the rest of the network. Communities represent functional modules\n    or social groups.\n\n    The modularity measure quantifies the quality of a partition. For partition C,\n    modularity Q = (1/2m) * Σ[A_ij - (k_i*k_j/2m)] * δ(c_i, c_j), where m is the total\n    number of edges, A_ij is the adjacency matrix, and δ(c_i, c_j) = 1 if nodes i and j\n    are in the same community.\n\n    Popular algorithms include the Louvain method, which greedily optimizes modularity,\n    and spectral methods based on the graph Laplacian. Community structure appears in\n    social networks (friend groups), biological networks (protein complexes), and\n    information networks (topic clusters).\n    \"\"\",\n\n    \"\"\"\n    Network Resilience and Robustness\n\n    Network resilience refers to a network's ability to maintain functionality when nodes\n    or edges are removed. This is crucial for infrastructure networks, communication systems,\n    and biological systems.\n\n    Scale-free networks exhibit a peculiar property: they are robust to random failures\n    but vulnerable to targeted attacks. Removing random nodes has little effect because\n    most nodes have low degree. However, removing hubs quickly fragments the network.\n\n    The resilience of random graphs is more uniform - they handle both random and targeted\n    removal similarly. Measuring resilience involves computing the size of the largest\n    connected component as nodes are progressively removed.\n    \"\"\",\n\n    \"\"\"\n    Network Formation and Strategic Link Formation\n\n    In many contexts, network connections form through strategic decisions by self-interested\n    agents. Game-theoretic models of network formation consider the costs and benefits of\n    forming links.\n\n    Jackson and Wolinsky (1996) introduced the concept of pairwise stability: a network is\n    pairwise stable if no agent wants to sever a link and no pair of agents wants to form\n    a new link.\n\n    The tension between individual incentives and social welfare is central to network\n    formation theory. The star network, where one central node connects to all others,\n    often minimizes total distance (socially optimal) but may not be pairwise stable\n    without appropriate transfer payments.\n    \"\"\",\n\n    \"\"\"\n    Information Diffusion and Cascades\n\n    Information, behaviors, and innovations spread through networks via social influence.\n    The threshold model (Granovetter, 1978) posits that individuals adopt a behavior when\n    a threshold fraction of their neighbors have adopted it.\n\n    A cascade occurs when an initial adoption by a few nodes triggers a chain reaction\n    of adoptions throughout the network. Whether cascades occur depends on the distribution\n    of thresholds and the network structure.\n\n    Weak ties play a crucial role in diffusion (Granovetter, 1973). While strong ties\n    create dense, clustered groups, weak ties serve as bridges between communities and\n    enable information to reach new populations. This explains why job seekers often find\n    opportunities through acquaintances rather than close friends.\n    \"\"\"\n]\n\nprintln(\"Created knowledge base with $(length(network_docs)) documents\")","key":"ciWaLPXjE5"},{"type":"output","id":"kg5j7-u4aLkqLvT-GudLz","data":[{"name":"stdout","output_type":"stream","text":"Created knowledge base with 8 documents\n"}],"key":"r4Ps3DyyNZ"}],"key":"RyG0ZC0Q4x"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now let’s create our vector store and add these documents:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U77G0qJnGM"}],"key":"OV6Qawk8ZJ"}],"key":"YJxYVWXExv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Initialize vector store\nnetwork_store = VectorStore()\n\n# Add documents to store (this will take a moment as we embed each document)\nadd_documents!(network_store, network_docs)","key":"aFpz3rrWf3"},{"type":"output","id":"1u4TU8C-igfMj_cpfCl_S","data":[{"name":"stdout","output_type":"stream","text":"Embedding 8 documents...\nDone! Store now contains 8 documents.\n"}],"key":"d1QIE617rb"}],"key":"bSqa4BlReY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Testing Our Network Analysis Assistant","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WriZwHRuqM"}],"identifier":"testing-our-network-analysis-assistant","label":"Testing Our Network Analysis Assistant","html_id":"testing-our-network-analysis-assistant","implicit":true,"key":"CKEjAr21cR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s test our RAG system with some questions about networks:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LFQxWSGiOu"}],"key":"kpzHqrjE2R"}],"key":"Jvt4kDMnb1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Question 1: About clustering\nq1 = \"What is the clustering coefficient and how is it calculated?\"\nresult1 = rag_query(network_store, q1)\n\nprintln(\"Question: \", q1)\nprintln(\"\\nAnswer:\\n\", result1.answer)\nprintln(\"\\n\" * \"=\"^80)\nprintln(\"Top sources used:\")\nfor i in 1:min(2, nrow(result1.sources))\n    println(\"\\n[$i] (similarity: $(round(result1.sources.similarity[i], digits=3)))\")\n    println(result1.sources.document[i][1:min(200, end)] * \"...\")\nend","key":"ZkegmWsfsi"},{"type":"output","id":"7qD7k06yY-zJ2ibx5GGRh","data":[{"name":"stdout","output_type":"stream","text":"Question: What is the clustering coefficient and how is it calculated?\n\nAnswer:\nThe clustering coefficient quantifies how much a node’s neighbors are connected to each other (how “clustered” they are).\n\n- Local clustering coefficient for node i: C_i = 2*E_i / (k_i * (k_i - 1))\n  - k_i: degree of node i (number of neighbors)\n  - E_i: number of edges that actually exist between those neighbors\n  - It measures the fraction of possible neighbor-to-neighbor links that are present.\n\n- Global clustering coefficient: the average of the local clustering coefficients over all nodes.\n\nHigh values indicate tightly knit groups, common in social networks.\n\n================================================================================\nTop sources used:\n\n[1] (similarity: 0.765)\nClustering Coefficient\n\nThe clustering coefficient measures the degree to which nodes in a graph tend to\ncluster together. For a given node, it is defined as the proportion of connections\nbetween the ...\n\n[2] (similarity: 0.416)\nCommunity Detection\n\nCommunity detection aims to identify groups of nodes that are more densely connected\ninternally than to the rest of the network. Communities represent functional modules\nor social...\n"}],"key":"xoo6L5z5oR"}],"key":"RdAnWL9PCJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Question 2: About scale-free networks\nq2 = \"Why are scale-free networks vulnerable to targeted attacks?\"\nresult2 = rag_query(network_store, q2)\n\nprintln(\"Question: \", q2)\nprintln(\"\\nAnswer:\\n\", result2.answer)","key":"yda9dNWEYi"},{"type":"output","id":"6bMAknAE0E3p1bauf7RfI","data":[{"name":"stdout","output_type":"stream","text":"Question: Why are scale-free networks vulnerable to targeted attacks?\n\nAnswer:\nBecause scale-free networks rely on a few high-degree hubs to hold the network together. Targeted attacks that remove these hubs quickly fragment the network and shrink the largest connected component, causing a rapid loss of connectivity, even though random failures (which mostly hit low-degree nodes) have little effect.\n"}],"key":"VMwyLNGhSV"}],"key":"Ob4yIGBzwT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Question 3: About weak ties\nq3 = \"What role do weak ties play in information diffusion?\"\nresult3 = rag_query(network_store, q3)\n\nprintln(\"Question: \", q3)\nprintln(\"\\nAnswer:\\n\", result3.answer)","key":"UAZErHYuAg"},{"type":"output","id":"tiTf3bALTy73bNXkrC-C4","data":[{"name":"stdout","output_type":"stream","text":"Question: What role do weak ties play in information diffusion?\n\nAnswer:\nWeak ties act as bridges between otherwise separate, densely clustered groups. By connecting different communities, they let information travel beyond local circles, reaching new populations and enabling broader cascades of adoption. This is why people often hear about job opportunities through acquaintances rather than close friends.\n"}],"key":"Ce4Va36w59"}],"key":"iwv1A62KGN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Comparing RAG vs Vanilla LLM","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sKNPp6OHKL"}],"identifier":"comparing-rag-vs-vanilla-llm","label":"Comparing RAG vs Vanilla LLM","html_id":"comparing-rag-vs-vanilla-llm","implicit":true,"key":"Spo8oOGH5U"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s demonstrate the value of RAG by comparing answers with and without retrieved context:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kZVpuRKt0O"}],"key":"Mg6kfEB42C"}],"key":"sXrfYBO4zk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function vanilla_llm_query(query::String; model::String=\"gpt-5\")\n    \"\"\"\n    Query LLM without RAG (no retrieved context)\n    \"\"\"\n    return call_gpt(\n        query;\n        instructions=\"You are a helpful assistant.\",\n        model=model\n    )\nend\n\n# Ask a specific question that requires precise information\nspecific_q = \"What is the formula for local clustering coefficient in a graph?\"\n\nprintln(\"Question: \", specific_q)\nprintln(\"\\n\" * \"=\"^80)\nprintln(\"Vanilla LLM Answer:\")\nprintln(vanilla_llm_query(specific_q))\nprintln(\"\\n\" * \"=\"^80)\nprintln(\"RAG Answer:\")\nprintln(rag_query(network_store, specific_q).answer)","key":"DdSd0oF30i"},{"type":"output","id":"SF4emsK803zT-i4AhJTKK","data":[{"name":"stdout","output_type":"stream","text":"Question: What is the formula for local clustering coefficient in a graph?\n\n================================================================================\nVanilla LLM Answer:\nFor an undirected, unweighted graph, the local clustering coefficient of a node v is:\n\nC(v) = 2 e_v / [k_v (k_v − 1)]\n\n- k_v = degree of v (number of neighbors)\n- e_v = number of edges between neighbors of v (equivalently, number of triangles involving v)\n\nBy convention, C(v) = 0 if k_v \u003c 2.\n\nNote (directed variant): For directed graphs, the maximal number of possible edges among neighbors is k_v (k_v − 1), so a common definition is C(v) = e_v / [k_v (k_v − 1)], where e_v counts directed edges among neighbors.\n\n================================================================================\nRAG Answer:\nC_i = 2 E_i / [k_i (k_i − 1)], where k_i is the degree of node i and E_i is the number of edges between its neighbors.\n"}],"key":"vns343wsHg"}],"key":"Uvb8Rvk26u"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Observations:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ggDloBSGCM"}],"key":"YYEucUY0xH"}],"key":"HuF8E79uJL"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Both answers are likely correct (this is a well-known formula in the LLM’s training data). However:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ERYNnytf2y"}],"key":"sckUUKTgwM"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"With RAG","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PAjwCUY5Sy"}],"key":"GHqHCGCHUH"},{"type":"text","value":", we know exactly where the answer came from (we can cite sources)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AmP5CiFkkr"}],"key":"qvKfLVergl"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"With RAG","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"riAjPV5SyJ"}],"key":"WSDFTbQDKs"},{"type":"text","value":", if we had proprietary or recent information, the LLM couldn’t answer without it","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ARZulaLDhW"}],"key":"dO4fNj8M4J"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"With RAG","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lowsoEQMJw"}],"key":"lMYPTOSZzA"},{"type":"text","value":", we can update knowledge without retraining the model","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"I3Kx7HkMGf"}],"key":"a4bKoQwkwY"}],"key":"nOon1K0Llx"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Let’s test with a question the LLM definitely doesn’t know:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VOueOyXhfF"}],"key":"WgNA4IPGmm"}],"key":"IR9I9rveWO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Add a \"research paper\" about a fictional concept\nfictional_doc = [\"\"\"\nRecent work by Spencer Lyon (2025) introduced the concept of \"resonance centrality\"\nfor dynamic networks. Unlike traditional centrality measures which focus on static\nnetwork structure, resonance centrality captures how a node's importance oscillates\nover time due to feedback loops.\n\nThe resonance centrality R_i(t) for node i at time t is computed as:\nR_i(t) = β * Σ_j A_ij(t) * R_j(t-1) + (1-β) * d_i(t)\n\nwhere A_ij(t) is the time-varying adjacency matrix, d_i(t) is the degree at time t,\nand β ∈ [0,1] controls the memory of past centrality.\n\nLyon showed that in social networks, nodes with high resonance centrality are often\n\"trend catalysts\" - they don't just spread information, but trigger cascades that\nfeed back to amplify their influence in subsequent time periods.\n\"\"\"]\n\nadd_documents!(network_store, fictional_doc)\n\n# Now ask about it\nfictional_q = \"What is resonance centrality and how is it calculated?\"\n\nprintln(\"Question: \", fictional_q)\nprintln(\"\\n\" * \"=\"^80)\nprintln(\"Vanilla LLM Answer:\")\nprintln(vanilla_llm_query(fictional_q))\nprintln(\"\\n\" * \"=\"^80)\nprintln(\"RAG Answer:\")\nprintln(rag_query(network_store, fictional_q).answer)","key":"uUwKWJcMyS"},{"type":"output","id":"MfXVg3pnXN11-gPYRG1aG","data":[{"name":"stdout","output_type":"stream","text":"Embedding 1 documents...\nDone! Store now contains 9 documents.\nQuestion: What is resonance centrality and how is it calculated?\n\n================================================================================\nVanilla LLM Answer:\nResonance centrality is a frequency-dependent notion of node importance for networks with dynamical processes. It ranks nodes by how strongly they respond to an oscillatory (periodic) input that propagates through the network dynamics. In other words, a node is “resonantly central” if the dynamics make it amplify signals at some frequency more than other nodes.\n\nHow it is defined (general idea)\n- Choose a linear dynamical model on the network (first- or second-order), and a vector b describing which nodes are externally driven.\n- Drive the system with a sinusoidal input u(t) = Re{u0 e^{iωt}}.\n- Compute the steady-state frequency response (transfer function) from the input to each node. The magnitude of that response at node i is its frequency-dependent centrality gi(ω).\n- Resonance centrality of node i is then taken as, e.g., the peak response maxω gi(ω) (and the corresponding ω is the node’s resonant frequency). Some variants use the squared magnitude or the area under the curve across ω.\n\nCommon formulations\n\n1) First-order (diffusive/consensus-like) dynamics\n- Dynamics: x′(t) = A x(t) + b u(t) with A stable (often A = −L for a Laplacian L of an undirected graph).\n- Frequency response: H(ω) = (iωI − A)^{-1} b.\n- Node-i response magnitude: gi(ω) = |ei^T H(ω)| = |[(iωI − A)^{-1} b]_i|.\n- Resonance centrality (peak gain): Ri = maxω gi(ω).\n\nNotes:\n- If A = −L with L ≥ 0 (diffusion), the response typically peaks at low frequency (ω → 0). Then Ri ≈ |[L^† b]_i| (L^† is the Moore–Penrose pseudoinverse), so “resonance” reduces to a low-frequency (quasi-static) sensitivity, closely related to resistance-based measures.\n\n2) Second-order (oscillator/inertial) dynamics\n- Dynamics: M x″(t) + C x′(t) + K x(t) = b u(t), with M, C, K ≽ 0 (e.g., coupled oscillators, power grids).\n- Dynamic stiffness: Z(ω) = K − ω^2 M + iω C.\n- Frequency response: H(ω) = Z(ω)^{-1} b.\n- Node-i response magnitude: gi(ω) = |ei^T H(ω)|.\n- Resonance centrality: Ri = maxω gi(ω). True resonance peaks occur near the system’s natural frequencies (eigenvalues of (M, K) with damping from C).\n\nSpectral form (useful for computation and insight)\n- For first-order A diagonalizable: A = VΛV^{-1}, H(ω) = V (iωI − Λ)^{-1} V^{-1} b, so\n  gi(ω) = |∑k (vik wk)/(iω − λk)|, where wk are components of V^{-1}b.\n- Peaks occur where |iω − λk| is small and the mode k is excited (wk large) and observed at node i (vik large).\n\nPractical computation\n- Choose dynamics (A, or M, C, K) and the input profile b (uniform, single node, or application-specific).\n- Pick a frequency grid ω ∈ [ωmin, ωmax] covering relevant dynamics (near natural frequencies if known).\n- For each ω, solve a linear system:\n  - First-order: y(ω) = (iωI − A)^{-1} b.\n  - Second-order: y(ω) = (K − ω^2 M + iω C)^{-1} b.\n- Take gi(ω) = |y_i(ω)|. Define Ri = maxω gi(ω) (and optionally record the argmax for the resonant frequency).\n- Variants: use squared magnitude, L2 norm over frequencies ∫ gi(ω)^2 dω, or multiple input profiles and average.\n\nConnections to other centralities\n- Setting ω = 0 in first-order systems recovers static sensitivity measures linked to resistance distance and current-flow centralities.\n- Evaluating (sI − A)^{-1} at complex s relates resonance centrality to resolvent/Katz-type centralities; resonance centrality is the frequency-response version (s on the imaginary axis).\n\nIn short: resonance centrality is the node-wise peak (or frequency-shaped) gain of the network’s transfer function under oscillatory driving, computed via inverses of (iωI − A) for first-order or of dynamic stiffness matrices for second-order dynamics.\n\n================================================================================\nRAG Answer:\nResonance centrality is a dynamic-network centrality measure that captures how a node’s importance oscillates over time due to feedback loops. It emphasizes not just current connections but how past influence reverberates and amplifies across time.\n\nCalculation:\nFor node i at time t:\nR_i(t) = β * Σ_j A_ij(t) * R_j(t−1) + (1 − β) * d_i(t)\n\n- A_ij(t): time-varying adjacency (connection from j to i at time t)\n- R_j(t−1): resonance centrality of node j at the previous time step\n- d_i(t): degree of node i at time t\n- β ∈ [0,1]: memory parameter controlling how much past centrality influences the present\n\nInterpretation:\n- Higher β gives more weight to past influence propagating through the network (feedback).\n- Lower β leans more on the node’s current degree.\nIn social networks, nodes with high resonance centrality tend to be “trend catalysts” that trigger cascades which amplify their future influence.\n"}],"key":"FX6xueP3jt"}],"key":"Wz6976LTrY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What happened?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZvRiUkkeLh"}],"key":"wRWTxNk4Da"}],"key":"CcFiYoySUB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The vanilla LLM either says it doesn’t know, or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pc1RH5qaLE"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"hallucinates","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"C06OHoju24"}],"key":"YgwLDORpF2"},{"type":"text","value":" a plausible-sounding definition","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LgWWXBWTA8"}],"key":"uKCy8XRLTD"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The RAG system correctly retrieves and uses our fictional paper","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"J5FuR2yja5"}],"key":"GxsTCWHNzz"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This demonstrates how RAG enables working with proprietary, recent, or domain-specific knowledge","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nSkBRmP022"}],"key":"EIqDj3PFLn"}],"key":"rzrTzIc18T"}],"key":"jcTvUgIaYR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Trade-offs and Design Considerations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hYoNHpCUU1"}],"identifier":"trade-offs-and-design-considerations","label":"Trade-offs and Design Considerations","html_id":"trade-offs-and-design-considerations","implicit":true,"key":"fT2Jusgz6V"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now that we’ve built a working RAG system, let’s discuss key design decisions and trade-offs.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sN5tOiBenC"}],"key":"Vr0C7FeU4D"}],"key":"vmGDBZiD5A"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parametric vs Retrieval-Based Knowledge","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kae2qT6MNS"}],"identifier":"parametric-vs-retrieval-based-knowledge","label":"Parametric vs Retrieval-Based Knowledge","html_id":"parametric-vs-retrieval-based-knowledge","implicit":true,"key":"Tccpsf4AlF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Parametric Knowledge","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LmP3dkpmhj"}],"key":"CcQJ1d0Lat"},{"type":"text","value":" (in model weights):","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xiPMCuU0cg"}],"key":"tY0szKXvMB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Pros:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ciJWTDmQ2Q"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Fast: no need to search external sources","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"I17DMxjUjo"}],"key":"CpttPawWpn"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Synthesizes information from vast training corpus","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zWqs1QykOe"}],"key":"zJbvlrzO8o"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Good for general knowledge and reasoning","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hgIxBNdRbw"}],"key":"Qw7ajCDWLJ"}],"key":"JaqYnH8Bq9"}],"key":"PsBoySinK2"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Cons:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UU9di63h1p"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Fixed at training time","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fBpBoEltdq"}],"key":"L2iZa8uC3J"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Can’t update without retraining","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"t6c0eNhorZ"}],"key":"WEFhz2mE0N"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"May hallucinate when uncertain","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"cAr214ddDC"}],"key":"vKPzbLsrr0"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"No citations or provenance","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"gVYY14N3jH"}],"key":"BUWUdN46zc"}],"key":"eoRKrIHnbI"}],"key":"xy28mAGrKR"}],"key":"tjaP5w1pMY"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Retrieval-Based Knowledge","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CQK4Yd1WZj"}],"key":"CPLDrZxJ2L"},{"type":"text","value":" (via RAG):","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"h85MzxA7fD"}],"key":"yoR81pffpc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Pros:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"rAEme5J5KR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Can use up-to-date information","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"bK3DPHagc9"}],"key":"vpb7E7jSyj"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Access to proprietary/specialized knowledge","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"FNfto5u5nf"}],"key":"bErB1KSgUL"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Provides citations and sources","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"w8fVu88lIf"}],"key":"EthSonOEEO"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Reduces hallucination","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"f47Bg7cPtv"}],"key":"uojNViJO4x"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Updates without retraining","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"rYqv2xSnfJ"}],"key":"j95UjtOSAr"}],"key":"gBxgPwqwBD"}],"key":"FGKSmXtjoQ"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Cons:","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"aO26erCg9m"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Slower (requires retrieval step)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"a6Ig4o6Vj7"}],"key":"csJh43p1Aq"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Quality depends on retrieval accuracy","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"IlGBAQacaH"}],"key":"dzQNF8wguj"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Requires maintaining vector database","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"nq0u2meFlN"}],"key":"zJc89HyNQK"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"May miss information requiring synthesis across many sources","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Cb7pDLaPHp"}],"key":"c5BD8PWKIC"}],"key":"qke3m8ZNDT"}],"key":"J835E5tADw"}],"key":"huaimG6uhc"}],"key":"kF4dZbb1Em"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key Design Decisions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qzGc28H8xV"}],"identifier":"key-design-decisions","label":"Key Design Decisions","html_id":"key-design-decisions","implicit":true,"key":"xdZWdaCSQB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1. Chunk Size","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RtrVltGr3S"}],"key":"rysfyAgTZ9"}],"key":"TlBIovk4lU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Smaller chunks (100-200 words):","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oESXCcDlpS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"More precise retrieval","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gmlKw9BeCl"}],"key":"iteV6os1tL"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Better for question answering","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"I9Ku7byVzr"}],"key":"ZnC2RFar04"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"May lose context across chunk boundaries","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aUzY4vDSiF"}],"key":"Oir0hbSIxv"}],"key":"qeDslQ13RL"}],"key":"g7ZJrllwWP"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Larger chunks (500-1000 words):","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EqIbePXqr2"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Preserve more context","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vY1fRQLWmC"}],"key":"o8Da7VBypj"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Better for complex reasoning","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"owSOgIjSEh"}],"key":"BP3BIB4BOL"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"May include irrelevant information","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"if8azsgUbb"}],"key":"EbehvsjXIq"}],"key":"aGkVuSdil8"}],"key":"z2MzoCuR0x"}],"key":"mUACBpZlfk"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"2. Number of Retrieved Documents (top_k)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Zt0mYiztEA"}],"key":"WfqZNH7DjK"}],"key":"pA7w2m1w2N"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Few documents (k=1-3):","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"MKb7EuoGtN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Focuses on most relevant information","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"En5lvKSLyv"}],"key":"mvukKHuxgu"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Faster, uses less context window","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"jHZAVh3PBX"}],"key":"oYrZLsO1PN"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"May miss important information","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"edzNSUkXn5"}],"key":"whg6Cf9fvG"}],"key":"l1K2e77Hrz"}],"key":"dJi6sfb3M2"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Many documents (k=5-10):","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"um7O3Bhf0C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"More comprehensive context","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"SpJusDcDSi"}],"key":"iUjoFwXIej"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Better for complex queries","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"cKtNOUGxtU"}],"key":"MFZZ10Wk2w"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"May include noise, uses more tokens","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"YgXGg3saj2"}],"key":"KJIyuTCR6B"}],"key":"AnwOKE1mRr"}],"key":"AXHD8NjEIU"}],"key":"SsiBZ6tNMh"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"3. Embedding Model","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"EsiKfrFeq8"}],"key":"ajZvOuBy21"}],"key":"c16UgvShJC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":24,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Smaller models (text-embedding-3-small: 512-1536 dims):","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"YeEKgYFkXv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":25,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Faster embedding and search","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"xptODpQqIv"}],"key":"kvh4F8jNix"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Lower cost","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"vZhtvFpX4J"}],"key":"pnZiTz107t"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Slightly lower quality","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"oL1aGwQ9fr"}],"key":"IiGy5txRXt"}],"key":"d3txpK9Myc"}],"key":"Sfdw11drcv"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Larger models (text-embedding-3-large: 3072 dims):","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"bM2AsDYwuB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Better semantic understanding","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"f2eCwECFzA"}],"key":"x434hBoG4y"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"More accurate retrieval","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"RJ5a84MOvK"}],"key":"RqrJCen0IY"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Higher cost and latency","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"wIdhQdmGFJ"}],"key":"Rnn212LZuk"}],"key":"HoEM0v599y"}],"key":"PwlJy6V2wY"}],"key":"DYws5Bz33R"}],"key":"fUWYwgDXor"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Advanced RAG Techniques","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SbvjmcoTtu"}],"identifier":"advanced-rag-techniques","label":"Advanced RAG Techniques","html_id":"advanced-rag-techniques","implicit":true,"key":"uVjUt6guLb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Our implementation is a basic RAG pipeline. Production systems often use:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EPiyBQXsw9"}],"key":"VPMhLpxnk7"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1. Hybrid Search","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mbEnAorl25"}],"key":"V6Rnib9gXb"}],"key":"CaH1O0y4y4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Combine vector similarity with keyword search (BM25)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BugK5Vj7Fv"}],"key":"xhMrgFno1j"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Leverages both semantic and lexical matching","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"u3COHOwjRY"}],"key":"Q7HE3eCkCg"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"More robust to different query types","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZkDGyf4ItO"}],"key":"GXjqywYeIa"}],"key":"evSdVVHsks"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"2. Re-ranking","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gNQJ3EBYGk"}],"key":"aqtewejGi9"}],"key":"r6SAcwWJ3r"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Use a separate model to re-rank retrieved results","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JAYOBV5ufy"}],"key":"mTsMbqrD6C"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Can consider query-document interaction more deeply","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Ye2AdJChyX"}],"key":"Pu5FudddxW"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Improves precision of top results","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"tbuQzU1RKn"}],"key":"nGNEvwZTML"}],"key":"eML5VRd3kd"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"3. Query Expansion","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"oIRAqYyGoA"}],"key":"Y2tl7b6pa5"}],"key":"MQmVDDKhJL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Generate multiple variations of user query","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"l6KVNFKyzv"}],"key":"DJlbhwNRu3"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Search with all variations","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"lqFDYd5wEk"}],"key":"hE9tAI5bTt"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Helps with vocabulary mismatch between query and documents","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"LOOGVA0JgM"}],"key":"evD29383WG"}],"key":"kKJx2ZGo4l"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"4. Hierarchical Retrieval","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ikplMLk9Xz"}],"key":"jzGmpjmFMn"}],"key":"LFwXbCcmYL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"First retrieve at document level","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"NTfas4JsXL"}],"key":"tgrAvHsFm2"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Then retrieve specific passages within those documents","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"vweCorzLyv"}],"key":"kxIp0s9c7q"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Balances context and precision","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"QEhiNsj5Rk"}],"key":"ro2PgDqz4T"}],"key":"EPjl7sTGMd"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"5. Iterative RAG","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"DHvKun38Yw"}],"key":"WEtxj7TOug"}],"key":"VZ91iD5FYR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":26,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Let LLM decide what to retrieve next","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"KeBH3KOyM0"}],"key":"B58w85JjpZ"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Multiple retrieval rounds","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"JdsrFmZEyu"}],"key":"AnUe9yGURv"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Better for complex, multi-hop reasoning","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"VBzYYnxbCq"}],"key":"HFPOAoIYVi"}],"key":"X586dHaFRL"}],"key":"JFZsNTodjd"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Connection to Course Themes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DwlXbhNqZo"}],"identifier":"connection-to-course-themes","label":"Connection to Course Themes","html_id":"connection-to-course-themes","implicit":true,"key":"vsY0Vg5H6g"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"RAG systems connect to several course concepts:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p4XSVg6YLD"}],"key":"m0gygmoCh9"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Networks and Information Flow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hSdVXH1ulr"}],"key":"qrvcXPvNtS"}],"key":"sBM1QiENmD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"RAG creates edges from LLM to knowledge sources","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bVkjFmFVLn"}],"key":"laI5bCk2IR"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Quality of answer depends on network structure (which documents are connected via similarity)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QUap9NjR8J"}],"key":"lyu8bKV74p"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Similar to how social network structure affects information diffusion","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FcWnnAwG1I"}],"key":"CZgZ5USLxJ"}],"key":"siYTIFvEi7"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Game Theory and Mechanism Design","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"wV28GsezXG"}],"key":"mJMPQUQRq0"}],"key":"OHmlq0Qqwq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"In multi-agent RAG systems, agents must decide what information to share","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"NIzIgHa8cG"}],"key":"MNfy5Wc00J"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Strategic information retrieval: costly to retrieve everything, must be selective","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Nonpl3XWYu"}],"key":"gcL167qnAK"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Related to costly network formation from our game theory module","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BReZGEoXSH"}],"key":"B0vmmvLGVI"}],"key":"RTVgPtbt0W"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Agent-Based Modeling","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"gnjmpCYC5D"}],"key":"d1YFDAR3XP"}],"key":"yyJ1wYRLcZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Can model RAG systems as agents with retrieval actions","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UoMOHeFSNe"}],"key":"p4wP6eejeZ"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Environment is the knowledge base","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"QNte4INgbm"}],"key":"iKOcDqu7fd"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Rules govern when to retrieve, what to retrieve, how to synthesize","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"GHK5P6hqEh"}],"key":"ip7goltoE7"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Next lecture will explore multi-agent AI systems in depth","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"uUjjYN1DnV"}],"key":"AI3LZo9Chf"}],"key":"ulvQl2RFax"}],"key":"x8Yj9DvYwl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 2: Build Your Own RAG System","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mdz8iaGwzX"}],"identifier":"exercise-2-build-your-own-rag-system","label":"Exercise 2: Build Your Own RAG System","html_id":"exercise-2-build-your-own-rag-system","implicit":true,"key":"Y4MchWQjP5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Choose one of the following domains and build a RAG system:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vCiZNBr0dC"}],"key":"qkK3NllBbZ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Option A: Game Theory Assistant","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ntp3K1bGSm"}],"key":"fuUwfLKJko"}],"key":"qG4A3gXUMu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Create documents summarizing key game theory concepts from our Week 8-9 lectures","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"o4PESbW9sZ"}],"key":"o7JnNWFoeN"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Include: Nash equilibrium, dominant strategies, mixed strategies, auctions","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FVUCNjWXzW"}],"key":"EQXCKHBOH0"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Test with questions like “What is a Nash equilibrium?” or “Explain the winner’s curse”","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XX8ywZoRBw"}],"key":"jpUT6SNDuM"}],"key":"lWI8EE6sdj"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Option B: Julia Programming Helper","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iHVb8Qm5nb"}],"key":"Pxu7BQCtHu"}],"key":"aKjxfzsoZH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Create documents with Julia programming tips and common patterns","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pa1Y3DDxhv"}],"key":"jxylCsWrzl"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Include: array operations, data frames, plotting, packages we’ve used","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"jkAJyKmtyj"}],"key":"ZtzuRT1X3D"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Test with questions like “How do I create a histogram?” or “What’s the syntax for filtering a DataFrame?”","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"lqXsGmOs4t"}],"key":"NOet5xompe"}],"key":"Zi2jgbTaYz"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Option C: Your Domain","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"KTrkChZgfY"}],"key":"ysYnQHW1yY"}],"key":"Hro83Uj4iF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Choose a topic you’re interested in","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"VNYqihku9q"}],"key":"ySfaWKw1nP"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Create 5-10 documents with information","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"DoVnGt1kmA"}],"key":"CWMtjoyTW0"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Build and test a RAG system","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"u2POGsx58E"}],"key":"DHDFtiFJUm"}],"key":"MT5Qj2rDWP"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"For your chosen option:","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"zDoopAJoIC"}],"key":"luBy8F4FUr"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Create at least 5 documents (can be shorter than our examples)","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"FitxHM4Dcd"}],"key":"hkdpAUaRJl"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Build a vector store","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"HdJwVDDlSC"}],"key":"ny0wzdwIY0"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Test with at least 3 different questions","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"P2K2qKCbV5"}],"key":"MJkAs0yuWl"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Compare RAG answers vs vanilla LLM answers","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"vP51kjjcWq"}],"key":"eTKiNbLTRQ"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Experiment with different values of ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ExQRRr7tM6"},{"type":"inlineCode","value":"top_k","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"gtUxgyOQlv"},{"type":"text","value":" (number of retrieved documents)","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"pzC0mCMALu"}],"key":"QlMgsA5pqS"}],"key":"B7naarPvFb"}],"key":"DUrlVwRNsJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# TODO: your code here\n\n# Step 1: Create your documents\nmy_docs = [\n    # Your documents here\n]\n\n# Step 2: Build vector store\nmy_store = VectorStore()\n# add_documents!(my_store, my_docs)\n\n# Step 3: Test with questions\n# test_q1 = \"...\"\n# result = rag_query(my_store, test_q1)\n# println(result.answer)","key":"xhpVtlKZik"},{"type":"output","id":"r1GB_HpE1KhSSuowq_vX-","data":[],"key":"ayfX1JWT7W"}],"key":"vdoogpea2y"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 3: Evaluating Retrieval Quality","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F8EQUnQEZG"}],"identifier":"exercise-3-evaluating-retrieval-quality","label":"Exercise 3: Evaluating Retrieval Quality","html_id":"exercise-3-evaluating-retrieval-quality","implicit":true,"key":"gQotjstFlf"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"An important aspect of RAG systems is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p5kYiXuNCP"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"retrieval quality","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p4IqHUDaUT"}],"key":"ZJJawjBQ3A"},{"type":"text","value":" - are we finding the right documents?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cQhw5snp9I"}],"key":"nIxiKof8bw"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Using our network_store:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QT2yFbwpg2"}],"key":"AS5yNK6u4a"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Create 3 test queries where you know which document(s) should be retrieved","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ynhGiJlY9P"}],"key":"FP8Z1eFcMv"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"For each query, perform retrieval with different values of k (k=1, 3, 5)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zQPopxEOqX"}],"key":"G4kLH2vg4v"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Examine the similarity scores - what do they tell you?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YUwtIj5l1Z"}],"key":"r9FbX3eRAI"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Try a query that requires information from multiple documents","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"BccRsd9GZe"}],"key":"l691nkMj2m"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Try a query that’s completely off-topic (e.g., about cooking) - what gets retrieved?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"KlhkxoxC2g"}],"key":"ySfEEmfL6W"}],"key":"PtIOwSB7Z1"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Questions to explore:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"cr43zzd1Jm"}],"key":"rV2jXbtlhw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Does the highest similarity document always have the best answer?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"SgJrO7LF63"}],"key":"ubT6UNj54L"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"How much does similarity score drop from rank 1 to rank 3?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"dvnkXgaCY4"}],"key":"eazaoJV87S"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"What happens when the query uses different terminology than the documents?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"SxDXx4CboM"}],"key":"HOPl78JO2A"}],"key":"Yi6N2SkXnn"}],"key":"vrYf4Izzqd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# TODO: your analysis here\n\n# Example structure:\n# test_queries = [\n#     \"query 1...\",\n#     \"query 2...\",\n#     \"query 3...\"\n# ]\n\n# for query in test_queries\n#     println(\"Query: \", query)\n#     results = search(network_store, query; top_k=5)\n#     # Analyze results\n# end","key":"c3lZ6E1puj"},{"type":"output","id":"uc7lTLYS3VftMj1ZkVuTg","data":[],"key":"hrlq7Ngl3t"}],"key":"RP22uCILkU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 4: Design Decisions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JruTIAFbFc"}],"identifier":"exercise-4-design-decisions","label":"Exercise 4: Design Decisions","html_id":"exercise-4-design-decisions","implicit":true,"key":"fbvwy3MwGm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Consider the following scenarios and discuss what RAG design choices you would make:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IohrfgVBSs"}],"key":"sGT2ZbTcsq"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Scenario 1: Legal Document Q\u0026A","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fICRjo6Zsa"}],"key":"z1WQVIHAAV"}],"key":"RjyAo3sdxe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Database: 10,000 legal contracts and case documents","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"cca6keaHXG"}],"key":"FIN5Wa56cE"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Queries: Lawyers asking about specific clauses and precedents","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aRJ0h1DWCZ"}],"key":"SVN4h9Jd9i"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Requirements: High accuracy, must cite sources, complex reasoning","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"h8ml4yjQ6N"}],"key":"nS9MDCq6GE"}],"key":"Q6CE7ZcThS"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Scenario 2: Customer Support Chatbot","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"a7CrXviOtK"}],"key":"BqIK0FzRmx"}],"key":"BW9W4eqoiX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Database: 500 FAQ articles and product documentation","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"uA0WUq65Fc"}],"key":"uMW0gzdPPA"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Queries: Customers asking how to use products, troubleshoot issues","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"DPIiwMb93w"}],"key":"IDPOhUjlU6"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Requirements: Fast responses, conversational, handles unclear questions","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"YNUBvy2ubx"}],"key":"EliZaAkOKi"}],"key":"ZTtM0TO0m2"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Scenario 3: Academic Research Assistant","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Su4v2KmyLn"}],"key":"jSoL94qN7m"}],"key":"dU7kObU0zU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Database: 100,000 research papers","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"dB8V4rGRNR"}],"key":"e2UAO0vUuy"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Queries: Researchers asking about literature, methodologies, findings","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"xg8boGzc9W"}],"key":"pFlog2Fuxv"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Requirements: Comprehensive answers, identifies connections between papers","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"VAdzpauwQ7"}],"key":"jJgUM147kD"}],"key":"eToRpeayKQ"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"For each scenario, decide:","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"nTbSVe9IbZ"}],"key":"F2CdX65CPg"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Chunk size (small, medium, large)?","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"HQO6f4uRvH"}],"key":"syDHoo7efn"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Number of documents to retrieve (k=?)?","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"IYGHgL9OZ4"}],"key":"fB3tmtOHCR"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Would you use any advanced techniques (hybrid search, re-ranking, etc.)?","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"prmhyHaUD2"}],"key":"UM9vNsGdoW"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"How would you handle queries that require information from multiple documents?","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"nZME18IGYx"}],"key":"JljLbuKkvK"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"How would you evaluate the system’s performance?","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"cGI1I63ydS"}],"key":"cgTiR3yCHR"}],"key":"Y4NWaScUXN"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Write your analysis below:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"jC3xQ9XU8j"}],"key":"XYw4x6EwXK"}],"key":"GLQXkeegVG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Your Analysis:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yVGlvA8Uua"}],"key":"pLSk0nHntC"}],"key":"iJV352Ybny"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Scenario 1: Legal Document Q\u0026A","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yy3NpTTdWN"}],"key":"UhZRHdzIlU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Chunk size: ...","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"x8CL4bDQLa"}],"key":"ZEkvIBjYws"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"k: ...","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GIwR4JeqhX"}],"key":"Th9TzGU90M"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Advanced techniques: ...","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IWL3Wcpjyg"}],"key":"dXo2QlEdbc"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Multi-document handling: ...","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"J7AlcnXunA"}],"key":"C7peHTrKTu"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Evaluation: ...","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tB8FTNnlDP"}],"key":"F58oak5s5i"}],"key":"RuVQ2DFAFJ"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"(Continue for other scenarios)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"BpQu2V87xl"}],"key":"lIHCGv0SRz"}],"key":"aTvh8Zb9ZP"}],"key":"tc1q5IX2OX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looking Ahead: Multi-Agent Systems","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QRI6cB6gdt"}],"identifier":"looking-ahead-multi-agent-systems","label":"Looking Ahead: Multi-Agent Systems","html_id":"looking-ahead-multi-agent-systems","implicit":true,"key":"qFb3CiWeXW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this lecture we built a single-agent RAG system","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Gh8KDc0JYH"}],"key":"PhvabL02VU"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The LLM agent retrieves information and generates answers","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"W7gLWmOkyB"}],"key":"KWCG0hXndz"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"But what if we had multiple AI agents working together?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KDOxQhJGK3"}],"key":"rqEnRhefAM"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Next lecture (A1.03) we’ll explore ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"STTyGpiu9d"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"multi-agent AI systems","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CP4f9HtvdV"}],"key":"gvNECfjgqu"},{"type":"text","value":":","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lzGzh9DnFf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Multiple LLM agents with specialized roles","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aZyH7klHC2"}],"key":"czOYRGlEtB"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Agents that coordinate and communicate","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZtdcW9Brph"}],"key":"Xmv8jGWNjy"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Connections to agent-based models and game theory","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PwiHONTyHg"}],"key":"uCIScx4eXE"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Building complex workflows with agentic systems","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uakAP0LHgx"}],"key":"U3wWNTmbaJ"}],"key":"X9Y1rI94xi"}],"key":"GiSvrTh6X7"}],"key":"Ymvkqby1Y0"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Think about:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"yZZZ5VrV5R"}],"key":"P79wHz2V6H"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"How might multiple agents improve retrieval? (e.g., one agent generates queries, another evaluates relevance)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wnfJ0Ri6bo"}],"key":"FjG6FOovXb"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"What if different agents had access to different knowledge bases?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OLVsXvZIVt"}],"key":"BrCqQIhoPF"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"How does this relate to our study of networks and strategic interaction?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"H3W6kfHxVs"}],"key":"QgRbnbrjUC"}],"key":"WdtI2qvrcj"}],"key":"vDEhVIcnqP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key Takeaways","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Htiv72xAWx"}],"identifier":"key-takeaways","label":"Key Takeaways","html_id":"key-takeaways","implicit":true,"key":"y8TOUhfuBJ"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"LLMs have fundamental knowledge limitations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yhPcIGgqf6"}],"key":"Gv0tisvIPU"},{"type":"text","value":": cutoffs, hallucination, missing domain-specific info","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Xd6x2tt7TW"}],"key":"EY7lYjNjbB"}],"key":"yRo9xp6mMt"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"RAG augments LLMs with external knowledge","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WbYHHDsvfF"}],"key":"IOeylV8ZIC"},{"type":"text","value":" through retrieval from vector databases","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"sgIruSJ3U7"}],"key":"FCwFYAjLwP"}],"key":"gukhWknYA8"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Embeddings represent text as vectors","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"J8TX3rcMmS"}],"key":"y6Qpwi3VtU"},{"type":"text","value":" capturing semantic meaning, enabling similarity search","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dQjZJVceKO"}],"key":"ghoZJIgqDz"}],"key":"KdpYAfQIri"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"A RAG pipeline has four stages","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VZi3fj87tt"}],"key":"e1P8CBDj9l"},{"type":"text","value":": chunking, embedding, retrieval, generation","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hIyp1h9KAq"}],"key":"SNcOpOabpE"}],"key":"e1Ix0jeL7e"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Design trade-offs matter","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"j5knpCvyoF"}],"key":"dt2vEbIY6v"},{"type":"text","value":": chunk size, number of retrieved docs, embedding model all affect quality and performance","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Mh7SJAlKEM"}],"key":"UB6EYLejxA"}],"key":"vBjAuB2aVv"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"RAG enables practical AI applications","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"EVixQLli82"}],"key":"wgjfKItrNz"},{"type":"text","value":" with up-to-date, domain-specific, and proprietary knowledge","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"KLdi0A2TIB"}],"key":"GADo2ZvTj2"}],"key":"OpWedSrJfk"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"RAG connects to network concepts","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"N81kGx4Z2W"}],"key":"uUpz519cI1"},{"type":"text","value":": creating dynamic information flow from LLM to knowledge sources","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"x5K9j8Vtrd"}],"key":"XUgYShfM7u"}],"key":"hIhlTaELPu"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Citations and provenance","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"YVwPRjQpEb"}],"key":"oxibaDqD9H"},{"type":"text","value":" are key benefits of RAG over pure parametric knowledge","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"lyWlgezqUd"}],"key":"UDPU4ZiJi6"}],"key":"KTWDRddCBG"}],"key":"ouX7g24hYL"}],"key":"pjjaO7a6Jm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Further Reading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YrBIQ3WYaq"}],"identifier":"further-reading","label":"Further Reading","html_id":"further-reading","implicit":true,"key":"PJjSCnYvYS"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Foundational Papers:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bMmLMsCRS2"}],"key":"SlKtzr0cbQ"}],"key":"nWF9YQX1TQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Lewis et al. (2020) “Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks”","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xSbrfXK5k9"}],"key":"ay2K8Apxfe"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Gao et al. (2023) “Retrieval-Augmented Generation for Large Language Models: A Survey”","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LLEKnDJbWI"}],"key":"Vl59hMUCPl"}],"key":"YHwOFkK0wP"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Advanced RAG:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"sP2Y0q0tmo"}],"key":"rQ7k0w45WL"}],"key":"cH2wiYUoBn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Khattab et al. (2023) “DSPy: Compiling Declarative Language Model Calls into Self-Improving Pipelines” ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"k98pRRu4MM"},{"type":"link","url":"https://arxiv.org/abs/2310.03714","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"arXiv:2310.03714","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Iza96ck9Gy"}],"urlSource":"https://arxiv.org/abs/2310.03714","key":"AxYwsDIBps"}],"key":"kdM2g5M8fa"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Shi et al. (2023) “REPLUG: Retrieval-Augmented Black-Box Language Models” ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"zJAsGRaQ3Q"},{"type":"link","url":"https://arxiv.org/abs/2301.12652","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"arXiv:2301.12652","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"jdywdQUMPP"}],"urlSource":"https://arxiv.org/abs/2301.12652","key":"MuY0Q4ww4H"}],"key":"Ye04CA2rFs"}],"key":"CQdUtkuu0b"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Vector Databases:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HmE612oo3h"}],"key":"uwA3zBMeiA"}],"key":"CtEejRLesa"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Pinecone Documentation: ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fDquGGJKbg"},{"type":"link","url":"https://docs.pinecone.io/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​docs​.pinecone​.io/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ONiNnAuLbU"}],"urlSource":"https://docs.pinecone.io/","key":"Jz8Dne42D9"}],"key":"AXRBNRLQ2S"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Weaviate Concepts: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"wiamHMKT2I"},{"type":"link","url":"https://weaviate.io/developers/weaviate/concepts","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"https://​weaviate​.io​/developers​/weaviate​/concepts","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"UQbkAY9Q0q"}],"urlSource":"https://weaviate.io/developers/weaviate/concepts","key":"vz2US9srn2"}],"key":"XWZPGO2JaF"}],"key":"ltuJ9tUjA8"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Embeddings:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"EH3tq0QeyR"}],"key":"Jwjh4L4ImL"}],"key":"eE89SQ2fEy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"OpenAI Embeddings Guide: ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"VzMIRBkh9f"},{"type":"link","url":"https://platform.openai.com/docs/guides/embeddings","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"https://​platform​.openai​.com​/docs​/guides​/embeddings","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"M030BeNkau"}],"urlSource":"https://platform.openai.com/docs/guides/embeddings","key":"t0dlx9i3JI"}],"key":"Xn6VtiyeWf"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Neelakantan et al. (2022) “Text and Code Embeddings by Contrastive Pre-Training” ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"FITxdRfKHL"},{"type":"link","url":"https://arxiv.org/abs/2201.10005","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"arXiv:2201.10005","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"BCUxlXvxct"}],"urlSource":"https://arxiv.org/abs/2201.10005","key":"kCgstDIquM"}],"key":"lgMVdJXsh1"}],"key":"orQfBMJaso"}],"key":"Ixr01L0iWM"}],"key":"Ow6FxpXsF0"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"From Rule-Based to Learning Agents","url":"/l-a1-01-from-rule-based-to-learning-agents","group":"Agents 1"},"next":{"title":"Multi-Agent Conversations and Emergent Collaboration","url":"/l-a1-03-multi-agent-conversations","group":"Agents 1"}}},"domain":"http://localhost:3000"},"project":{"title":"UCF CAP-6318","description":"Computational Analysis of Social Complexity","authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"id":"492c0fd0-6de5-4738-b5ab-8c08e34fb954","toc":[{"file":"week01/L01.01_welcome.ipynb"},{"children":[{"file":"week01/L01.02_setup.ipynb"},{"file":"week01/L01.03_julia_basics.ipynb"}],"title":"Julia 1"},{"children":[{"file":"week02/L02.01_julia_types_methods.ipynb"},{"file":"week02/L02.02_code_organization.ipynb"},{"file":"week02/L02.03_julia_packages.ipynb"}],"title":"Julia 2"},{"children":[{"file":"week03/L03.01_graphs.ipynb"},{"file":"week03/L03.02_strong_weak_ties.ipynb"}],"title":"Graph Theory 1"},{"children":[{"file":"week04/L04.01_homophily.ipynb"},{"file":"week04/L04.02_weighted_graphs.ipynb"},{"file":"week04/L04.03_structural_balance.ipynb"}],"title":"Graph Theory 2"},{"children":[{"file":"week05/L05.01_production_networks.ipynb"}],"title":"Production Networks"},{"children":[{"file":"week06/L06.01_abm_concepts.ipynb"},{"file":"week06/L06.02_schelling_agents.ipynb"}],"title":"ABM 1"},{"children":[{"file":"week07/L07.01_abm_money.ipynb"},{"file":"week07/L07.02_abm_paper_virality.ipynb"}],"title":"ABM 2"},{"children":[{"file":"week08/L08.01_game_theory_intro.ipynb"},{"file":"week08/L08.02_network_traffic.ipynb"}],"title":"Game Theory 1"},{"children":[{"file":"week09/L09.01_mixed_strategies.ipynb"},{"file":"week09/L09.03_auctions.ipynb"},{"file":"week09/L09.04_game_theory_lab.ipynb"}],"title":"Game Theory 2"},{"children":[{"file":"weekA01/L.A1.01_from_rule_based_to_learning_agents.ipynb"},{"file":"weekA01/L.A1.02_rag_pattern_augmented_knowledge.ipynb"},{"file":"weekA01/L.A1.03_multi_agent_conversations.ipynb"}],"title":"Agents 1"},{"children":[{"file":"weekA02/L.A2.01_function_calling_and_tools.ipynb"},{"file":"weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb"},{"file":"weekA02/L.A02.03_evaluations.ipynb"}],"title":"Agents 2"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Julia 1"},{"slug":"l01-02-setup","title":"Julia Setup","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l01-03-julia-basics","title":"Julia Foundations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Julia 2"},{"slug":"l02-01-julia-types-methods","title":"Julia Types and Methods","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-02-code-organization","title":"Julia Code Organization","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l02-03-julia-packages","title":"Julia Package Development","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 1"},{"slug":"l03-01-graphs","title":"Graphs","description":"","date":"","thumbnail":"/build/967a40bb8f52cb4e2ba5e92214773160.png","thumbnailOptimized":"/build/967a40bb8f52cb4e2ba5e92214773160.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l03-02-strong-weak-ties","title":"Strong and Weak Ties","description":"","date":"","thumbnail":"/build/ca8cf7fd449d95329a6482e7c5663568.png","thumbnailOptimized":"/build/ca8cf7fd449d95329a6482e7c5663568.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Graph Theory 2"},{"slug":"l04-01-homophily","title":"Homophily","description":"","date":"","thumbnail":"/build/c2d78afac7a8f5c0a921d74dc173a647.png","thumbnailOptimized":"/build/c2d78afac7a8f5c0a921d74dc173a647.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-02-weighted-graphs","title":"Weighted Graphs","description":"","date":"","thumbnail":"/build/89abe19f81fbf303bd67dbdff22715f2.png","thumbnailOptimized":"/build/89abe19f81fbf303bd67dbdff22715f2.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l04-03-structural-balance","title":"Structural Balance","description":"","date":"","thumbnail":"/build/e8165665e7da5ff6c9050aa529f882e5.png","thumbnailOptimized":"/build/e8165665e7da5ff6c9050aa529f882e5.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Production Networks"},{"slug":"l05-01-production-networks","title":"Production Networks","description":"","date":"","thumbnail":"/build/7b92ed8d684202cdc6a3ee91cdc9e32b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 1"},{"slug":"l06-01-abm-concepts","title":"Agent Based Models","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l06-02-schelling-agents","title":"Schelling Model with Agents.jl","description":"","date":"","thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"ABM 2"},{"slug":"l07-01-abm-money","title":"Agent Based Models Review/Practice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l07-02-abm-paper-virality","title":"Academic Paper Virality: An Agent-Based Model","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 1"},{"slug":"l08-01-game-theory-intro","title":"Game Theory 1","description":"","date":"","thumbnail":"/build/514111f16ff750b99f83913e8f7cef48.png","thumbnailOptimized":"/build/514111f16ff750b99f83913e8f7cef48.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l08-02-network-traffic","title":"Network Traffic with Game Theory","description":"","date":"","thumbnail":"/build/424d6f26a2e0b40ca12376f2698b2418.png","thumbnailOptimized":"/build/424d6f26a2e0b40ca12376f2698b2418.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Game Theory 2"},{"slug":"l09-01-mixed-strategies","title":"More Game Theory","description":"","date":"","thumbnail":"/build/c78b1360cc127c6ff833e0a98f9de844.png","thumbnailOptimized":"/build/c78b1360cc127c6ff833e0a98f9de844.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-03-auctions","title":"Auctions","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l09-04-game-theory-lab","title":"Game Theory Lab: Data Science Applications","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 1"},{"slug":"l-a1-01-from-rule-based-to-learning-agents","title":"From Rule-Based to Learning Agents","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-02-rag-pattern-augmented-knowledge","title":"Retrieval-Augmented Generation: Augmenting AI with External Knowledge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a1-03-multi-agent-conversations","title":"Multi-Agent Conversations and Emergent Collaboration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Agents 2"},{"slug":"l-a2-01-function-calling-and-tools","title":"Function Calling and Tool Use: From Talk to Action","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a2-02-type-safe-agents-pydantic-patterns","title":"Type-Safe Agent Development with PydanticAI Patterns","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"l-a02-03-evaluations","title":"Evaluating AI Systems: Testing Agents at Scale","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-06410F0D.js";
import * as route0 from "/build/root-ZJZ4LRPY.js";
import * as route1 from "/build/routes/$-23AHH5XS.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>