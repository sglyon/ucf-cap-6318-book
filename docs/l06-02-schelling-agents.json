{"version":2,"kind":"Notebook","sha256":"6e38c3fb94fdfa9645e4998aef3a8c93fbf35715e9ca466b4e8622c16f479133","slug":"l06-02-schelling-agents","location":"/week06/L06.02_schelling_agents.ipynb","dependencies":[],"frontmatter":{"title":"Schelling Model with Agents.jl","content_includes_title":false,"kernelspec":{"name":"julia-1.10","display_name":"Julia 1.10.4","language":"julia"},"authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"numbering":{"title":{"offset":1}},"thumbnail":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","thumbnailOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp","exports":[{"format":"ipynb","filename":"L06.02_schelling_agents.ipynb","url":"/build/L06.02_schelling_age-b5b3861c2a47d2e03030486b0bc3d14f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Computational Analysis of Social Complexity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cm1MeAnLQz"}],"key":"qTIov5peWR"}],"key":"XH67qBfMkK"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"bdt6TG0Rxv"}],"key":"pSiuRvx6Bh"}],"key":"j8Byz67U9i"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Julia Basics (from week 2)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"skVdB9rZXv"}],"key":"vvwJ9zFzsI"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Julia Types (from week 2)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rtn27Ulo9U"}],"key":"znpEvirDwt"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"ABM intro","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"lFVzDtLggo"}],"key":"jdCM5lWFGe"}],"key":"oTYp7NyYdz"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Outcomes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"CEOAiELjSM"}],"key":"kG18CqYueX"}],"key":"uolYZsv9BX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Learn to use the Julia REPL for running interactive ABM visualizations","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"N7A2KlSXCt"}],"key":"NNdkWAK9aA"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Implement the Schelling segregation model using Agents.jl","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"x1WB5UX0RV"}],"key":"ABIrWsR7N4"}],"key":"zIoR22KY7J"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Jid0ML1NSu"}],"key":"KYe426ORQY"}],"key":"tMvUyCe97S"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"link","url":"https://juliadynamics.github.io/Agents.jl/stable/tutorial/","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Agents.jl tutorial","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"paehnl3Jsv"}],"urlSource":"https://juliadynamics.github.io/Agents.jl/stable/tutorial/","key":"euyKS3eDu3"}],"key":"npYaDWQmxP"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"link","url":"https://julia.quantecon.org/multi_agent_models/schelling.html","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"QuantEcon lecture","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"YhvtXuDAyc"}],"urlSource":"https://julia.quantecon.org/multi_agent_models/schelling.html","key":"GpLR1dd4jn"}],"key":"ttw3Lyu6fJ"}],"key":"iBQr8xHfBV"}],"key":"KEJXyXu7ha"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Review Schelling Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JZlbXJZLuf"}],"identifier":"review-schelling-model","label":"Review Schelling Model","html_id":"review-schelling-model","implicit":true,"key":"KSVJMP3zbq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Recall the components of the Schelling segregation model","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qxgq6WBU7S"}],"key":"JEPOg3JoGr"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Environment: 25x25 grid of single family dwellings","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jZ9DYl4XTP"}],"key":"TFlIiMRxsv"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Agents with properties:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vq7W7PeARQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"location (x,y) coordinate for current home","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"cpQwDAXiCG"}],"key":"L0iUkDz2Gl"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"type: orange or blue. Fixed over time. 250 of each","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CjN6I77Wz0"}],"key":"WbRsb6MIRf"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"happiness: 0 if less than ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"R6cj1YstA3"},{"type":"inlineMath","value":"N","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span>","key":"wncIgScXHd"},{"type":"text","value":" of neighbors are of same type, 1 otherwise","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"v3BbstExU0"}],"key":"up5C9emfHq"}],"key":"sP3CrWPyTP"}],"key":"xGOoVRdLKS"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Rules:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"bds0wfi5Lb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Agents choose to move to unoccupied grid point if unhappy","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Qn0A6VuGzX"}],"key":"Rrpg1NvdlE"}],"key":"ND1In7JwNT"}],"key":"PA7k2ph4Op"}],"key":"N58IPyQIrs"},{"type":"blockquote","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Note neighbors for a particular cell are the the 8 other cells surrounding the cell of interest. Corner or edge cells have less than 8 neighbors","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"tEmLYvYA0x"}],"key":"uorYk7ZZMe"}],"key":"El7x95rVkK"}],"key":"BSfk9jjOVM"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Agents.jl","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RPquXJ7keO"}],"identifier":"agents-jl","label":"Agents.jl","html_id":"agents-jl","implicit":true,"key":"vV5cfm3gS9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are now ready to get started implementing the Schelling segregation model in Julia","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ydLHwkovJx"}],"key":"O5ihG2oNrB"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We’ll use the Agents.jl library, which is a very powerful ABM toolkit","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"eHf2VTp54x"}],"key":"iGq1tSxiyF"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Here are some points of comparison between Agents.jl and other ABM software (from the Agents.jl website):","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Tqa6msmEoz"}],"key":"ofOMda828u"}],"key":"sCSjQObeW1"},{"type":"image","url":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.png","alt":"abm toolkits","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aZYy00VcPZ","urlSource":"https://compsosci-resources.s3.amazonaws.com/abm/abm_toolkit_comparison.png","urlOptimized":"/build/df6a6b05f3de1e22494ef3ccc0e47c9f.webp"},{"type":"image","url":"/build/2cdb6b79d083866f84f6f3eea8ec4b87.png","alt":"toolkit features","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"LMRxbTfNSD","urlSource":"https://compsosci-resources.s3.amazonaws.com/abm/abm_table1.png","urlOptimized":"/build/2cdb6b79d083866f84f6f3eea8ec4b87.webp"},{"type":"image","url":"/build/8dd0a7c0542555050678597b03d6816e.png","alt":"toolkit features","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gUcoawzD83","urlSource":"https://compsosci-resources.s3.amazonaws.com/abm/abm_table2.png","urlOptimized":"/build/8dd0a7c0542555050678597b03d6816e.webp"}],"key":"KdRkwBqONR"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Schelling in Agents.jl","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dPu5KozrpO"}],"identifier":"schelling-in-agents-jl","label":"Schelling in Agents.jl","html_id":"schelling-in-agents-jl","implicit":true,"key":"pugpI1e7Hq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s now implement the Schelling Segregation model in Agents.jl","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"r6vdpjlWDH"}],"key":"bELfnbQJ0E"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The first thing we’ll need to do is define our Agent","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IbJUWE0qux"}],"key":"OgwnuIegiP"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The recommended way to do this is to create a new Julia struct using the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qD2A0K62SD"},{"type":"inlineCode","value":"@agent","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"n6h8vlAnmU"},{"type":"text","value":" macro provided by Agents.jl","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"F6pQm85UQD"}],"key":"XlYG2A5tUt"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The macro will ensure a few things:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"WV2hH9uWTn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The struct contains ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LhJVMh3vRM"},{"type":"inlineCode","value":"id","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"f2o88geHo0"},{"type":"text","value":" and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MAnznlBkkh"},{"type":"inlineCode","value":"pos","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"k2SHROWlH3"},{"type":"text","value":" fields to keep track of the agent and its position","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"P2aIxpheMh"}],"key":"OnwjQXMivH"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The struct is mutable so the position can be updated","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ECX3E6SE57"}],"key":"A3RLwcuV1p"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The struct is a subtype of ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rn0FpLPJpx"},{"type":"inlineCode","value":"AbstractAgent","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"w3sseNWWt5"},{"type":"text","value":" so it can be used by other functions in Agents.jl","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XJHcLjbdhi"}],"key":"S7pMylMwK9"}],"key":"gBiw90Nlsb"}],"key":"ECuPNWlOcX"}],"key":"y21OVMoIZR"}],"key":"YUtONi3NLS"},{"type":"block","kind":"notebook-code","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"code","lang":"julia","executable":true,"value":"# load up packages we need for this example... might take a few minutes\n# import Pkg\n# Pkg.activate(\".\")\n# Pkg.instantiate()\n\nusing Agents","key":"KkRYy92Gwk"},{"type":"output","id":"Mmc_XWLkNsrI9NprGqGnH","data":[],"key":"GdlzXpAKQt"}],"key":"OCm9zabDtS"},{"type":"block","kind":"notebook-code","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"code","lang":"julia","executable":true,"value":"@agent struct SchellingAgent(GridAgent{2})\n    is_happy::Bool      # whether the agent is happy in its position. (true = happy)\n    group::Int          # The group of the agent, determines mood as it interacts with neighbors 0: blue, 1: orange\nend","key":"MK5m5xbwVG"},{"type":"output","id":"cysOz4t-kvP6XKYflMSZx","data":[],"key":"TiZSLcArPW"}],"key":"txEvjyWJuz"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can see the complete structure of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aur74C7OjO"},{"type":"inlineCode","value":"ShellingAgent","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y7nJrq1S8r"},{"type":"text","value":" type using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zyxi98Bpka"},{"type":"inlineCode","value":"dump","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WDTefU0YlN"},{"type":"text","value":" function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZcwBLuVSkV"}],"key":"MamlcebBN7"}],"key":"ozkQ5RZXvw"}],"key":"Gsfi5GkAVI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"dump(SchellingAgent)","key":"ganEkItkWT"},{"type":"output","id":"WM0wcK57w9bdtdHpZtOIZ","data":[{"name":"stdout","output_type":"stream","text":"SchellingAgent <: AbstractAgent\n  id::Int64\n  pos::Tuple{Int64, Int64}\n  is_happy::Bool\n  group::Int64\n"}],"key":"nZLk75SouJ"}],"key":"d3wOBq3lFo"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Schelling Environment","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UclViDdR3Y"}],"identifier":"schelling-environment","label":"Schelling Environment","html_id":"schelling-environment","implicit":true,"key":"yWOK6baznu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Our Schelling environment will be one the built-in Agents.jl spaces","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"b2u6hpo3i3"}],"key":"ezMyEMWQvy"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We’ll use ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fvRpR7rTiq"},{"type":"inlineCode","value":"GridSpace","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tF0PBk8R67"}],"key":"xGLplgkjXv"}],"key":"tr551iRSo2"}],"key":"pHILqlcZvK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"environment = GridSpaceSingle((25, 25); periodic = false)","key":"uQHOQdgstN"},{"type":"output","id":"erCWLxbs-JySg-89ZFXV5","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"GridSpaceSingle with size (25, 25), metric=chebyshev, periodic=false","content_type":"text/plain"}}}],"key":"l6Eb5fmHgq"}],"key":"W2UetQ1Nxy"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Rules","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TmXO7FuUQa"}],"identifier":"rules","label":"Rules","html_id":"rules","implicit":true,"key":"P5CQptak2Q"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The last part of our ABM that we need to specify is the rules for how agents respond to the environment and state","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xyjDNAA0Qn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Our rule is that agents will choose to move to an empty grid space if they have less than ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Uk1Q36gJgR"},{"type":"inlineCode","value":"wanted_neighbors","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zNydwehuTC"},{"type":"text","value":" neighbors of the same group","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JPc57tOnnY"}],"key":"ReJtofuHvr"}],"key":"r2W8PklpXm"}],"key":"LmBEv8Qm89"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Agents.jl requires us to implement these rules in a method ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iT2GhxMtAu"},{"type":"inlineCode","value":"agent_step!(agent::SchellingAgent, model)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XPEO5jkNvG"}],"key":"kOi1Csy7Yd"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"We’ll make use of a couple helper functions provided by Agents.jl:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lvD3kxcueH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"move_agent_single!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"pMrAXKxqO6"},{"type":"text","value":": move a single agent to an empty place in the environment. This modifies the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"G0NQBRUBdJ"},{"type":"inlineCode","value":"pos","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TXXSTOutlm"},{"type":"text","value":" field of the agent","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nMDbseQZMM"}],"key":"yUtgdzJgLx"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"nearby_agents","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"L36K6eesuj"},{"type":"text","value":": return an array of all neighbors of a particular agent. This queries the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PYhIDDpzCw"},{"type":"inlineCode","value":"pos","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fArb8kXtpG"},{"type":"text","value":" field of all agents","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"T5ezjUmFMo"}],"key":"cvPVkiT2um"}],"key":"xNRouMRWc7"}],"key":"OwzuDDxFaO"}],"key":"W0Zr6bQPU7"}],"key":"cdxzv3Kmwa"},{"type":"block","kind":"notebook-code","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"code","lang":"julia","executable":true,"value":"function agent_step!(agent::SchellingAgent, model)\n\twant = model.wanted_neighbors\n\thave = 0\n\tfor n in nearby_agents(agent, model)\n\t\tif n.group == agent.group\n\t\t\thave += 1\n\t\tend\n\tend\n\tagent.is_happy = have >= want\n\tif !agent.is_happy\n\t\tmove_agent_single!(agent, model)\n\tend\n\treturn\nend","key":"t4b6Ka6ACA"},{"type":"output","id":"RO_HUW2AP-DlCwGS-jVnG","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/plain":{"content":"agent_step! (generic function with 1 method)","content_type":"text/plain"}}}],"key":"MMY3aa7L6y"}],"key":"ooxqVfTgiV"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Combining Agents, Environment, and Rules","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aElyrr0Gjz"}],"identifier":"combining-agents-environment-and-rules","label":"Combining Agents, Environment, and Rules","html_id":"combining-agents-environment-and-rules","implicit":true,"key":"snvQwDRAzZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We now need to create an instance of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qh4tlwhKDz"},{"type":"inlineCode","value":"AgentBasedModel","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eXCdb5Qfrx"},{"type":"text","value":" (or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OozmBJFaTf"},{"type":"inlineCode","value":"ABM","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H4reRenjnu"},{"type":"text","value":" for short) type","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yUoWsxNwE4"}],"key":"OOUeXPVHzh"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To construct our instance we need to specify our agent type, our environment, our rules (via ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Mks7rH7v2w"},{"type":"inlineCode","value":"agent_step!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Kh4HEscOo2"},{"type":"text","value":" function), and any additional properties","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nhp9t4wPh7"}],"key":"PsgeL1o1f4"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"These additional properties belong to the model, and can be thought of as parameters that should be calibrated","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QfYAAd8UuF"}],"key":"Yl5pz1obZV"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"In our previous exposition we would have attached these to the environment","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sWWJDi6tUG"}],"key":"I8bLULdNWf"}],"key":"ZgtBmpXYTI"}],"key":"Qx8YMs4zJy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"properties = Dict(:wanted_neighbors => 4)\nschelling = AgentBasedModel(SchellingAgent, environment; properties=properties, agent_step! = agent_step!)","key":"UjebDeahOD"},{"type":"output","id":"YnRWviJN1HOQ_X99LTmWs","data":[{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"StandardABM with 0 agents of type SchellingAgent\n agents container: Dict\n space: GridSpaceSingle with size (25, 25), metric=chebyshev, periodic=false\n scheduler: fastest\n properties: wanted_neighbors","content_type":"text/plain"}}}],"key":"jMsCuSIelU"}],"key":"T8L1STTYPw"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add Agents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cFbS36OfzS"}],"identifier":"add-agents","label":"Add Agents","html_id":"add-agents","implicit":true,"key":"dKKoac6qwQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we have fully specified the behavior of our ABM, but we have a problem...","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gvXxM4YO47"}],"key":"EqdzvqudV4"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We don’t have any agents!!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Mztqz0H8WM"}],"key":"xljzhiHWGQ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"To add agents, we’ll use the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PTCIpkiTXD"},{"type":"inlineCode","value":"add_agent_single!(::SchellingAgent, model)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"M6gyOoWZuB"},{"type":"text","value":" function, which is provided by Agents.jl and knows how to place non-overlapping agents in our environment","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XsghXjzWGl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This will set the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"w10JKa9uSo"},{"type":"inlineCode","value":"pos","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ogUqBkUnWO"},{"type":"text","value":" field for our agents","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XPqbQlh8iO"}],"key":"au78Ny7Mxp"}],"key":"oGQnpFhyOw"}],"key":"sjhCK45FfV"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"So that we can run many experiments, we’ll actually create a helper function that will create a new model from scratch and add agents to it","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"cotJjmRqJp"}],"key":"UFAhsz03Ja"}],"key":"RKUboC0Wun"}],"key":"FfBcIs5Fgq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function init_schelling(;num_agents_per_group=250)\n\tenvironment = GridSpaceSingle((25, 25), periodic=false)\n\tproperties = Dict(:wanted_neighbors => 4)\n\tmodel = ABM(SchellingAgent, environment; properties=properties, agent_step! = agent_step!)\n\t\n\tid = 0\n\tfor group in 1:2, i in 1:num_agents_per_group\n\t\tagent = SchellingAgent(id+=1, (1, 1), false, group)\n\t\tadd_agent_single!(agent, model)\n\tend\n\tmodel\nend\n\nmodel = init_schelling()","key":"nKvU5nqoP9"},{"type":"output","id":"yL-4Ltqjd3xfymLYORj7e","data":[{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"StandardABM with 500 agents of type SchellingAgent\n agents container: Dict\n space: GridSpaceSingle with size (25, 25), metric=chebyshev, periodic=false\n scheduler: fastest\n properties: wanted_neighbors","content_type":"text/plain"}}}],"key":"nKrK2CQVBo"}],"key":"y0CqQk8aQZ"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Running the Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TYT9t7TIkg"}],"identifier":"running-the-model","label":"Running the Model","html_id":"running-the-model","implicit":true,"key":"DdnZecszMA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To run our model, we need to step forward in time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KxcxZrpTiF"}],"key":"ns3X6mj9VN"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We do this using the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QEHMS8TDUS"},{"type":"inlineCode","value":"step!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EFywyTehq9"},{"type":"text","value":" function provided by Agents.jl","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"cv3iRTD0Ki"}],"key":"rXdBBX496c"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This function will iterate over all the agents in the model and call ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kJPZZPW58x"},{"type":"inlineCode","value":"agent_step!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"eImqes8Tvh"},{"type":"text","value":" for each of them","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zmkd0VsGrx"}],"key":"CRsFZy3XfZ"}],"key":"LdEX0VDxMa"}],"key":"ey7FpXdiUC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# advance one step\nstep!(model)","key":"n6BrUX1MJO"},{"type":"output","id":"oDfLzdeLpb46AtOsvVrEu","data":[{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/plain":{"content":"StandardABM with 500 agents of type SchellingAgent\n agents container: Dict\n space: GridSpaceSingle with size (25, 25), metric=chebyshev, periodic=false\n scheduler: fastest\n properties: wanted_neighbors","content_type":"text/plain"}}}],"key":"uAQE49v6OK"}],"key":"WaadAfK3FW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# advance three steps\nstep!(model, 3)","key":"TD23T8SbF1"},{"type":"output","id":"uz-3dKyCfOZCZkoHNmTVy","data":[{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"text/plain":{"content":"StandardABM with 500 agents of type SchellingAgent\n agents container: Dict\n space: GridSpaceSingle with size (25, 25), metric=chebyshev, periodic=false\n scheduler: fastest\n properties: wanted_neighbors","content_type":"text/plain"}}}],"key":"QYCct4rmtA"}],"key":"yW7gKb6Ueg"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"subslide"}},"children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can also use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sQS9SoWWX9"},{"type":"inlineCode","value":"run","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FGzlZ1TDl5"},{"type":"text","value":" function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xL2KzlY27U"}],"key":"lQ8fPF97DR"},{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This function requires a model, agent_step! function, number of steps and array of agent property names to record","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"CeYRyBSXYp"}],"key":"Fwkxi63AEx"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The output is a DataFrame with all the data","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jnMV4aOYrW"}],"key":"fhG4aYFjrG"}],"key":"n2Qk0Oq09a"}],"key":"xYyrDeixfq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"model = init_schelling()\nadata = [:pos, :is_happy, :group]  # short for agent data\ndata, _ = run!(model, 10; adata)\ndata","key":"ePs3aop3kh"},{"type":"output","id":"-FpuDaMDIKlIMyp_cViYQ","data":[{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/html":{"content":"<div><div style = \"float: left;\"><span>5500×5 DataFrame</span></div><div style = \"float: right;\"><span style = \"font-style: italic;\">5475 rows omitted</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"header\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">time</th><th style = \"text-align: left;\">id</th><th style = \"text-align: left;\">pos</th><th style = \"text-align: left;\">is_happy</th><th style = \"text-align: left;\">group</th></tr><tr class = \"subheader headerLastRow\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Tuple{Int64, Int64}\" style = \"text-align: left;\">Tuple…</th><th title = \"Bool\" style = \"text-align: left;\">Bool</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th></tr></thead><tbody><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">1</td><td style = \"text-align: left;\">(2, 1)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">2</td><td style = \"text-align: left;\">(11, 20)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">3</td><td style = \"text-align: left;\">(3, 22)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">4</td><td style = \"text-align: left;\">(10, 21)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">5</td><td style = \"text-align: left;\">(7, 16)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">6</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">6</td><td style = \"text-align: left;\">(10, 10)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">7</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">7</td><td style = \"text-align: left;\">(11, 19)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">8</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">8</td><td style = \"text-align: left;\">(2, 7)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">9</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">9</td><td style = \"text-align: left;\">(19, 21)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">10</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">10</td><td style = \"text-align: left;\">(3, 12)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">11</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">11</td><td style = \"text-align: left;\">(24, 14)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">12</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">12</td><td style = \"text-align: left;\">(13, 4)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">13</td><td style = \"text-align: right;\">0</td><td style = \"text-align: right;\">13</td><td style = \"text-align: left;\">(9, 19)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">1</td></tr><tr><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td><td style = \"text-align: right;\">&vellip;</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5489</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">489</td><td style = \"text-align: left;\">(8, 10)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5490</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">490</td><td style = \"text-align: left;\">(8, 13)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5491</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">491</td><td style = \"text-align: left;\">(13, 11)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5492</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">492</td><td style = \"text-align: left;\">(9, 11)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5493</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">493</td><td style = \"text-align: left;\">(18, 2)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5494</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">494</td><td style = \"text-align: left;\">(16, 3)</td><td style = \"text-align: right;\">false</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5495</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">495</td><td style = \"text-align: left;\">(20, 25)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5496</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">496</td><td style = \"text-align: left;\">(23, 18)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5497</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">497</td><td style = \"text-align: left;\">(9, 15)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5498</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">498</td><td style = \"text-align: left;\">(20, 13)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5499</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">499</td><td style = \"text-align: left;\">(20, 12)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5500</td><td style = \"text-align: right;\">10</td><td style = \"text-align: right;\">500</td><td style = \"text-align: left;\">(18, 4)</td><td style = \"text-align: right;\">true</td><td style = \"text-align: right;\">2</td></tr></tbody></table></div>","content_type":"text/html"},"text/latex":{"content":"\\begin{tabular}{r|ccccc}\n\t& time & id & pos & is\\_happy & group\\\\\n\t\\hline\n\t& Int64 & Int64 & Tuple… & Bool & Int64\\\\\n\t\\hline\n\t1 & 0 & 1 & (2, 1) & 0 & 1 \\\\\n\t2 & 0 & 2 & (11, 20) & 0 & 1 \\\\\n\t3 & 0 & 3 & (3, 22) & 0 & 1 \\\\\n\t4 & 0 & 4 & (10, 21) & 0 & 1 \\\\\n\t5 & 0 & 5 & (7, 16) & 0 & 1 \\\\\n\t6 & 0 & 6 & (10, 10) & 0 & 1 \\\\\n\t7 & 0 & 7 & (11, 19) & 0 & 1 \\\\\n\t8 & 0 & 8 & (2, 7) & 0 & 1 \\\\\n\t9 & 0 & 9 & (19, 21) & 0 & 1 \\\\\n\t10 & 0 & 10 & (3, 12) & 0 & 1 \\\\\n\t11 & 0 & 11 & (24, 14) & 0 & 1 \\\\\n\t12 & 0 & 12 & (13, 4) & 0 & 1 \\\\\n\t13 & 0 & 13 & (9, 19) & 0 & 1 \\\\\n\t14 & 0 & 14 & (21, 20) & 0 & 1 \\\\\n\t15 & 0 & 15 & (3, 21) & 0 & 1 \\\\\n\t16 & 0 & 16 & (14, 8) & 0 & 1 \\\\\n\t17 & 0 & 17 & (13, 17) & 0 & 1 \\\\\n\t18 & 0 & 18 & (5, 8) & 0 & 1 \\\\\n\t19 & 0 & 19 & (4, 20) & 0 & 1 \\\\\n\t20 & 0 & 20 & (4, 19) & 0 & 1 \\\\\n\t21 & 0 & 21 & (8, 11) & 0 & 1 \\\\\n\t22 & 0 & 22 & (12, 22) & 0 & 1 \\\\\n\t23 & 0 & 23 & (7, 19) & 0 & 1 \\\\\n\t24 & 0 & 24 & (5, 3) & 0 & 1 \\\\\n\t25 & 0 & 25 & (16, 6) & 0 & 1 \\\\\n\t26 & 0 & 26 & (7, 9) & 0 & 1 \\\\\n\t27 & 0 & 27 & (4, 12) & 0 & 1 \\\\\n\t28 & 0 & 28 & (10, 22) & 0 & 1 \\\\\n\t29 & 0 & 29 & (9, 6) & 0 & 1 \\\\\n\t30 & 0 & 30 & (17, 19) & 0 & 1 \\\\\n\t$\\dots$ & $\\dots$ & $\\dots$ & $\\dots$ & $\\dots$ & $\\dots$ \\\\\n\\end{tabular}\n","content_type":"text/latex"},"text/plain":{"content":"\u001b[1m5500×5 DataFrame\u001b[0m\n\u001b[1m  Row \u001b[0m│\u001b[1m time  \u001b[0m\u001b[1m id    \u001b[0m\u001b[1m pos      \u001b[0m\u001b[1m is_happy \u001b[0m\u001b[1m group \u001b[0m\n      │\u001b[90m Int64 \u001b[0m\u001b[90m Int64 \u001b[0m\u001b[90m Tuple…   \u001b[0m\u001b[90m Bool     \u001b[0m\u001b[90m Int64 \u001b[0m\n──────┼─────────────────────────────────────────\n    1 │     0      1  (2, 1)       false      1\n    2 │     0      2  (11, 20)     false      1\n    3 │     0      3  (3, 22)      false      1\n    4 │     0      4  (10, 21)     false      1\n    5 │     0      5  (7, 16)      false      1\n    6 │     0      6  (10, 10)     false      1\n    7 │     0      7  (11, 19)     false      1\n    8 │     0      8  (2, 7)       false      1\n    9 │     0      9  (19, 21)     false      1\n   10 │     0     10  (3, 12)      false      1\n   11 │     0     11  (24, 14)     false      1\n  ⋮   │   ⋮      ⋮       ⋮         ⋮        ⋮\n 5491 │    10    491  (13, 11)      true      2\n 5492 │    10    492  (9, 11)       true      2\n 5493 │    10    493  (18, 2)       true      2\n 5494 │    10    494  (16, 3)      false      2\n 5495 │    10    495  (20, 25)      true      2\n 5496 │    10    496  (23, 18)      true      2\n 5497 │    10    497  (9, 15)       true      2\n 5498 │    10    498  (20, 13)      true      2\n 5499 │    10    499  (20, 12)      true      2\n 5500 │    10    500  (18, 4)       true      2\n\u001b[36m                               5479 rows omitted\u001b[0m","content_type":"text/plain"}}}],"key":"nOpNA99UTF"}],"key":"d9WtjZ1AqW"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualizing the Agents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C2omQz1oyJ"}],"identifier":"visualizing-the-agents","label":"Visualizing the Agents","html_id":"visualizing-the-agents","implicit":true,"key":"iHwt73L7Td"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"One of the more instructive (and fun!) parts of agent based modeling is visualizing the data","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"homcmuTmqx"}],"key":"cnGVJiKbyd"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To do this visualization we will use the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aiz7btivGC"},{"type":"inlineCode","value":"abmplot","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"D3kj6fSd42"},{"type":"text","value":" function","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HJ7J3UUkC2"}],"key":"TP1XoQhNSR"}],"key":"QIjNDWEFT1"}],"key":"ndrnkO4eMp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using CairoMakie\n\nagent_color(a) = a.group == 1 ? :blue : :orange\nagent_marker(a) = a.group == 1 ? :circle : :rect\nfigure, _ = abmplot(model; agent_color, agent_marker, agent_size = 10)\nfigure # returning the figure displays it","key":"QmEnTFshtM"},{"type":"output","id":"xhEd5rDwrpAGbFVw7tWbE","data":[{"output_type":"execute_result","execution_count":30,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a0bde8d668477c6c8bb1534d2e475450","path":"/build/a0bde8d668477c6c8bb1534d2e475450.png"},"text/html":{"content_type":"text/html","hash":"56296733339f8447df6b0e788b429dc4","path":"/build/56296733339f8447df6b0e788b429dc4.html"}}}],"key":"J1K4hhMwNx"}],"key":"cIETyic5PB"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Animating the Agents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UZ7pDy4p0p"}],"identifier":"animating-the-agents","label":"Animating the Agents","html_id":"animating-the-agents","implicit":true,"key":"xRJkxdkJ5E"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can also create a video that animates our agents moving throughout the system","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Fu26fCK9dd"}],"key":"qtWEeNwdSf"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We do this using the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"abu3UB9DJ8"},{"type":"inlineCode","value":"abmvideo","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"epO6nBSbPT"},{"type":"text","value":" function as follows","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vlaG6uTISt"}],"key":"fCplVdGMSa"}],"key":"edeRjhi6ZN"}],"key":"f2mya8UpyI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"model = init_schelling();\nabmvideo(\n    \"schelling.mp4\", model;\n    agent_color, agent_marker, agent_size = 10,\n    framerate = 4, frames = 20,\n    title = \"Schelling's segregation model\"\n)","key":"o0JYdEFkuZ"},{"type":"output","id":"YOEubNVEy7Pt7XGOi3gGY","data":[],"key":"arqe2lObo7"}],"key":"Fc38gKwFSb"},{"type":"block","kind":"notebook-content","data":{"slideshow":{"slide_type":"slide"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Interactive Application","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O0OGkh7DVv"}],"identifier":"interactive-application","label":"Interactive Application","html_id":"interactive-application","implicit":true,"key":"T43BOAJ3Bf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Agents.jl also makes it very easy to create an interactive application for our model!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y6plwqygIo"}],"key":"oBTIkv5MC9"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We can do this using the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"j90NaOPFDk"},{"type":"inlineCode","value":"abmexploration","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QE1hyAqcu5"},{"type":"text","value":" function","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"NbUHEtoYVa"}],"key":"g4luWf4xMj"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This expects a single positional argument:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nHTVYEf3n9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"model","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KtsDrd7WYX"}],"key":"G7aFlXtMaM"}],"key":"p5Pemtb1sD"}],"key":"ewlwa7AXOg"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"We also have some keyword arguments","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XMNJdCy9I0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"params","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KZz4jEVHKF"},{"type":"text","value":": Dict mapping model parameters to range of values to test","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"R7eAmrgRYH"}],"key":"Zm9cPHi0V4"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"agent_color","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Q5ajsUN8UG"},{"type":"text","value":", ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"LGH72UXdR3"},{"type":"inlineCode","value":"agent_marker","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GzK8oGngX4"},{"type":"text","value":", ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xU8oVenzXq"},{"type":"inlineCode","value":"agent_size","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gqXzaZOn8d"},{"type":"text","value":": control marker color color, symbol, and size as before","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PZ3agqff34"}],"key":"lHzwyt3a2l"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"inlineCode","value":"adata","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"QN3vmEH4OU"},{"type":"text","value":": Array of (agent_property, summary_func) tuples that specify which data to plot in separate charts","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"aLIPMwvLB4"}],"key":"mR0BH71H5b"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"alabels","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SuMxDObHaj"},{"type":"text","value":": What label to put on the plots for ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JmleFl45Io"},{"type":"inlineCode","value":"adata","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WTtKWd0ad3"}],"key":"aIfWY8R2P6"}],"key":"GuZczNErLS"}],"key":"JJqEEsVlec"}],"key":"liHbnapNie"}],"key":"QsvG8Cyvct"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"model = init_schelling()\nadata = [(:is_happy, sum)]\nalabels = [\"n_happy\"]\nparameter_range = Dict(:wanted_neighbors => 0:8)\nfigure, abmobs = abmexploration(\n    model;\n    adata, alabels,\n    agent_color, agent_marker, agent_size = 10,\n    params=parameter_range,\n)\nfigure","key":"VZa970rMR7"},{"type":"output","id":"kMX7BeUxiQ3zzS29046x4","data":[{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"29418cd69628d206640c11093f02b606","path":"/build/29418cd69628d206640c11093f02b606.png"},"text/html":{"content_type":"text/html","hash":"5500cd5d9146ad563e76926c06e5415a","path":"/build/5500cd5d9146ad563e76926c06e5415a.html"}}}],"key":"nzVyXT77vV"}],"key":"PLegb5Ihbh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Running Julia Code in the REPL","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R5OfDQ73tP"}],"identifier":"running-julia-code-in-the-repl","label":"Running Julia Code in the REPL","html_id":"running-julia-code-in-the-repl","implicit":true,"key":"ste04Hul9V"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In order to use the interactive app we need to run the code from the Julia REPL (not inside VS Code or Jupyter)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AplOHx3jx9"}],"key":"sREhJrbXxb"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The REPL (Read-Eval-Print-Loop) is the default way to run Julia interactively","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HMGRMfHrDN"}],"key":"AsSCApMTQZ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Let’s learn about the REPL before we run our interactive visualization","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"k48DIGibTX"}],"key":"HOB33GdOMm"}],"key":"BNlIJHsMLH"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The Julia REPL","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"olKnpaKsGn"}],"identifier":"the-julia-repl","label":"The Julia REPL","html_id":"the-julia-repl","implicit":true,"key":"a9S83sPhNe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The REPL is typically started either by typing ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tqJmNqzFi6"},{"type":"inlineCode","value":"julia","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"lvojNugz8t"},{"type":"text","value":" in a terminal or by clicking on the Julia icon in your Applications list","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"bdvSSM0Wrr"}],"key":"oNzi3Sw0pY"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Once started, you will see a prompt ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FgQN5vA0QY"},{"type":"inlineCode","value":"julia>","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HXDeT3SJJT"},{"type":"text","value":" where you can enter Julia code","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"tzF2XIYsFi"}],"key":"KD5qiSmMwS"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"If you enter code and press ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"sj0prdyPlv"},{"type":"inlineCode","value":"Enter","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pDAyTz4KiC"},{"type":"text","value":", the REPL will evaluate the code and print the result","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SrrcBK4nxO"}],"key":"Jeb4cBEIzS"}],"key":"uf761xALvk"},{"type":"heading","depth":3,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"REPL Modes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dMolLjzjYI"}],"identifier":"repl-modes","label":"REPL Modes","html_id":"repl-modes","implicit":true,"key":"s0DLpNVlHs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"The REPL has several modes you can switch between:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ke9oa55Ml3"}],"key":"y62JupaAip"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Default mode","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"JjAG1nM7Z5"}],"key":"DOQvkfR74C"},{"type":"text","value":" ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"jfjta0unIv"},{"type":"inlineCode","value":"julia>","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cvDDfzyDzG"},{"type":"text","value":": Run Julia code and see output (default)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"pzeNGO8RZf"}],"key":"RYTwkktOo3"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Shell mode","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"pl3SZcAqif"}],"key":"n1S3S0YUse"},{"type":"text","value":" ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"buPYz34ECC"},{"type":"inlineCode","value":"shell>","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"J15uhvDJqp"},{"type":"text","value":": Interact with underlying shell/terminal (activate with ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"dPHjQMTL7c"},{"type":"inlineCode","value":";","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Pkkobxx4h1"},{"type":"text","value":")","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"RJmvHNexXc"}],"key":"uVxR4CVkdZ"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Help mode","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"zdbOR161c7"}],"key":"SYOy7PVxYl"},{"type":"text","value":" ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"B6SR7tn6kE"},{"type":"inlineCode","value":"help?>","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"So6DLo28WF"},{"type":"text","value":": Get help on Julia functions (activate with ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"U9cb4U6seo"},{"type":"inlineCode","value":"?","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"HccGFA93h7"},{"type":"text","value":")","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"KImqHE39TV"}],"key":"FNB75tIXJa"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Package mode","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"NBsaYYyKDq"}],"key":"IjS8NwizOU"},{"type":"text","value":" ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"WoekQvrEoP"},{"type":"inlineCode","value":"pkg>","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"GXw5dEpODm"},{"type":"text","value":": Manage Julia packages (activate with ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"KuFmJvIdOf"},{"type":"inlineCode","value":"]","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"wiSGDmYoop"},{"type":"text","value":")","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"sbNj3rHyuM"}],"key":"nUCFCXeANe"}],"key":"Bcwkev7yD3"}],"key":"X0AWN1acdb"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"To return to default mode from any other mode, press backspace at an empty prompt","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"lLd0qTT7QK"}],"key":"Mc4rRaiYGu"}],"key":"uU1g792KW2"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Examples of what each mode prompt looks like:","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Pnz7IdLebi"}],"key":"IL1DMmUWFv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Default: ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"uF5gpvDCpz"},{"type":"inlineCode","value":"julia>","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"WlBHePekFB"}],"key":"bYBn6paLmW"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Shell: ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"zGB4EoJU5U"},{"type":"inlineCode","value":"shell>","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"NZckIVzjNZ"}],"key":"hbwQbWuQTS"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Help: ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"dfcuBjrUml"},{"type":"inlineCode","value":"help?>","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"TisvoGYWPp"}],"key":"q1nEszurXI"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Package: ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"MF3xI4gkNZ"},{"type":"inlineCode","value":"(@v1.9) pkg>","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"ThCihTT6zC"}],"key":"xjyEtsTAiV"}],"key":"bvDxzPEnxZ"}],"key":"ZaAOfi4ttx"}],"key":"vR6pHsD6jC"},{"type":"heading","depth":3,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Running our Interactive Schelling Model","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"yPKVRdfG4R"}],"identifier":"running-our-interactive-schelling-model","label":"Running our Interactive Schelling Model","html_id":"running-our-interactive-schelling-model","implicit":true,"key":"tZEJUw0BwU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Now let’s run our interactive model from the REPL:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"Q3JE0XW1H1"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":31,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Open a terminal and type ","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"CQHqCyjhcz"},{"type":"inlineCode","value":"julia","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ImQdJz5jMi"},{"type":"text","value":" to start the REPL","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"nT1d7OD7Lb"}],"key":"u2eZAtufqR"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Navigate to this notebook’s directory if needed (using ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"DFqS0eAS4A"},{"type":"inlineCode","value":";","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"OhNJRYIh6l"},{"type":"text","value":" for shell mode)","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"dkDE5Yuf8f"}],"key":"WBj7WuyFQL"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Copy and run the code from the cells above to set up the model","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"MBLRaHJgQW"}],"key":"qs8izrqQ1k"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Run the interactive visualization code","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"afvzkmTSQ4"}],"key":"kqnsljV2qw"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"You’ll be able to adjust parameters with sliders and see the model update in real-time!","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"v0dua1TLDL"}],"key":"LWiwXbLro8"}],"key":"U05LK1idJb"}],"key":"WMa8CK4CZn"}],"key":"srmPcmkko8"}],"key":"uWbYs9S28f"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Real-World Implications","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ltO5dsOoVA"}],"identifier":"real-world-implications","label":"Real-World Implications","html_id":"real-world-implications","implicit":true,"key":"z98hvJZizV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Schelling’s model was groundbreaking for urban planning and social policy","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vyhq98UzwP"}],"key":"IjZy9pWP4M"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Key insight: segregation doesn’t require intense prejudice - even mild preferences for similar neighbors create strong patterns","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Yw5Rd81lnq"}],"key":"mTkWgGByyv"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Applications beyond racial segregation:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"n4nObu7ul3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Income clustering in neighborhoods","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"U3ra9FfTIQ"}],"key":"ZIEfJ0YJR7"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Social media echo chambers and political polarization","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Pz4O47Nf8n"}],"key":"xAkJWUnTtn"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Clustering in high school cafeterias","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kpEuP01tOT"}],"key":"cfo10Ii4mx"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Academic discipline segregation in universities","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Mk1lc01jhk"}],"key":"rzVLRWMTlj"}],"key":"GByH2FEd6X"}],"key":"vfie8m2SMW"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Model limitations: Reality includes housing costs, school quality, employment access, historical policies","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"prz6hwwj9b"}],"key":"r8C2FiKHEI"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Policy implication: Simply reducing prejudice may not eliminate segregation - structural interventions may be needed","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"I5yn4oVch5"}],"key":"kNDLnX1SmV"}],"key":"fcvlhXYgBK"}],"key":"U4oc5TPV3p"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ECbHPA1hOJ"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"key":"H0Fw4cQigH"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Exercise 1: Parameter Sensitivity Analysis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cVAivBoHoT"}],"identifier":"exercise-1-parameter-sensitivity-analysis","label":"Exercise 1: Parameter Sensitivity Analysis","html_id":"exercise-1-parameter-sensitivity-analysis","implicit":true,"key":"kVl4vvc4XM"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Using the interactive app or by modifying the code, explore how different ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Zt23CjKuU5"},{"type":"inlineCode","value":"wanted_neighbors","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jnEisV8Pgb"},{"type":"text","value":" values affect segregation:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ttnrp7NTSn"}],"key":"yyr2djgAWx"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Run the model with ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"T2rvZ0FWPL"},{"type":"inlineCode","value":"wanted_neighbors = 1","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CQYY2XqGjg"},{"type":"text","value":" (agents want just 1 similar neighbor)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ilBIfkKjch"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Observe the final pattern. Is there segregation?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"y4ePxvMg0w"}],"key":"OFtwjjgG4N"}],"key":"Z52WdIkU5l"}],"key":"kaxtCDu0Yl"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Run with ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AE7kXTneF9"},{"type":"inlineCode","value":"wanted_neighbors = 3","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"MLg5VGGBii"},{"type":"text","value":" (moderate preference)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vXvqIi7aV6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"How does the pattern differ? How many steps to stability?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"X5XxIxYaF4"}],"key":"CKZmzOYYUB"}],"key":"z8eShm4jp1"}],"key":"JBcw0MXlRz"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Run with ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"geXsK1cdKq"},{"type":"inlineCode","value":"wanted_neighbors = 6","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"iJxOESRB4S"},{"type":"text","value":" (strong preference)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"uppJQOUzfl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What happens? Do all agents become happy?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"HRFXgIS2dm"}],"key":"t4p09aF65X"}],"key":"jXnU4Wjwzx"}],"key":"EMxTES3liP"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Document your findings:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bCaoaniKN8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"At what threshold does segregation become noticeable?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"csgGWae1EU"}],"key":"pPIbr5VOXS"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"What happens when the threshold is too high?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"XWqkNbxRSE"}],"key":"hgZLGnV50E"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"How does empty space (less than 500 agents total) affect the patterns?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"tK02xbRN42"}],"key":"g6M2khr8Sr"}],"key":"e2NYqYhaHL"}],"key":"rHLv7wiQWp"}],"key":"o8aIghsIEC"}],"key":"cjmPpuxhas"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 2: Model Extensions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e4jv8bQczn"}],"identifier":"exercise-2-model-extensions","label":"Exercise 2: Model Extensions","html_id":"exercise-2-model-extensions","implicit":true,"key":"h3wUFKggq8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Modify the Schelling model to explore these variations:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"e4OTn6sGJ1"}],"key":"ZH8KYdJ36s"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Three groups instead of two","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tR6UObsg4m"}],"key":"w8SLmLsTH1"},{"type":"text","value":":","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XPBhEKCoRN"}],"key":"sIg593cewv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Add a third group (e.g., green agents)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YBcSbVvU9h"}],"key":"BRMZh2Hlwi"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"What patterns emerge with three groups?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rV3fO3Jthb"}],"key":"cBS42ZeG3w"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Hint: Modify the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"FzIfXA18Vy"},{"type":"inlineCode","value":"init_schelling","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Z0SHZ56yLp"},{"type":"text","value":" function to have ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"sz7juWwjlH"},{"type":"inlineCode","value":"for group in 1:3","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dVnDXYT4B2"}],"key":"GoyFHASaOW"}],"key":"rBS2sdFdj4"}],"key":"YN4qO3HAcj"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Asymmetric populations","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"xDYMux3IBv"}],"key":"nvAmEfqwph"},{"type":"text","value":":","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"e8ND8VM7U1"}],"key":"meDCMT66YM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Try 400 agents of group 1 and 100 agents of group 2","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"dvLIkuQptv"}],"key":"T5We3AYkTQ"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Does the minority group cluster more tightly?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"keFjxR1s9n"}],"key":"MprwfwO7KO"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"What happens to the majority group’s distribution?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mAcvlLBFir"}],"key":"I3uaF12Pgs"}],"key":"d2gnvWsZXy"}],"key":"fT9V2KgYOb"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Different happiness thresholds per group","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"S4DnEwADTv"}],"key":"v8nU2hWcnb"},{"type":"text","value":":","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"VK9HT6NyDH"}],"key":"kGvH64xfDf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Modify so group 1 wants 3 similar neighbors, group 2 wants 5","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"FUn4T0SPII"}],"key":"xxbGHfe7Hv"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Which group ends up more segregated?","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"zDv3AxSra1"}],"key":"QF3t1636sp"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"What does this suggest about tolerance and outcomes?","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Gw0XxpY5WW"}],"key":"oWcx6KM7Ji"}],"key":"DryEwt2NNh"}],"key":"Fj9ZG7pTSH"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Distance-based happiness","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"UrnqNYMwgt"}],"key":"Y0r0yyUHSk"},{"type":"text","value":" (Advanced):","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"AWmC1tFO07"}],"key":"e86GdGgFCm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Instead of just counting similar neighbors, weight them by distance","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"NUvcV6w1kX"}],"key":"zgmTpas1PI"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Immediate neighbors count as 1.0, diagonal neighbors as 0.7","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"KLPCHJWcZN"}],"key":"pAU7lKZPj2"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"How does this change the segregation patterns?","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"kDPstvIKwB"}],"key":"hTMnjBIxpM"}],"key":"OXSLnLPXOy"}],"key":"ToQnGRXdDT"}],"key":"Iat7JX0m4A"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Choose at least one modification to implement and document your observations.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"kYFHFyCboy"}],"key":"GjR4Orw4Cv"}],"key":"JZYzcN8ZCl"}],"key":"qCGzNmqkI7"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Agent Based Models","url":"/l06-01-abm-concepts","group":"ABM 1"},"next":{"title":"Agent Based Models Review/Practice","url":"/l07-01-abm-money","group":"ABM 2"}}},"domain":"http://localhost:3000"}