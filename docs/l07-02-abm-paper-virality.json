{"version":2,"kind":"Notebook","sha256":"3d9bfd4f16a69378a3ccd2c0d97809a676c85c9c55a6e20575e9eb1079fad251","slug":"l07-02-abm-paper-virality","location":"/week07/L07.02_abm_paper_virality.ipynb","dependencies":[],"frontmatter":{"title":"Academic Paper Virality: An Agent-Based Model","content_includes_title":false,"kernelspec":{"name":"julia-1.11","display_name":"Julia 1.11.6","language":"julia"},"authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"L07.02_abm_paper_virality.ipynb","url":"/build/L07.02_abm_paper_vir-eaeccfa884cf7d0cce67f577320e934e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Computational Analysis of Social Complexity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"e7csYWnm8f"}],"key":"A2m5Nfrq3z"}],"key":"ODL6wE5tcn"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ona9PTs6nV"}],"key":"Uh6Sjas7Tn"}],"key":"WEJQF3Izss"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ABM concepts","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Wa6cjk4LK3"}],"key":"f9RGpXGepT"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Basic network analysis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"T25NAvMgRg"}],"key":"WqnHrV4yx8"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Data manipulation with DataFrames","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KQXm2SkX01"}],"key":"X0cowZ7Bqg"}],"key":"boyqTeU7Tv"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Outcomes","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JWPv0OHK01"}],"key":"gu9erGdRcU"}],"key":"QZjxzjoBwn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Build an ABM using real-world data","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"UYzWrzwC1f"}],"key":"bWzUfoK5hP"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Model citation dynamics in academic networks","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"FWMVv7pw3B"}],"key":"wWxbs0R4D8"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Analyze emergence of “viral” papers and sleeping beauties","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mMWNGM2t83"}],"key":"ud1mDZ4iZb"}],"key":"Nf3A9sreeP"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"MYmjeLXDH6"}],"key":"QCTvcbS6c6"}],"key":"lKmtejtbGB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"ArXiv Dataset: ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"HCwXoEKdbW"},{"type":"link","url":"https://www.kaggle.com/datasets/Cornell-University/arxiv","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"https://​www​.kaggle​.com​/datasets​/Cornell​-University​/arxiv","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"YK08NOQu5C"}],"urlSource":"https://www.kaggle.com/datasets/Cornell-University/arxiv","key":"UU4Fkz8HQz"}],"key":"oYotQTIDTF"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Citation Network Tools: ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"lwY7ZsK0Xx"},{"type":"link","url":"https://github.com/mattbierbaum/arxiv-public-datasets","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/mattbierbaum​/arxiv​-public​-datasets","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Qym9FP7NFt"}],"urlSource":"https://github.com/mattbierbaum/arxiv-public-datasets","error":true,"key":"DlaOOcPldo"}],"key":"bMBVJCV5AE"}],"key":"FoNk2vGlCR"}],"key":"DKtZz6JIlS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fBB6JrJHbl"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"VVTbeH71gh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Academic papers spread through citation networks","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mFNRf37xBU"}],"key":"GLWe9XBWR7"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Some papers go “viral” quickly, others are “sleeping beauties” that gain citations years later","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gIYeYkE802"}],"key":"AUZMa7QboK"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"We’ll model how papers gain citations based on:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"eIK91bz243"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Author prestige","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LUtgDAW9Ly"}],"key":"ItXIxA4EL9"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Topic trends","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LQFQaMh2g9"}],"key":"SEXsmO0u51"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Network position","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"o641O27uou"}],"key":"ORkq2NTZNe"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Quality/novelty","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PovjlLR7ls"}],"key":"aX1S56CDrA"}],"key":"oDvppFYQX2"}],"key":"VlVdW0qVag"}],"key":"Yu8K6mX6Qz"}],"key":"nhrgwxXNy4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 1: Data Collection & Exploration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DPzdLSqlCP"}],"identifier":"part-1-data-collection-exploration","label":"Part 1: Data Collection & Exploration","html_id":"part-1-data-collection-exploration","implicit":true,"key":"IzXdxDP3U8"}],"key":"ySKJDeHz34"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup and Dependencies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tnO5ZV0jUR"}],"identifier":"setup-and-dependencies","label":"Setup and Dependencies","html_id":"setup-and-dependencies","implicit":true,"key":"ByxzTElOgK"}],"key":"NjoaSEx9cd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using Pkg\nPkg.add([\"JSON3\", \"Downloads\", \"CSV\", \"DataFrames\", \"Graphs\", \"Agents\", \"Random\", \"Statistics\", \"CairoMakie\", \"ProgressMeter\", \"StatsBase\"])","key":"JWU71S7kIO"},{"type":"output","id":"Vx1aAyiCEFjEmkj3F9jFF","data":[{"name":"stderr","output_type":"stream","text":"\u001b[32m\u001b[1m   Resolving\u001b[22m\u001b[39m package versions...\n\u001b[32m\u001b[1m  No Changes\u001b[22m\u001b[39m to `~/Teaching/UCF/CAP-6318/book-myst/week07/Project.toml`\n\u001b[32m\u001b[1m  No Changes\u001b[22m\u001b[39m to `~/Teaching/UCF/CAP-6318/book-myst/week07/Manifest.toml`\n\u001b[92m\u001b[1mPrecompiling\u001b[22m\u001b[39m project...\n    780.9 ms\u001b[32m  ✓ \u001b[39m\u001b[90mQOI\u001b[39m\n    967.1 ms\u001b[32m  ✓ \u001b[39m\u001b[90mImageAxes\u001b[39m\n    975.7 ms\u001b[32m  ✓ \u001b[39m\u001b[90mOpenEXR\u001b[39m\n   1276.3 ms\u001b[32m  ✓ \u001b[39m\u001b[90mWebP\u001b[39m\n   1496.0 ms\u001b[32m  ✓ \u001b[39m\u001b[90mSixel\u001b[39m\n   1628.4 ms\u001b[32m  ✓ \u001b[39m\u001b[90mJpegTurbo\u001b[39m\n    946.9 ms\u001b[32m  ✓ \u001b[39m\u001b[90mImageMetadata\u001b[39m\n   1185.6 ms\u001b[32m  ✓ \u001b[39m\u001b[90mNetpbm\u001b[39m\n   9745.8 ms\u001b[32m  ✓ \u001b[39m\u001b[90mTiffImages\u001b[39m\n  9 dependencies successfully precompiled in 11 seconds. 325 already precompiled.\n"}],"key":"HO436Xaob3"}],"key":"hDDximWwuh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using JSON3\nusing Downloads\nusing CSV\nusing DataFrames\nusing Graphs\nusing Agents\nusing Random\nusing Statistics\nusing CairoMakie\nusing Dates\nusing StatsBase","key":"OYXWucDvs2"},{"type":"output","id":"PC-pHjlo7wSpu7dAz4GfA","data":[],"key":"E3x01I3LpW"}],"key":"u3JOFKlItJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download Sample ArXiv Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zq3KkOT2kg"}],"identifier":"download-sample-arxiv-data","label":"Download Sample ArXiv Data","html_id":"download-sample-arxiv-data","implicit":true,"key":"Zq2ouXEiFA"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For this example, we’ll work with a subset of ArXiv papers. In practice, you would download the full dataset from Kaggle.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JEwKbh9AlR"}],"key":"fGUtqAOrPx"}],"key":"AkUluXNujT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# For demonstration, we'll create synthetic data that mimics ArXiv structure\n# In practice, download from: https://www.kaggle.com/datasets/Cornell-University/arxiv\n\nfunction create_sample_arxiv_data(n_papers=1000, n_authors=300)\n    Random.seed!(42)\n\n    # Create authors with varying prestige\n    authors = DataFrame(\n        author_id = 1:n_authors,\n        name = [\"Author_$i\" for i in 1:n_authors],\n        h_index = rand(1:50, n_authors),\n        institution_rank = rand(1:100, n_authors)\n    )\n\n    # Create papers\n    papers = DataFrame()\n    papers.paper_id = 1:n_papers\n    papers.title = [\"Paper_$i\" for i in 1:n_papers]\n    papers.year = rand(2010:2023, n_papers)\n    papers.month = rand(1:12, n_papers)\n    papers.category = rand([\"cs.AI\", \"cs.LG\", \"stat.ML\", \"physics\", \"math\"], n_papers)\n    papers.abstract_length = rand(100:500, n_papers)\n    papers.n_authors = rand(1:5, n_papers)\n    papers.lead_author_id = rand(1:n_authors, n_papers)\n    papers.quality_score = rand(n_papers)  # Hidden variable representing paper quality\n\n    # Create citation network (papers cite older papers)\n    citations = DataFrame(citing_paper=Int[], cited_paper=Int[], citation_year=Int[])\n\n    for i in 1:n_papers\n        paper_year = papers.year[i]\n        # Papers can only cite older papers\n        older_papers = findall(papers.year .< paper_year)\n        if length(older_papers) > 0\n            n_citations = min(rand(0:20), length(older_papers))\n            if n_citations > 0\n                cited = sample(older_papers, n_citations, replace=false)\n                for c in cited\n                    push!(citations, (i, c, paper_year + rand(0:2)))\n                end\n            end\n        end\n    end\n\n    return papers, authors, citations\nend\n\npapers_df, authors_df, citations_df = create_sample_arxiv_data()\nprintln(\"Generated $(nrow(papers_df)) papers, $(nrow(authors_df)) authors, $(nrow(citations_df)) citations\")","key":"R0FDgOe0Wg"},{"type":"output","id":"LIjEIwUlim2fPeFjKQB94","data":[{"name":"stdout","output_type":"stream","text":"Generated 1000 papers, 300 authors, 9527 citations\n"}],"key":"XFRw3Ur5Bq"}],"key":"xhk3KyJBn6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Explore the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WTlVDcu9J3"}],"identifier":"explore-the-data","label":"Explore the Data","html_id":"explore-the-data","implicit":true,"key":"F8elGgaia7"}],"key":"DeAKTD6qs9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Show sample of papers\nfirst(papers_df, 5)","key":"oO251tIacl"},{"type":"output","id":"jv3Vk9nOUwMjZLWwYbF-V","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<div><div style = \"float: left;\"><span>5×9 DataFrame</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"columnLabelRow\"><th class = \"stubheadLabel\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">paper_id</th><th style = \"text-align: left;\">title</th><th style = \"text-align: left;\">year</th><th style = \"text-align: left;\">month</th><th style = \"text-align: left;\">category</th><th style = \"text-align: left;\">abstract_length</th><th style = \"text-align: left;\">n_authors</th><th style = \"text-align: left;\">lead_author_id</th><th style = \"text-align: left;\">quality_score</th></tr><tr class = \"columnLabelRow\"><th class = \"stubheadLabel\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"String\" style = \"text-align: left;\">String</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"String\" style = \"text-align: left;\">String</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th></tr></thead><tbody><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: right;\">1</td><td style = \"text-align: left;\">Paper_1</td><td style = \"text-align: right;\">2022</td><td style = \"text-align: right;\">11</td><td style = \"text-align: left;\">physics</td><td style = \"text-align: right;\">152</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">27</td><td style = \"text-align: right;\">0.158341</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: right;\">2</td><td style = \"text-align: left;\">Paper_2</td><td style = \"text-align: right;\">2019</td><td style = \"text-align: right;\">4</td><td style = \"text-align: left;\">cs.LG</td><td style = \"text-align: right;\">133</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">260</td><td style = \"text-align: right;\">0.843125</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: right;\">3</td><td style = \"text-align: left;\">Paper_3</td><td style = \"text-align: right;\">2014</td><td style = \"text-align: right;\">5</td><td style = \"text-align: left;\">cs.AI</td><td style = \"text-align: right;\">136</td><td style = \"text-align: right;\">1</td><td style = \"text-align: right;\">269</td><td style = \"text-align: right;\">0.68607</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: right;\">4</td><td style = \"text-align: left;\">Paper_4</td><td style = \"text-align: right;\">2012</td><td style = \"text-align: right;\">3</td><td style = \"text-align: left;\">math</td><td style = \"text-align: right;\">302</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">15</td><td style = \"text-align: right;\">0.830427</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: right;\">5</td><td style = \"text-align: left;\">Paper_5</td><td style = \"text-align: right;\">2018</td><td style = \"text-align: right;\">2</td><td style = \"text-align: left;\">cs.AI</td><td style = \"text-align: right;\">483</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">205</td><td style = \"text-align: right;\">0.551647</td></tr></tbody></table></div>","content_type":"text/html"},"text/latex":{"content":"\\begin{tabular}{r|ccccccccc}\n\t& paper\\_id & title & year & month & category & abstract\\_length & n\\_authors & lead\\_author\\_id & \\\\\n\t\\hline\n\t& Int64 & String & Int64 & Int64 & String & Int64 & Int64 & Int64 & \\\\\n\t\\hline\n\t1 & 1 & Paper\\_1 & 2022 & 11 & physics & 152 & 2 & 27 & $\\dots$ \\\\\n\t2 & 2 & Paper\\_2 & 2019 & 4 & cs.LG & 133 & 3 & 260 & $\\dots$ \\\\\n\t3 & 3 & Paper\\_3 & 2014 & 5 & cs.AI & 136 & 1 & 269 & $\\dots$ \\\\\n\t4 & 4 & Paper\\_4 & 2012 & 3 & math & 302 & 3 & 15 & $\\dots$ \\\\\n\t5 & 5 & Paper\\_5 & 2018 & 2 & cs.AI & 483 & 2 & 205 & $\\dots$ \\\\\n\\end{tabular}\n","content_type":"text/latex"},"text/plain":{"content":"\u001b[1m5×9 DataFrame\u001b[0m\n\u001b[1m Row \u001b[0m│\u001b[1m paper_id \u001b[0m\u001b[1m title   \u001b[0m\u001b[1m year  \u001b[0m\u001b[1m month \u001b[0m\u001b[1m category \u001b[0m\u001b[1m abstract_length \u001b[0m\u001b[1m n_authors \u001b[0m\u001b[1m \u001b[0m ⋯\n\u001b[1m     \u001b[0m│\u001b[90m Int64    \u001b[0m\u001b[90m String  \u001b[0m\u001b[90m Int64 \u001b[0m\u001b[90m Int64 \u001b[0m\u001b[90m String   \u001b[0m\u001b[90m Int64           \u001b[0m\u001b[90m Int64     \u001b[0m\u001b[90m \u001b[0m ⋯\n─────┼──────────────────────────────────────────────────────────────────────────\n   1 │        1  Paper_1   2022     11  physics               152          2   ⋯\n   2 │        2  Paper_2   2019      4  cs.LG                 133          3\n   3 │        3  Paper_3   2014      5  cs.AI                 136          1\n   4 │        4  Paper_4   2012      3  math                  302          3\n   5 │        5  Paper_5   2018      2  cs.AI                 483          2   ⋯\n\u001b[36m                                                               2 columns omitted\u001b[0m","content_type":"text/plain"}}}],"key":"fvobjCGHxg"}],"key":"COrpTkmLhI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Citation statistics\ncitation_counts = combine(groupby(citations_df, :cited_paper), nrow => :n_citations)\ndescribe(citation_counts.n_citations)","key":"Cj6udIwYiy"},{"type":"output","id":"SwKJoyzLVhGdKEv1M7pPv","data":[{"name":"stdout","output_type":"stream","text":"Summary Stats:\nLength:         870\nMissing Count:  0\nMean:           10.950575\nStd. Deviation: 9.427262\nMinimum:        1.000000\n1st Quartile:   3.250000\nMedian:         8.000000\n3rd Quartile:   15.000000\nMaximum:        47.000000\nType:           Int64\n"}],"key":"jMBlojFDSq"}],"key":"dMnPVUphpc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Visualize citation distribution (classic power law)\nfig = Figure()\nax = Axis(fig[1, 1], xlabel=\"Number of Citations\", ylabel=\"Count\", title=\"Citation Distribution\")\nhist!(ax, citation_counts.n_citations, bins=20)\nfig","key":"CnLYTdnoQb"},{"type":"output","id":"N7ywpjqn0XyAaGWlXdyMA","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ee79a4f698aa23b3922898cac2706362","path":"/build/ee79a4f698aa23b3922898cac2706362.png"},"text/html":{"content_type":"text/html","hash":"649c7f900392a6b94ae9815b2449d00f","path":"/build/649c7f900392a6b94ae9815b2449d00f.html"}}}],"key":"QySpvpzxGJ"}],"key":"d7UhLKhpbl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analyze Network Structure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vuk9VlPdex"}],"identifier":"analyze-network-structure","label":"Analyze Network Structure","html_id":"analyze-network-structure","implicit":true,"key":"mn6v7wO8jm"}],"key":"k3guvn3ITj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Build citation graph\nfunction build_citation_graph(papers_df, citations_df)\n    n_papers = nrow(papers_df)\n    g = SimpleDiGraph(n_papers)\n\n    for row in eachrow(citations_df)\n        add_edge!(g, row.citing_paper, row.cited_paper)\n    end\n\n    return g\nend\n\ncitation_graph = build_citation_graph(papers_df, citations_df)\nprintln(\"Graph has $(nv(citation_graph)) nodes and $(ne(citation_graph)) edges\")\nprintln(\"Average degree: $(round(mean(degree(citation_graph)), digits=2))\")","key":"siRUzVMOqn"},{"type":"output","id":"WSQlQX-ij6BMmq6uR1wc3","data":[{"name":"stdout","output_type":"stream","text":"Graph has 1000 nodes and 9527 edges\nAverage degree: 19.05\n"}],"key":"I8DWPstc95"}],"key":"cnFuzpalk6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 2: Agent-Based Model Design","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QAT0QWUaAH"}],"identifier":"part-2-agent-based-model-design","label":"Part 2: Agent-Based Model Design","html_id":"part-2-agent-based-model-design","implicit":true,"key":"tJaKtm8uwg"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Model Components","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nWmoVafemt"}],"identifier":"model-components","label":"Model Components","html_id":"model-components","implicit":true,"key":"B4Oaw0O67s"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Agents","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uvyQZg4JjW"}],"key":"kyOhBPEM2F"},{"type":"text","value":": Research papers","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KHgvSEA0kJ"}],"key":"RIMf1vVqa5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Properties: quality, author prestige, field, age, citation count","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"nyi7rXd2VY"}],"key":"UrT5cqLJSm"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Behavior: Papers get “read” by researchers who may cite them","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SvyvM0lSJY"}],"key":"yKC7SAHPt0"}],"key":"i3MaCrO9UQ"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Environment","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"iLcP7ikMjO"}],"key":"COjifti2VR"},{"type":"text","value":": Academic field with trending topics","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gBbF4Ey8L0"}],"key":"bC7D7HKdtp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Topic hotness varies over time","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"c7V3AW8zRh"}],"key":"UyyZohkGm7"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Conferences/journals provide visibility boosts","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"U70zUPZue8"}],"key":"ejX7afneFj"}],"key":"ccBwJDwQ12"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Rules","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bQToJWIFHp"}],"key":"yPRHSOyTBz"},{"type":"text","value":":","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"oe60TT1jlt"}],"key":"RAScDie6P9"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Each time step, new papers are “published”","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"iBjRaDayOv"}],"key":"xjjGJrZfgI"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Researchers “read” papers based on:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Zj69ngFU0Y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Recent publications (recency bias)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"NneRSE2FDi"}],"key":"k8h68tkaqE"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"High citation count (preferential attachment)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"RVl4JR3Mzv"}],"key":"gwO86QYyWg"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Author prestige","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"uHqaOdNo54"}],"key":"hwTHevyVOT"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Topic match with current trends","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"OPCSyakItB"}],"key":"NMQLxteAr7"}],"key":"z8Vxbav3Lt"}],"key":"XmstkNf3iC"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Read papers get cited with probability based on quality","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"BnK3taJC43"}],"key":"Hd7KY4JmfC"}],"key":"OtToLAgeMq"}],"key":"k4XScAljHI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Agent Structure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HGMA33mBFW"}],"identifier":"define-agent-structure","label":"Define Agent Structure","html_id":"define-agent-structure","implicit":true,"key":"IewB1dk5k5"}],"key":"NwSWKjuaeS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"@agent struct Paper(NoSpaceAgent)\n    # Fixed properties\n    quality::Float64\n    author_prestige::Float64\n    field::String\n    publication_time::Int\n\n    # Dynamic properties\n    citations::Int\n    reads::Int  # Times the paper has been read\n    age::Int\nend","key":"QGITn90U2N"},{"type":"output","id":"WDVOdUvSkq-Lz2NKSUIKA","data":[],"key":"ncJImwEgIB"}],"key":"DIz8BtGaDt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Model Properties","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"olXKL05H2U"}],"identifier":"define-model-properties","label":"Define Model Properties","html_id":"define-model-properties","implicit":true,"key":"T41BKXH1XV"}],"key":"HaQXDyTJyl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"mutable struct ModelProperties\n    current_time::Int\n    field_trends::Dict{String, Float64}  # How \"hot\" each field is\n    n_researchers::Int  # Number of researchers reading papers each time step\n    papers_per_researcher::Int  # Papers read per researcher per time step\n    citation_prob_base::Float64  # Base probability of citing a read paper\n    new_papers_per_step::Int  # New papers published each time step\nend","key":"wZTmyLaIL3"},{"type":"output","id":"Hk5dXDPHnqzAAfl-Ig97X","data":[],"key":"LnGg9tDMEP"}],"key":"lk81rnfEzs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Model Rules","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uoOUwHQYpV"}],"identifier":"model-rules","label":"Model Rules","html_id":"model-rules","implicit":true,"key":"KuZenmepPM"}],"key":"rCB2gH2Om9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function model_step!(model)\n    props = model.properties\n    props.current_time += 1\n\n    # Update field trends (random walk)\n    for field in keys(props.field_trends)\n        props.field_trends[field] = clamp(props.field_trends[field] + randn() * 0.1, 0.1, 2.0)\n    end\n\n    # Age all papers\n    for paper in allagents(model)\n        paper.age += 1\n    end\n\n    # Researchers read and cite papers\n    all_papers = collect(allagents(model))\n    if length(all_papers) > 0\n        for _ in 1:props.n_researchers\n            # Select papers to read (biased selection)\n            papers_to_read = select_papers_to_read(all_papers, props.papers_per_researcher, props)\n\n            for paper in papers_to_read\n                paper.reads += 1\n\n                # Decide whether to cite (based on quality and other factors)\n                cite_prob = calculate_citation_probability(paper, props)\n                if rand() < cite_prob\n                    paper.citations += 1\n                end\n            end\n        end\n    end\n\n    # Publish new papers\n    for _ in 1:props.new_papers_per_step\n        field = sample(collect(keys(props.field_trends)))\n        add_agent!(\n            model,\n            rand(),  # quality\n            rand(),  # author_prestige\n            field,\n            props.current_time,\n            0,  # citations\n            0,  # reads\n            0   # age\n        )\n    end\nend\n\nfunction select_papers_to_read(papers, n, props)\n    if length(papers) <= n\n        return papers\n    end\n\n    # Calculate selection weights\n    weights = Float64[]\n    for paper in papers\n        # Recency bias\n        recency_weight = exp(-paper.age / 365.0)  # Decay over a year\n\n        # Preferential attachment (rich get richer)\n        citation_weight = log(2 + paper.citations)\n\n        # Field trendiness\n        trend_weight = get(props.field_trends, paper.field, 1.0)\n\n        # Author prestige\n        prestige_weight = paper.author_prestige\n\n        push!(weights, recency_weight * citation_weight * trend_weight * prestige_weight)\n    end\n\n    # Weighted sampling without replacement\n    selected_indices = sample(1:length(papers), Weights(weights), n, replace=false)\n    return papers[selected_indices]\nend\n\nfunction calculate_citation_probability(paper, props)\n    # Base probability modified by paper quality and field trend\n    base_prob = props.citation_prob_base\n    quality_modifier = paper.quality\n    trend_modifier = get(props.field_trends, paper.field, 1.0)\n\n    return clamp(base_prob * quality_modifier * trend_modifier, 0.0, 1.0)\nend","key":"EC3Mt2qFpx"},{"type":"output","id":"Gxf1joyNpoAfZQMBp6pxB","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"calculate_citation_probability (generic function with 1 method)","content_type":"text/plain"}}}],"key":"kblZcZ16P4"}],"key":"PfNxb9e7iY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Initialize Model with Real Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nCmIp8lTmM"}],"identifier":"initialize-model-with-real-data","label":"Initialize Model with Real Data","html_id":"initialize-model-with-real-data","implicit":true,"key":"YUREyO6qBW"}],"key":"xhmp69gcHu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function initialize_model_from_data(papers_df, authors_df;\n                                   n_researchers=100,\n                                   papers_per_researcher=5)\n    # Create model properties\n    fields = unique(papers_df.category)\n    field_trends = Dict(f => 1.0 for f in fields)\n\n    props = ModelProperties(\n        0,  # current_time\n        field_trends,\n        n_researchers,\n        papers_per_researcher,\n        0.1,  # citation_prob_base\n        10   # new_papers_per_step\n    )\n\n    # Create model - properties need to be wrapped in Dict\n    model = ABM(Paper; properties=Dict(:properties => props), model_step!)\n\n    # Add initial papers from data\n    for row in eachrow(papers_df[1:min(100, nrow(papers_df)), :])  # Start with first 100 papers\n        author = authors_df[row.lead_author_id, :]\n        prestige = author.h_index / 50.0  # Normalize to [0, 1]\n\n        add_agent!(\n            model,\n            row.quality_score,\n            prestige,\n            row.category,\n            0,  # publication_time\n            0,  # citations\n            0,  # reads\n            0   # age\n        )\n    end\n\n    return model\nend\n\nmodel = initialize_model_from_data(papers_df, authors_df)\nprintln(\"Model initialized with $(nagents(model)) papers\")","key":"y0zFl2Yw4I"},{"type":"output","id":"2hC3r3i2ze7ER0aKKNPzL","data":[{"name":"stdout","output_type":"stream","text":"Model initialized with 100 papers\n"}],"key":"jzUqOAalti"}],"key":"jlRi0zVgkP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 3: Simulation & Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RP26T4hX7X"}],"identifier":"part-3-simulation-analysis","label":"Part 3: Simulation & Analysis","html_id":"part-3-simulation-analysis","implicit":true,"key":"dhZNpWcf5E"}],"key":"ozXobdN6Bq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run Simulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aqF4NWKiW6"}],"identifier":"run-simulation","label":"Run Simulation","html_id":"run-simulation","implicit":true,"key":"masloP47Z1"}],"key":"WsK3cLLgH2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Data to collect\nadata = [:citations, :reads, :age, :quality, :field]\n\n# Run simulation\nn_steps = 365  # Simulate one year\nadf, _ = run!(model, n_steps; adata)\n\nprintln(\"Simulation complete. Final model has $(nagents(model)) papers\")","key":"aFn4XVtcF9"},{"type":"output","id":"mm_pvf2qtG8ry0bQMo6Mb","data":[{"name":"stdout","output_type":"stream","text":"Simulation complete. Final model has 3750 papers\n"}],"key":"HSxWYLISSA"}],"key":"uY5cN4bffK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analyze Citation Dynamics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gh6mwGNPWt"}],"identifier":"analyze-citation-dynamics","label":"Analyze Citation Dynamics","html_id":"analyze-citation-dynamics","implicit":true,"key":"fUbyFnx7m5"}],"key":"kb2lZyxzqr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Get final state\nfinal_data = filter(row -> row.time == n_steps, adf)\n\n# Citation distribution\nfig = Figure(resolution=(800, 300))\n\n# Histogram of citations\nax1 = Axis(fig[1, 1], xlabel=\"Citations\", ylabel=\"Count\", title=\"Final Citation Distribution\")\nhist!(ax1, final_data.citations, bins=20)\n\n# Quality vs Citations scatter\nax2 = Axis(fig[1, 2], xlabel=\"Quality\", ylabel=\"Citations\", title=\"Quality vs Citations\")\nscatter!(ax2, final_data.quality, final_data.citations, markersize=5, alpha=0.5)\n\nfig","key":"IEwWloC4qT"},{"type":"output","id":"VUHzENC89LKhJhW3KD_aN","data":[{"name":"stderr","output_type":"stream","text":"┌ Warning: Found `resolution` in the theme when creating a `Scene`. The `resolution` keyword for `Scene`s and `Figure`s has been deprecated. Use `Figure(; size = ...` or `Scene(; size = ...)` instead, which better reflects that this is a unitless size and not a pixel resolution. The key could also come from `set_theme!` calls or related theming functions.\n└ @ Makie /Users/sglyon/.julia/packages/Makie/FUAHr/src/scenes.jl:238\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"46919610a9117ae1652987447cb746e2","path":"/build/46919610a9117ae1652987447cb746e2.png"},"text/html":{"content_type":"text/html","hash":"6c283e3b0fad94e27afc69a7f7b26618","path":"/build/6c283e3b0fad94e27afc69a7f7b26618.html"}}}],"key":"FTm7RRNz9k"}],"key":"ICwkqMvw9P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Track citation growth over time\nfunction analyze_citation_patterns(adf)\n    # Group by paper ID first, then process each group\n    velocities = Dict{Int, Vector{Float64}}()\n\n    # Use groupby to efficiently iterate through papers\n    for group in groupby(adf, :id)\n        paper_id = first(group.id)\n\n        # Sort by time and get citations\n        sorted_times = sort(group, :time)\n        citations_over_time = sorted_times.citations\n\n        if length(citations_over_time) > 1\n            velocity = diff(citations_over_time)\n            velocities[paper_id] = velocity\n        end\n    end\n\n    return velocities\nend\n\nvelocities = analyze_citation_patterns(adf)\n\n# Find viral papers (high early velocity)\nviral_papers = []\nsleeping_beauties = []\n\nfor (paper_id, vel) in velocities\n    if length(vel) >= 10\n        early_velocity = mean(vel[1:min(10, length(vel))])\n        late_velocity = mean(vel[max(1, end-10):end])\n\n        if early_velocity > 0.5  # Threshold for \"viral\"\n            push!(viral_papers, paper_id)\n        elseif early_velocity < 0.1 && late_velocity > 0.3  # Sleeping beauty pattern\n            push!(sleeping_beauties, paper_id)\n        end\n    end\nend\n\nprintln(\"Found $(length(viral_papers)) viral papers\")\nprintln(\"Found $(length(sleeping_beauties)) sleeping beauties\")","key":"uxTYQLzNNw"},{"type":"output","id":"FiyQnXRyyn3xkwiaJnXkJ","data":[{"name":"stdout","output_type":"stream","text":"Found 24 viral papers\nFound 3 sleeping beauties\n"}],"key":"AgwFTh3i9a"}],"key":"OX9QEViInz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Citation Trajectories","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sIYP2K1oGg"}],"identifier":"visualize-citation-trajectories","label":"Visualize Citation Trajectories","html_id":"visualize-citation-trajectories","implicit":true,"key":"GRHEEh4AUJ"}],"key":"wCRNiyV6mA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Plot citation trajectories for different paper types\nfig = Figure(resolution=(800, 400))\nax = Axis(fig[1, 1], xlabel=\"Time\", ylabel=\"Cumulative Citations\",\n          title=\"Citation Trajectories\")\n\n# Plot a sample of papers\nsample_papers = vcat(\n    length(viral_papers) > 0 ? viral_papers[1:min(3, length(viral_papers))] : [],\n    length(sleeping_beauties) > 0 ? sleeping_beauties[1:min(3, length(sleeping_beauties))] : [],\n    rand(setdiff(unique(adf.id), vcat(viral_papers, sleeping_beauties)), min(3, nagents(model)))\n)\n\ncolors = [:red, :red, :red, :blue, :blue, :blue, :gray, :gray, :gray]\nlabels = [\"Viral\", \"\", \"\", \"Sleeping Beauty\", \"\", \"\", \"Normal\", \"\", \"\"]\n\nfor (i, paper_id) in enumerate(sample_papers)\n    paper_data = filter(row -> row.id == paper_id, adf)\n    sort!(paper_data, :time)\n\n    if nrow(paper_data) > 0\n        lines!(ax, paper_data.time, paper_data.citations,\n               color=colors[min(i, length(colors))],\n               label=labels[min(i, length(labels))],\n               linewidth=2)\n    end\nend\n\naxislegend(ax, unique=true, position=:lt)\nfig","key":"tU7tPPNWOx"},{"type":"output","id":"E7OhdrMVWLQyxpGxfPruR","data":[{"name":"stderr","output_type":"stream","text":"┌ Warning: Found `resolution` in the theme when creating a `Scene`. The `resolution` keyword for `Scene`s and `Figure`s has been deprecated. Use `Figure(; size = ...` or `Scene(; size = ...)` instead, which better reflects that this is a unitless size and not a pixel resolution. The key could also come from `set_theme!` calls or related theming functions.\n└ @ Makie /Users/sglyon/.julia/packages/Makie/FUAHr/src/scenes.jl:238\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7417e96b82afba0b08dcd40297495bbe","path":"/build/7417e96b82afba0b08dcd40297495bbe.png"},"text/html":{"content_type":"text/html","hash":"6322724669c908aafb58ace2e4b47814","path":"/build/6322724669c908aafb58ace2e4b47814.html"}}}],"key":"boZqhVTwP3"}],"key":"P1jSBoWocj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 4: Parameter Calibration from Real Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xY6hZaY62p"}],"identifier":"part-4-parameter-calibration-from-real-data","label":"Part 4: Parameter Calibration from Real Data","html_id":"part-4-parameter-calibration-from-real-data","implicit":true,"key":"cgNJaCkIba"}],"key":"lrzbrb0sI7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Calibrate model parameters from real citation data\nfunction calibrate_model(citations_df, papers_df)\n    # Calculate empirical citation rate\n    citation_counts = combine(groupby(citations_df, :cited_paper), nrow => :n_citations)\n    mean_citations = mean(citation_counts.n_citations)\n\n    # Calculate field popularity from data\n    field_papers = combine(groupby(papers_df, :category), nrow => :count)\n    total_papers = sum(field_papers.count)\n    field_popularity = Dict(row.category => row.count / total_papers\n                          for row in eachrow(field_papers))\n\n    # Calculate author prestige distribution\n    author_prestiges = Float64[]\n    for paper in eachrow(papers_df)\n        if paper.lead_author_id <= nrow(authors_df)\n            push!(author_prestiges, authors_df[paper.lead_author_id, :h_index] / 50.0)\n        end\n    end\n    mean_prestige = mean(author_prestiges)\n\n    println(\"Calibration Results:\")\n    println(\"  Mean citations per paper: $(round(mean_citations, digits=2))\")\n    println(\"  Mean author prestige: $(round(mean_prestige, digits=3))\")\n    println(\"  Field distribution:\")\n    for (field, pop) in field_popularity\n        println(\"    $field: $(round(pop * 100, digits=1))%\")\n    end\n\n    return Dict(\n        \"mean_citations\" => mean_citations,\n        \"field_trends\" => field_popularity,\n        \"mean_prestige\" => mean_prestige\n    )\nend\n\ncalibration = calibrate_model(citations_df, papers_df)","key":"S931bDzApr"},{"type":"output","id":"n6CWquK9NzJdu8ncjAUOQ","data":[{"name":"stdout","output_type":"stream","text":"Calibration Results:\n  Mean citations per paper: 10.95\n  Mean author prestige: 0.514\n  Field distribution:\n    physics: 19.5%\n    math: 20.1%\n    cs.LG: 19.9%\n    cs.AI: 21.0%\n    stat.ML: 19.5%\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"Dict{String, Any} with 3 entries:\n  \"mean_citations\" => 10.9506\n  \"mean_prestige\"  => 0.51396\n  \"field_trends\"   => Dict(\"physics\"=>0.195, \"math\"=>0.201, \"cs.LG\"=>0.199, \"cs…","content_type":"text/plain"}}}],"key":"jHPwRvtnwj"}],"key":"CccZlFvaWD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zKCDTBY3VV"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"key":"O2GIzuH1k6"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Network Effects","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LXsTx5YnIx"}],"key":"CSKjdzEQ8e"},{"type":"text","value":": Modify the model to include co-authorship networks. Papers by frequently collaborating authors should have higher visibility.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BheU1aQWAa"}],"key":"rpZ5Uxig2z"}],"key":"c8VXW1YAaG"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Conference Boost","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"k0rkEAP7jH"}],"key":"yTkbXrw5Za"},{"type":"text","value":": Add “conference” events where papers in certain fields get temporary visibility boosts.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gFBlL4ATjl"}],"key":"DHXONUPMh1"}],"key":"FOnekWdhaS"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Real Data","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"b9OInaNd4g"}],"key":"Xh4Gn8VAdt"},{"type":"text","value":": Download the full ArXiv dataset from Kaggle and run the model with real papers. Compare simulated citation patterns to actual ones.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"w9DUacDC8n"}],"key":"IfXnc7Wfwm"}],"key":"LU3z0Vfmrg"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Intervention Analysis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eXtoD66Awu"}],"key":"FkRmwfr7bN"},{"type":"text","value":": What happens if we:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"alNNe0s2i2"}],"key":"Mqpi416mVr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Increase open access (higher base read probability)?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"dsDKCHq5QN"}],"key":"CxDlTG1Bhi"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Add social media promotion (viral boost for some papers)?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"mCVtul07eC"}],"key":"RwB5kfbkE0"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Implement better recommendation systems (quality-based selection)?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"rQUh2gGxGk"}],"key":"Srkzxp2IiH"}],"key":"jKzIRcAtS5"}],"key":"uVJnemHUn3"}],"key":"BPXPpth9FI"}],"key":"G5IDg0uWxN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FybBiPhLfj"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"ZRwhmj306p"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Built an ABM of academic paper citations using real data structure","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iXSiP3vqeW"}],"key":"tlzogQvE9i"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Observed emergence of power law citation distributions","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"v8IwayUswR"}],"key":"Vym83WJ9Ag"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Identified viral papers and sleeping beauties","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zYBOHtlWFt"}],"key":"lnSnCtHcvG"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Model can help understand:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"dl5ptYyXlf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"How quality vs. marketing affects impact","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wyRLjIia9z"}],"key":"BQEuYZ5fM2"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Role of author prestige and networks","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"LNVZgYzCOj"}],"key":"Pjw0SkUnTz"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Effects of field trends on citation patterns","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"OmxrY39X2a"}],"key":"NFMJvBYFbI"}],"key":"VBgqGJWzz4"}],"key":"gPNiT8DDE5"}],"key":"NgG5InyGUh"}],"key":"X8UUQHZWAt"}],"key":"jP9MUQowzH"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Agent Based Models Review/Practice","url":"/l07-01-abm-money","group":"ABM 2"},"next":{"title":"Game Theory 1","url":"/l08-01-game-theory-intro","group":"Game Theory 1"}}},"domain":"http://localhost:3000"}