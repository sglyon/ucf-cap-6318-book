{"version":2,"kind":"Notebook","sha256":"3d9bfd4f16a69378a3ccd2c0d97809a676c85c9c55a6e20575e9eb1079fad251","slug":"l07-02-abm-paper-virality","location":"/week07/L07.02_abm_paper_virality.ipynb","dependencies":[],"frontmatter":{"title":"Academic Paper Virality: An Agent-Based Model","content_includes_title":false,"kernelspec":{"name":"julia-1.11","display_name":"Julia 1.11.6","language":"julia"},"authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"L07.02_abm_paper_virality.ipynb","url":"/build/L07.02_abm_paper_vir-eaeccfa884cf7d0cce67f577320e934e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Computational Analysis of Social Complexity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zxsHwUI71s"}],"key":"GXdz5Dsl6B"}],"key":"CLiiukasKx"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"I3ykyNmiwK"}],"key":"xetTQuSo6E"}],"key":"icDnsbR8re"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ABM concepts","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"k2sGzGusoT"}],"key":"tPhB3wnjwD"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Basic network analysis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rikmOGoZVW"}],"key":"BLFh3wGfzj"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Data manipulation with DataFrames","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"huQHLKFjaZ"}],"key":"uE442VEzEu"}],"key":"yJdQStrTVT"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Outcomes","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"R3CFGf9NMX"}],"key":"pg5aj7JdSh"}],"key":"q6I6wKlHmR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Build an ABM using real-world data","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bKnzNKIvos"}],"key":"BUtYrh0zlj"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Model citation dynamics in academic networks","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"UgV1GiqC0l"}],"key":"YuVkfk8YFJ"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Analyze emergence of “viral” papers and sleeping beauties","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BlJqK1pefX"}],"key":"RED9mv1NFQ"}],"key":"hp42HC9ghS"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Wompr2E70v"}],"key":"Iqu5wC8T3Z"}],"key":"ZKGtJ8clgh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"ArXiv Dataset: ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"wq8p50kn7K"},{"type":"link","url":"https://www.kaggle.com/datasets/Cornell-University/arxiv","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"https://​www​.kaggle​.com​/datasets​/Cornell​-University​/arxiv","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"VcZDNRB9jX"}],"urlSource":"https://www.kaggle.com/datasets/Cornell-University/arxiv","key":"H2sDMjbSdJ"}],"key":"PZzLLWvbsy"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Citation Network Tools: ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"YSWCx4xec1"},{"type":"link","url":"https://github.com/mattbierbaum/arxiv-public-datasets","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/mattbierbaum​/arxiv​-public​-datasets","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"pY0dtCLAs0"}],"urlSource":"https://github.com/mattbierbaum/arxiv-public-datasets","error":true,"key":"IuyODb1Vhl"}],"key":"yqCrcjbTWM"}],"key":"vQwKxuSVMV"}],"key":"BdjfAowLWK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kMoATkSeUx"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"betJGAuZfx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Academic papers spread through citation networks","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JIrISt0KnS"}],"key":"uDpTAr2Nds"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Some papers go “viral” quickly, others are “sleeping beauties” that gain citations years later","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nLLAcfm3mu"}],"key":"arLMSsZSZ5"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"We’ll model how papers gain citations based on:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"O7vHa590Jy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Author prestige","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"m1O9t1Iyc8"}],"key":"loXkqjuKMm"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Topic trends","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zc0tl9ZNZy"}],"key":"Uam1BqeZGT"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Network position","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UhBFDjCM8m"}],"key":"kiFoEp6Ecg"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Quality/novelty","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"epKyTZixYM"}],"key":"Dh3JnH6mmd"}],"key":"Nl9jURZPhT"}],"key":"flE2DMbxCJ"}],"key":"A4euGgEk1v"}],"key":"jPsaUKlk0w"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 1: Data Collection & Exploration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vrLcHZtmKy"}],"identifier":"part-1-data-collection-exploration","label":"Part 1: Data Collection & Exploration","html_id":"part-1-data-collection-exploration","implicit":true,"key":"sdOBrjnWJU"}],"key":"pWMmkdkDHO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup and Dependencies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L930GoZBQC"}],"identifier":"setup-and-dependencies","label":"Setup and Dependencies","html_id":"setup-and-dependencies","implicit":true,"key":"HYZEHn21SS"}],"key":"hmGdoRQbmZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using Pkg\nPkg.add([\"JSON3\", \"Downloads\", \"CSV\", \"DataFrames\", \"Graphs\", \"Agents\", \"Random\", \"Statistics\", \"CairoMakie\", \"ProgressMeter\", \"StatsBase\"])","key":"JmU0DeW07s"},{"type":"output","id":"zgc-pVsM1RsEG5e1F5Xd1","data":[{"name":"stderr","output_type":"stream","text":"\u001b[32m\u001b[1m   Resolving\u001b[22m\u001b[39m package versions...\n\u001b[32m\u001b[1m  No Changes\u001b[22m\u001b[39m to `~/Teaching/UCF/CAP-6318/book-myst/week07/Project.toml`\n\u001b[32m\u001b[1m  No Changes\u001b[22m\u001b[39m to `~/Teaching/UCF/CAP-6318/book-myst/week07/Manifest.toml`\n\u001b[92m\u001b[1mPrecompiling\u001b[22m\u001b[39m project...\n    780.9 ms\u001b[32m  ✓ \u001b[39m\u001b[90mQOI\u001b[39m\n    967.1 ms\u001b[32m  ✓ \u001b[39m\u001b[90mImageAxes\u001b[39m\n    975.7 ms\u001b[32m  ✓ \u001b[39m\u001b[90mOpenEXR\u001b[39m\n   1276.3 ms\u001b[32m  ✓ \u001b[39m\u001b[90mWebP\u001b[39m\n   1496.0 ms\u001b[32m  ✓ \u001b[39m\u001b[90mSixel\u001b[39m\n   1628.4 ms\u001b[32m  ✓ \u001b[39m\u001b[90mJpegTurbo\u001b[39m\n    946.9 ms\u001b[32m  ✓ \u001b[39m\u001b[90mImageMetadata\u001b[39m\n   1185.6 ms\u001b[32m  ✓ \u001b[39m\u001b[90mNetpbm\u001b[39m\n   9745.8 ms\u001b[32m  ✓ \u001b[39m\u001b[90mTiffImages\u001b[39m\n  9 dependencies successfully precompiled in 11 seconds. 325 already precompiled.\n"}],"key":"DQZxUSQ4GG"}],"key":"xHFgT3Otdh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"using JSON3\nusing Downloads\nusing CSV\nusing DataFrames\nusing Graphs\nusing Agents\nusing Random\nusing Statistics\nusing CairoMakie\nusing Dates\nusing StatsBase","key":"DjAMSzgzlF"},{"type":"output","id":"o2ZtnT59GjuO2Xt3skQp-","data":[],"key":"pJb7EmtZ3m"}],"key":"LclOp0XT4q"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download Sample ArXiv Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UBJTsUINMO"}],"identifier":"download-sample-arxiv-data","label":"Download Sample ArXiv Data","html_id":"download-sample-arxiv-data","implicit":true,"key":"xLFqdRDeJu"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For this example, we’ll work with a subset of ArXiv papers. In practice, you would download the full dataset from Kaggle.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WvxrvVKVmT"}],"key":"lNxZp6vZvT"}],"key":"ysY9f99EWn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# For demonstration, we'll create synthetic data that mimics ArXiv structure\n# In practice, download from: https://www.kaggle.com/datasets/Cornell-University/arxiv\n\nfunction create_sample_arxiv_data(n_papers=1000, n_authors=300)\n    Random.seed!(42)\n\n    # Create authors with varying prestige\n    authors = DataFrame(\n        author_id = 1:n_authors,\n        name = [\"Author_$i\" for i in 1:n_authors],\n        h_index = rand(1:50, n_authors),\n        institution_rank = rand(1:100, n_authors)\n    )\n\n    # Create papers\n    papers = DataFrame()\n    papers.paper_id = 1:n_papers\n    papers.title = [\"Paper_$i\" for i in 1:n_papers]\n    papers.year = rand(2010:2023, n_papers)\n    papers.month = rand(1:12, n_papers)\n    papers.category = rand([\"cs.AI\", \"cs.LG\", \"stat.ML\", \"physics\", \"math\"], n_papers)\n    papers.abstract_length = rand(100:500, n_papers)\n    papers.n_authors = rand(1:5, n_papers)\n    papers.lead_author_id = rand(1:n_authors, n_papers)\n    papers.quality_score = rand(n_papers)  # Hidden variable representing paper quality\n\n    # Create citation network (papers cite older papers)\n    citations = DataFrame(citing_paper=Int[], cited_paper=Int[], citation_year=Int[])\n\n    for i in 1:n_papers\n        paper_year = papers.year[i]\n        # Papers can only cite older papers\n        older_papers = findall(papers.year .< paper_year)\n        if length(older_papers) > 0\n            n_citations = min(rand(0:20), length(older_papers))\n            if n_citations > 0\n                cited = sample(older_papers, n_citations, replace=false)\n                for c in cited\n                    push!(citations, (i, c, paper_year + rand(0:2)))\n                end\n            end\n        end\n    end\n\n    return papers, authors, citations\nend\n\npapers_df, authors_df, citations_df = create_sample_arxiv_data()\nprintln(\"Generated $(nrow(papers_df)) papers, $(nrow(authors_df)) authors, $(nrow(citations_df)) citations\")","key":"JkhBKBIPXh"},{"type":"output","id":"s5pHDjHYz5sSaVEdeHqdd","data":[{"name":"stdout","output_type":"stream","text":"Generated 1000 papers, 300 authors, 9527 citations\n"}],"key":"hytvvMgbnQ"}],"key":"m0iLK00wUr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Explore the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XZbchih59E"}],"identifier":"explore-the-data","label":"Explore the Data","html_id":"explore-the-data","implicit":true,"key":"Ejb8MU3IET"}],"key":"s85tjuG1PW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Show sample of papers\nfirst(papers_df, 5)","key":"XNLKlwpXdO"},{"type":"output","id":"n4TpTtewl2HsyEaqjxSFf","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<div><div style = \"float: left;\"><span>5×9 DataFrame</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"columnLabelRow\"><th class = \"stubheadLabel\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">paper_id</th><th style = \"text-align: left;\">title</th><th style = \"text-align: left;\">year</th><th style = \"text-align: left;\">month</th><th style = \"text-align: left;\">category</th><th style = \"text-align: left;\">abstract_length</th><th style = \"text-align: left;\">n_authors</th><th style = \"text-align: left;\">lead_author_id</th><th style = \"text-align: left;\">quality_score</th></tr><tr class = \"columnLabelRow\"><th class = \"stubheadLabel\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"String\" style = \"text-align: left;\">String</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"String\" style = \"text-align: left;\">String</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Int64\" style = \"text-align: left;\">Int64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th></tr></thead><tbody><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: right;\">1</td><td style = \"text-align: left;\">Paper_1</td><td style = \"text-align: right;\">2022</td><td style = \"text-align: right;\">11</td><td style = \"text-align: left;\">physics</td><td style = \"text-align: right;\">152</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">27</td><td style = \"text-align: right;\">0.158341</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: right;\">2</td><td style = \"text-align: left;\">Paper_2</td><td style = \"text-align: right;\">2019</td><td style = \"text-align: right;\">4</td><td style = \"text-align: left;\">cs.LG</td><td style = \"text-align: right;\">133</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">260</td><td style = \"text-align: right;\">0.843125</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: right;\">3</td><td style = \"text-align: left;\">Paper_3</td><td style = \"text-align: right;\">2014</td><td style = \"text-align: right;\">5</td><td style = \"text-align: left;\">cs.AI</td><td style = \"text-align: right;\">136</td><td style = \"text-align: right;\">1</td><td style = \"text-align: right;\">269</td><td style = \"text-align: right;\">0.68607</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: right;\">4</td><td style = \"text-align: left;\">Paper_4</td><td style = \"text-align: right;\">2012</td><td style = \"text-align: right;\">3</td><td style = \"text-align: left;\">math</td><td style = \"text-align: right;\">302</td><td style = \"text-align: right;\">3</td><td style = \"text-align: right;\">15</td><td style = \"text-align: right;\">0.830427</td></tr><tr class = \"dataRow\"><td class = \"rowLabel\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: right;\">5</td><td style = \"text-align: left;\">Paper_5</td><td style = \"text-align: right;\">2018</td><td style = \"text-align: right;\">2</td><td style = \"text-align: left;\">cs.AI</td><td style = \"text-align: right;\">483</td><td style = \"text-align: right;\">2</td><td style = \"text-align: right;\">205</td><td style = \"text-align: right;\">0.551647</td></tr></tbody></table></div>","content_type":"text/html"},"text/latex":{"content":"\\begin{tabular}{r|ccccccccc}\n\t& paper\\_id & title & year & month & category & abstract\\_length & n\\_authors & lead\\_author\\_id & \\\\\n\t\\hline\n\t& Int64 & String & Int64 & Int64 & String & Int64 & Int64 & Int64 & \\\\\n\t\\hline\n\t1 & 1 & Paper\\_1 & 2022 & 11 & physics & 152 & 2 & 27 & $\\dots$ \\\\\n\t2 & 2 & Paper\\_2 & 2019 & 4 & cs.LG & 133 & 3 & 260 & $\\dots$ \\\\\n\t3 & 3 & Paper\\_3 & 2014 & 5 & cs.AI & 136 & 1 & 269 & $\\dots$ \\\\\n\t4 & 4 & Paper\\_4 & 2012 & 3 & math & 302 & 3 & 15 & $\\dots$ \\\\\n\t5 & 5 & Paper\\_5 & 2018 & 2 & cs.AI & 483 & 2 & 205 & $\\dots$ \\\\\n\\end{tabular}\n","content_type":"text/latex"},"text/plain":{"content":"\u001b[1m5×9 DataFrame\u001b[0m\n\u001b[1m Row \u001b[0m│\u001b[1m paper_id \u001b[0m\u001b[1m title   \u001b[0m\u001b[1m year  \u001b[0m\u001b[1m month \u001b[0m\u001b[1m category \u001b[0m\u001b[1m abstract_length \u001b[0m\u001b[1m n_authors \u001b[0m\u001b[1m \u001b[0m ⋯\n\u001b[1m     \u001b[0m│\u001b[90m Int64    \u001b[0m\u001b[90m String  \u001b[0m\u001b[90m Int64 \u001b[0m\u001b[90m Int64 \u001b[0m\u001b[90m String   \u001b[0m\u001b[90m Int64           \u001b[0m\u001b[90m Int64     \u001b[0m\u001b[90m \u001b[0m ⋯\n─────┼──────────────────────────────────────────────────────────────────────────\n   1 │        1  Paper_1   2022     11  physics               152          2   ⋯\n   2 │        2  Paper_2   2019      4  cs.LG                 133          3\n   3 │        3  Paper_3   2014      5  cs.AI                 136          1\n   4 │        4  Paper_4   2012      3  math                  302          3\n   5 │        5  Paper_5   2018      2  cs.AI                 483          2   ⋯\n\u001b[36m                                                               2 columns omitted\u001b[0m","content_type":"text/plain"}}}],"key":"KO6uScCwfK"}],"key":"CnsYNkrof4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Citation statistics\ncitation_counts = combine(groupby(citations_df, :cited_paper), nrow => :n_citations)\ndescribe(citation_counts.n_citations)","key":"GjInhwJNRo"},{"type":"output","id":"AEStdR9H3YOs8UbS3jiER","data":[{"name":"stdout","output_type":"stream","text":"Summary Stats:\nLength:         870\nMissing Count:  0\nMean:           10.950575\nStd. Deviation: 9.427262\nMinimum:        1.000000\n1st Quartile:   3.250000\nMedian:         8.000000\n3rd Quartile:   15.000000\nMaximum:        47.000000\nType:           Int64\n"}],"key":"IwOb58BrKb"}],"key":"edH2rnutvZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Visualize citation distribution (classic power law)\nfig = Figure()\nax = Axis(fig[1, 1], xlabel=\"Number of Citations\", ylabel=\"Count\", title=\"Citation Distribution\")\nhist!(ax, citation_counts.n_citations, bins=20)\nfig","key":"CT8cL6WXEw"},{"type":"output","id":"-nBQpdhYRKxSJIq2Jk84o","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ee79a4f698aa23b3922898cac2706362","path":"/build/ee79a4f698aa23b3922898cac2706362.png"},"text/html":{"content_type":"text/html","hash":"649c7f900392a6b94ae9815b2449d00f","path":"/build/649c7f900392a6b94ae9815b2449d00f.html"}}}],"key":"RROYbAKRuY"}],"key":"sYSrh2gfkY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analyze Network Structure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RLQI3YMuGS"}],"identifier":"analyze-network-structure","label":"Analyze Network Structure","html_id":"analyze-network-structure","implicit":true,"key":"BA9Je7Tx8F"}],"key":"wPlPd9SpbR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Build citation graph\nfunction build_citation_graph(papers_df, citations_df)\n    n_papers = nrow(papers_df)\n    g = SimpleDiGraph(n_papers)\n\n    for row in eachrow(citations_df)\n        add_edge!(g, row.citing_paper, row.cited_paper)\n    end\n\n    return g\nend\n\ncitation_graph = build_citation_graph(papers_df, citations_df)\nprintln(\"Graph has $(nv(citation_graph)) nodes and $(ne(citation_graph)) edges\")\nprintln(\"Average degree: $(round(mean(degree(citation_graph)), digits=2))\")","key":"tMfpfLE17q"},{"type":"output","id":"t1QwyhSSYYiUJVALEZkEF","data":[{"name":"stdout","output_type":"stream","text":"Graph has 1000 nodes and 9527 edges\nAverage degree: 19.05\n"}],"key":"Vqsf6kz4sJ"}],"key":"jRHkf2hDsH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 2: Agent-Based Model Design","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sq0MnkfqBl"}],"identifier":"part-2-agent-based-model-design","label":"Part 2: Agent-Based Model Design","html_id":"part-2-agent-based-model-design","implicit":true,"key":"jLBsiBf9lw"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Model Components","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zOQfannW5n"}],"identifier":"model-components","label":"Model Components","html_id":"model-components","implicit":true,"key":"PwsUZUSqgW"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Agents","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YqBgTfTILi"}],"key":"eWDvaGmZUN"},{"type":"text","value":": Research papers","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"w9IZsmTbVz"}],"key":"uwr8gLhNIO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Properties: quality, author prestige, field, age, citation count","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"N8gVAjLmim"}],"key":"n6znlY3Crw"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Behavior: Papers get “read” by researchers who may cite them","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"q7MHt4iQeV"}],"key":"p36WenYlxg"}],"key":"gxoffHAFZu"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Environment","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wxalnMaRQk"}],"key":"ZLCbG6rNjK"},{"type":"text","value":": Academic field with trending topics","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"QXHiuuKVgn"}],"key":"wxbLiN3Huz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Topic hotness varies over time","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JUqRLpSYEq"}],"key":"E2gKcMEOxP"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Conferences/journals provide visibility boosts","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ta2MCVpoFi"}],"key":"LhL9fFrXoJ"}],"key":"aEl1lUSXpW"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Rules","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"GePgdGJ71W"}],"key":"nYDehBaqEf"},{"type":"text","value":":","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"qyUX9efuh6"}],"key":"oHbnR9xOso"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Each time step, new papers are “published”","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cTHKkZYOli"}],"key":"l7x62vE7O7"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Researchers “read” papers based on:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"zWLt5OPkF9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Recent publications (recency bias)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"JQjul0lTid"}],"key":"odu8WSE83i"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"High citation count (preferential attachment)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"dhUIms05CA"}],"key":"pbbQjMckw0"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Author prestige","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"uUko2xf0M2"}],"key":"f6DFyYRCi7"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Topic match with current trends","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"TOKGAClblB"}],"key":"RzvvUN4yU4"}],"key":"F4cKtVve9K"}],"key":"F79r0jKkVJ"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Read papers get cited with probability based on quality","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"PfuoRySpVK"}],"key":"JcOp4KM5hD"}],"key":"ekRwoHi7ko"}],"key":"YArLWB0PLM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Agent Structure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ktjwdiJ4ts"}],"identifier":"define-agent-structure","label":"Define Agent Structure","html_id":"define-agent-structure","implicit":true,"key":"gdBLVmDyhd"}],"key":"aMjBauZigL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"@agent struct Paper(NoSpaceAgent)\n    # Fixed properties\n    quality::Float64\n    author_prestige::Float64\n    field::String\n    publication_time::Int\n\n    # Dynamic properties\n    citations::Int\n    reads::Int  # Times the paper has been read\n    age::Int\nend","key":"eSCrdjoG1N"},{"type":"output","id":"J64EPZECRZeWpPqXDxN5d","data":[],"key":"QBNurJE2xi"}],"key":"iquVP3tLeL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Model Properties","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eGgpQCvFzf"}],"identifier":"define-model-properties","label":"Define Model Properties","html_id":"define-model-properties","implicit":true,"key":"qBXVwKdqCO"}],"key":"WKzytiHhU8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"mutable struct ModelProperties\n    current_time::Int\n    field_trends::Dict{String, Float64}  # How \"hot\" each field is\n    n_researchers::Int  # Number of researchers reading papers each time step\n    papers_per_researcher::Int  # Papers read per researcher per time step\n    citation_prob_base::Float64  # Base probability of citing a read paper\n    new_papers_per_step::Int  # New papers published each time step\nend","key":"nxxL60Bqfg"},{"type":"output","id":"O4MvExL9LoWMs4y7wrbid","data":[],"key":"sgVl5SMcpa"}],"key":"J6Xq3AilBq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Model Rules","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Rh3y8TDgh1"}],"identifier":"model-rules","label":"Model Rules","html_id":"model-rules","implicit":true,"key":"BtInrcDCKv"}],"key":"cBvIfmMk5T"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function model_step!(model)\n    props = model.properties\n    props.current_time += 1\n\n    # Update field trends (random walk)\n    for field in keys(props.field_trends)\n        props.field_trends[field] = clamp(props.field_trends[field] + randn() * 0.1, 0.1, 2.0)\n    end\n\n    # Age all papers\n    for paper in allagents(model)\n        paper.age += 1\n    end\n\n    # Researchers read and cite papers\n    all_papers = collect(allagents(model))\n    if length(all_papers) > 0\n        for _ in 1:props.n_researchers\n            # Select papers to read (biased selection)\n            papers_to_read = select_papers_to_read(all_papers, props.papers_per_researcher, props)\n\n            for paper in papers_to_read\n                paper.reads += 1\n\n                # Decide whether to cite (based on quality and other factors)\n                cite_prob = calculate_citation_probability(paper, props)\n                if rand() < cite_prob\n                    paper.citations += 1\n                end\n            end\n        end\n    end\n\n    # Publish new papers\n    for _ in 1:props.new_papers_per_step\n        field = sample(collect(keys(props.field_trends)))\n        add_agent!(\n            model,\n            rand(),  # quality\n            rand(),  # author_prestige\n            field,\n            props.current_time,\n            0,  # citations\n            0,  # reads\n            0   # age\n        )\n    end\nend\n\nfunction select_papers_to_read(papers, n, props)\n    if length(papers) <= n\n        return papers\n    end\n\n    # Calculate selection weights\n    weights = Float64[]\n    for paper in papers\n        # Recency bias\n        recency_weight = exp(-paper.age / 365.0)  # Decay over a year\n\n        # Preferential attachment (rich get richer)\n        citation_weight = log(2 + paper.citations)\n\n        # Field trendiness\n        trend_weight = get(props.field_trends, paper.field, 1.0)\n\n        # Author prestige\n        prestige_weight = paper.author_prestige\n\n        push!(weights, recency_weight * citation_weight * trend_weight * prestige_weight)\n    end\n\n    # Weighted sampling without replacement\n    selected_indices = sample(1:length(papers), Weights(weights), n, replace=false)\n    return papers[selected_indices]\nend\n\nfunction calculate_citation_probability(paper, props)\n    # Base probability modified by paper quality and field trend\n    base_prob = props.citation_prob_base\n    quality_modifier = paper.quality\n    trend_modifier = get(props.field_trends, paper.field, 1.0)\n\n    return clamp(base_prob * quality_modifier * trend_modifier, 0.0, 1.0)\nend","key":"BzR5gEfwjQ"},{"type":"output","id":"ZRbbS2RXrv5J3IeHeSAbi","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"calculate_citation_probability (generic function with 1 method)","content_type":"text/plain"}}}],"key":"CvPvDAFcsp"}],"key":"TleGRaBsXo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Initialize Model with Real Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ufa8MdzZTA"}],"identifier":"initialize-model-with-real-data","label":"Initialize Model with Real Data","html_id":"initialize-model-with-real-data","implicit":true,"key":"LrMhFWT9M9"}],"key":"hbrj1cLs3s"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"function initialize_model_from_data(papers_df, authors_df;\n                                   n_researchers=100,\n                                   papers_per_researcher=5)\n    # Create model properties\n    fields = unique(papers_df.category)\n    field_trends = Dict(f => 1.0 for f in fields)\n\n    props = ModelProperties(\n        0,  # current_time\n        field_trends,\n        n_researchers,\n        papers_per_researcher,\n        0.1,  # citation_prob_base\n        10   # new_papers_per_step\n    )\n\n    # Create model - properties need to be wrapped in Dict\n    model = ABM(Paper; properties=Dict(:properties => props), model_step!)\n\n    # Add initial papers from data\n    for row in eachrow(papers_df[1:min(100, nrow(papers_df)), :])  # Start with first 100 papers\n        author = authors_df[row.lead_author_id, :]\n        prestige = author.h_index / 50.0  # Normalize to [0, 1]\n\n        add_agent!(\n            model,\n            row.quality_score,\n            prestige,\n            row.category,\n            0,  # publication_time\n            0,  # citations\n            0,  # reads\n            0   # age\n        )\n    end\n\n    return model\nend\n\nmodel = initialize_model_from_data(papers_df, authors_df)\nprintln(\"Model initialized with $(nagents(model)) papers\")","key":"GILl1bYB1Y"},{"type":"output","id":"VToza-gNa6TXohFnyXuIc","data":[{"name":"stdout","output_type":"stream","text":"Model initialized with 100 papers\n"}],"key":"Nt0M8ievfl"}],"key":"nYEBwbSv4a"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 3: Simulation & Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jjP0c4bZfR"}],"identifier":"part-3-simulation-analysis","label":"Part 3: Simulation & Analysis","html_id":"part-3-simulation-analysis","implicit":true,"key":"POZLElB7CR"}],"key":"U1P1k1OsUd"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run Simulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L0GvMv5Gaw"}],"identifier":"run-simulation","label":"Run Simulation","html_id":"run-simulation","implicit":true,"key":"i8hanN9pkm"}],"key":"RQBZLYQLeW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Data to collect\nadata = [:citations, :reads, :age, :quality, :field]\n\n# Run simulation\nn_steps = 365  # Simulate one year\nadf, _ = run!(model, n_steps; adata)\n\nprintln(\"Simulation complete. Final model has $(nagents(model)) papers\")","key":"BjUe8DWx2a"},{"type":"output","id":"hiotD2Fr-_7otsH6mKJMu","data":[{"name":"stdout","output_type":"stream","text":"Simulation complete. Final model has 3750 papers\n"}],"key":"Juyoc7yYqV"}],"key":"DPGdiFips9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Analyze Citation Dynamics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uMGQGaEqDQ"}],"identifier":"analyze-citation-dynamics","label":"Analyze Citation Dynamics","html_id":"analyze-citation-dynamics","implicit":true,"key":"FlM4kd13AY"}],"key":"H0gcPh5k9E"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Get final state\nfinal_data = filter(row -> row.time == n_steps, adf)\n\n# Citation distribution\nfig = Figure(resolution=(800, 300))\n\n# Histogram of citations\nax1 = Axis(fig[1, 1], xlabel=\"Citations\", ylabel=\"Count\", title=\"Final Citation Distribution\")\nhist!(ax1, final_data.citations, bins=20)\n\n# Quality vs Citations scatter\nax2 = Axis(fig[1, 2], xlabel=\"Quality\", ylabel=\"Citations\", title=\"Quality vs Citations\")\nscatter!(ax2, final_data.quality, final_data.citations, markersize=5, alpha=0.5)\n\nfig","key":"IJ2vxSpe0u"},{"type":"output","id":"YR9a_DLvD-4Spd3oyTRqz","data":[{"name":"stderr","output_type":"stream","text":"┌ Warning: Found `resolution` in the theme when creating a `Scene`. The `resolution` keyword for `Scene`s and `Figure`s has been deprecated. Use `Figure(; size = ...` or `Scene(; size = ...)` instead, which better reflects that this is a unitless size and not a pixel resolution. The key could also come from `set_theme!` calls or related theming functions.\n└ @ Makie /Users/sglyon/.julia/packages/Makie/FUAHr/src/scenes.jl:238\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"46919610a9117ae1652987447cb746e2","path":"/build/46919610a9117ae1652987447cb746e2.png"},"text/html":{"content_type":"text/html","hash":"6c283e3b0fad94e27afc69a7f7b26618","path":"/build/6c283e3b0fad94e27afc69a7f7b26618.html"}}}],"key":"QaG3zYXlbe"}],"key":"V5LA0hT0LI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Track citation growth over time\nfunction analyze_citation_patterns(adf)\n    # Group by paper ID first, then process each group\n    velocities = Dict{Int, Vector{Float64}}()\n\n    # Use groupby to efficiently iterate through papers\n    for group in groupby(adf, :id)\n        paper_id = first(group.id)\n\n        # Sort by time and get citations\n        sorted_times = sort(group, :time)\n        citations_over_time = sorted_times.citations\n\n        if length(citations_over_time) > 1\n            velocity = diff(citations_over_time)\n            velocities[paper_id] = velocity\n        end\n    end\n\n    return velocities\nend\n\nvelocities = analyze_citation_patterns(adf)\n\n# Find viral papers (high early velocity)\nviral_papers = []\nsleeping_beauties = []\n\nfor (paper_id, vel) in velocities\n    if length(vel) >= 10\n        early_velocity = mean(vel[1:min(10, length(vel))])\n        late_velocity = mean(vel[max(1, end-10):end])\n\n        if early_velocity > 0.5  # Threshold for \"viral\"\n            push!(viral_papers, paper_id)\n        elseif early_velocity < 0.1 && late_velocity > 0.3  # Sleeping beauty pattern\n            push!(sleeping_beauties, paper_id)\n        end\n    end\nend\n\nprintln(\"Found $(length(viral_papers)) viral papers\")\nprintln(\"Found $(length(sleeping_beauties)) sleeping beauties\")","key":"ilF77klOB3"},{"type":"output","id":"sr2jOO1ycL4OrPuxM6P_m","data":[{"name":"stdout","output_type":"stream","text":"Found 24 viral papers\nFound 3 sleeping beauties\n"}],"key":"XChaNwiez5"}],"key":"uYXdteEnn0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Citation Trajectories","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J9EpPP1CLt"}],"identifier":"visualize-citation-trajectories","label":"Visualize Citation Trajectories","html_id":"visualize-citation-trajectories","implicit":true,"key":"jop69mwQCI"}],"key":"X1ShVfh69c"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Plot citation trajectories for different paper types\nfig = Figure(resolution=(800, 400))\nax = Axis(fig[1, 1], xlabel=\"Time\", ylabel=\"Cumulative Citations\",\n          title=\"Citation Trajectories\")\n\n# Plot a sample of papers\nsample_papers = vcat(\n    length(viral_papers) > 0 ? viral_papers[1:min(3, length(viral_papers))] : [],\n    length(sleeping_beauties) > 0 ? sleeping_beauties[1:min(3, length(sleeping_beauties))] : [],\n    rand(setdiff(unique(adf.id), vcat(viral_papers, sleeping_beauties)), min(3, nagents(model)))\n)\n\ncolors = [:red, :red, :red, :blue, :blue, :blue, :gray, :gray, :gray]\nlabels = [\"Viral\", \"\", \"\", \"Sleeping Beauty\", \"\", \"\", \"Normal\", \"\", \"\"]\n\nfor (i, paper_id) in enumerate(sample_papers)\n    paper_data = filter(row -> row.id == paper_id, adf)\n    sort!(paper_data, :time)\n\n    if nrow(paper_data) > 0\n        lines!(ax, paper_data.time, paper_data.citations,\n               color=colors[min(i, length(colors))],\n               label=labels[min(i, length(labels))],\n               linewidth=2)\n    end\nend\n\naxislegend(ax, unique=true, position=:lt)\nfig","key":"Zst00JxQ0Q"},{"type":"output","id":"uZGyjQuwWfHepmqQ2ZUt9","data":[{"name":"stderr","output_type":"stream","text":"┌ Warning: Found `resolution` in the theme when creating a `Scene`. The `resolution` keyword for `Scene`s and `Figure`s has been deprecated. Use `Figure(; size = ...` or `Scene(; size = ...)` instead, which better reflects that this is a unitless size and not a pixel resolution. The key could also come from `set_theme!` calls or related theming functions.\n└ @ Makie /Users/sglyon/.julia/packages/Makie/FUAHr/src/scenes.jl:238\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7417e96b82afba0b08dcd40297495bbe","path":"/build/7417e96b82afba0b08dcd40297495bbe.png"},"text/html":{"content_type":"text/html","hash":"6322724669c908aafb58ace2e4b47814","path":"/build/6322724669c908aafb58ace2e4b47814.html"}}}],"key":"qVO8W7NIBR"}],"key":"SiayQXrFum"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 4: Parameter Calibration from Real Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i76tdc1AZY"}],"identifier":"part-4-parameter-calibration-from-real-data","label":"Part 4: Parameter Calibration from Real Data","html_id":"part-4-parameter-calibration-from-real-data","implicit":true,"key":"ugu2BRtmXx"}],"key":"P8qSM0bFAI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"julia","executable":true,"value":"# Calibrate model parameters from real citation data\nfunction calibrate_model(citations_df, papers_df)\n    # Calculate empirical citation rate\n    citation_counts = combine(groupby(citations_df, :cited_paper), nrow => :n_citations)\n    mean_citations = mean(citation_counts.n_citations)\n\n    # Calculate field popularity from data\n    field_papers = combine(groupby(papers_df, :category), nrow => :count)\n    total_papers = sum(field_papers.count)\n    field_popularity = Dict(row.category => row.count / total_papers\n                          for row in eachrow(field_papers))\n\n    # Calculate author prestige distribution\n    author_prestiges = Float64[]\n    for paper in eachrow(papers_df)\n        if paper.lead_author_id <= nrow(authors_df)\n            push!(author_prestiges, authors_df[paper.lead_author_id, :h_index] / 50.0)\n        end\n    end\n    mean_prestige = mean(author_prestiges)\n\n    println(\"Calibration Results:\")\n    println(\"  Mean citations per paper: $(round(mean_citations, digits=2))\")\n    println(\"  Mean author prestige: $(round(mean_prestige, digits=3))\")\n    println(\"  Field distribution:\")\n    for (field, pop) in field_popularity\n        println(\"    $field: $(round(pop * 100, digits=1))%\")\n    end\n\n    return Dict(\n        \"mean_citations\" => mean_citations,\n        \"field_trends\" => field_popularity,\n        \"mean_prestige\" => mean_prestige\n    )\nend\n\ncalibration = calibrate_model(citations_df, papers_df)","key":"wRBLHDlO4S"},{"type":"output","id":"4iytpEEk4mgi_nB6BZw24","data":[{"name":"stdout","output_type":"stream","text":"Calibration Results:\n  Mean citations per paper: 10.95\n  Mean author prestige: 0.514\n  Field distribution:\n    physics: 19.5%\n    math: 20.1%\n    cs.LG: 19.9%\n    cs.AI: 21.0%\n    stat.ML: 19.5%\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"Dict{String, Any} with 3 entries:\n  \"mean_citations\" => 10.9506\n  \"mean_prestige\"  => 0.51396\n  \"field_trends\"   => Dict(\"physics\"=>0.195, \"math\"=>0.201, \"cs.LG\"=>0.199, \"cs…","content_type":"text/plain"}}}],"key":"nNglYljxUw"}],"key":"h3BcOutIWS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercises","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Org2PqisNV"}],"identifier":"exercises","label":"Exercises","html_id":"exercises","implicit":true,"key":"v4qmuMgZZw"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Network Effects","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Aack0fLndV"}],"key":"wyP84sqh0w"},{"type":"text","value":": Modify the model to include co-authorship networks. Papers by frequently collaborating authors should have higher visibility.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qjgzvx3ouv"}],"key":"LD1wsenYG1"}],"key":"RMFYv71HWA"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Conference Boost","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gU1lMxGg1t"}],"key":"GNshxe5eJw"},{"type":"text","value":": Add “conference” events where papers in certain fields get temporary visibility boosts.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e8Heg4W4fo"}],"key":"RmkDrjjLnT"}],"key":"w9DHobkxhm"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Real Data","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qV3Jre58wE"}],"key":"DQW9owOEra"},{"type":"text","value":": Download the full ArXiv dataset from Kaggle and run the model with real papers. Compare simulated citation patterns to actual ones.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"b8wABddKLx"}],"key":"cjDIXbjTC0"}],"key":"W7YwXaaaqH"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Intervention Analysis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tKEYdFnpLM"}],"key":"CMxLsHpxpl"},{"type":"text","value":": What happens if we:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"lw9P9CH31T"}],"key":"D1UykRVfrY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Increase open access (higher base read probability)?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"K0vrtvsKpU"}],"key":"WWV6YJ3oCK"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Add social media promotion (viral boost for some papers)?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QydrBpI1DE"}],"key":"vg46L9RcDF"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Implement better recommendation systems (quality-based selection)?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"KIYmyu7fPq"}],"key":"d9k17SnmqN"}],"key":"dGkVvV4FOZ"}],"key":"xtPi8dXkUm"}],"key":"d6qCvsOSv8"}],"key":"Nt5aN5V6Em"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XFcfGn4gD5"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"boPqzdLUwY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Built an ABM of academic paper citations using real data structure","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"J3AXWliYq1"}],"key":"A8g4QhWkX5"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Observed emergence of power law citation distributions","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ad5GUN8jW3"}],"key":"iaUhqTeMBF"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Identified viral papers and sleeping beauties","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"q9UX2LefOT"}],"key":"bvvgelNNJP"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Model can help understand:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KK1qhqlrfe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"How quality vs. marketing affects impact","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Dxn9tjeCli"}],"key":"jTcXwkRaxL"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Role of author prestige and networks","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"oA6zlI66hO"}],"key":"uxekphcPUD"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Effects of field trends on citation patterns","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"T3TFwjHYqD"}],"key":"LEAOlqTdaN"}],"key":"cZNRnepBCn"}],"key":"O44Wox26EQ"}],"key":"qUmdIsyQfF"}],"key":"LzqMAEbTxO"}],"key":"TH3wFypmTS"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Agent Based Models Review/Practice","url":"/l07-01-abm-money","group":"ABM 2"},"next":{"title":"Game Theory 1","url":"/l08-01-game-theory-intro","group":"Game Theory 1"}}},"domain":"http://localhost:3000"}