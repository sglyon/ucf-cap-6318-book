{"version":2,"kind":"Notebook","sha256":"3ace52b7046650561a79992f4b2856f6dbb0689f96c5fb211f3a5646b88827ac","slug":"l-a2-02-type-safe-agents-pydantic-patterns","location":"/weekA02/L.A2.02_type_safe_agents_pydantic_patterns.ipynb","dependencies":[],"frontmatter":{"title":"Type-Safe Agent Development with PydanticAI Patterns","content_includes_title":false,"kernelspec":{"name":"python3","display_name":".venv","language":"python"},"authors":[{"nameParsed":{"literal":"Spencer Lyon","given":"Spencer","family":"Lyon"},"name":"Spencer Lyon","orcid":"0009-0001-6461-885X","email":"spencer.lyon@ucf.edu","affiliations":["University of Central Florida","Valorum Data"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"affiliations":[{"id":"University of Central Florida","name":"University of Central Florida"},{"id":"Valorum Data","name":"Valorum Data"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"L.A2.02_type_safe_agents_pydantic_patterns.ipynb","url":"/build/L.A2.02_type_safe_ag-8dcbaf6ecc5433b26a6222d72c884db0.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Computational Analysis of Social Complexity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UuGai1qtyv"}],"key":"JOgE1bbIZJ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Fall 2025, Spencer Lyon","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UwGk5qpIrK"}],"key":"s0LUqV3z8H"}],"key":"GzoX8CYwsM"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"g1cBZ0B3JK"}],"key":"IRnDjqmZi9"}],"key":"gAbPi1qIB7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Function calling concepts (L.A2.01)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"c8lwOuoLxi"}],"key":"k5gzApYk50"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Python type hints and type safety","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ltNP4u7RTD"}],"key":"F8jdEW8URC"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Basic agent architectures","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HhlmyEdxRo"}],"key":"RLDHML47EI"}],"key":"lYaaP8yJwW"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Outcomes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"OmEUN25hCX"}],"key":"H41w8dexAx"}],"key":"D4bgxHfrFM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Understand type-safe agent development principles","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"g6vzX8VTG1"}],"key":"zXBUIf141d"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Implement validation-first agent architectures with Pydantic","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"K5UbLQiqNN"}],"key":"V1FcJJxyNd"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Apply dependency injection patterns for testable agents","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"VaQjeQdDCB"}],"key":"SnG0fM314C"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Build production-ready AI agents with PydanticAI","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"fF0gAKkDeK"}],"key":"q8It8YwEw5"}],"key":"d7yyKcNPsM"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Dt6ySDsmPB"}],"key":"JaTXIrW59B"}],"key":"YEl3z9T6r9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"PydanticAI Documentation","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"zS9MTRuNMx"}],"urlSource":"https://ai.pydantic.dev/","key":"DAaxCcOSBU"}],"key":"WgVy7a4So3"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"link","url":"https://docs.pydantic.dev/","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Pydantic Documentation","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"j5iMdggyFv"}],"urlSource":"https://docs.pydantic.dev/","key":"FERE0NkB0N"}],"key":"jqXciOgzCG"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"link","url":"https://docs.python.org/3/library/typing.html","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Python Type Hints","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"fiSYc1WvFM"}],"urlSource":"https://docs.python.org/3/library/typing.html","key":"tcmAkq1h6G"}],"key":"GOSdtvwQdM"}],"key":"e2RQYrE3m0"}],"key":"oDXjgm0gXV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why Type Safety Matters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gM4rEYOo8V"}],"identifier":"why-type-safety-matters","label":"Why Type Safety Matters","html_id":"why-type-safety-matters","implicit":true,"key":"Lww6U4TAYK"}],"key":"VkCNC1TqvM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Problem: Unvalidated Agent Systems","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I2kDkpTbKF"}],"identifier":"the-problem-unvalidated-agent-systems","label":"The Problem: Unvalidated Agent Systems","html_id":"the-problem-unvalidated-agent-systems","implicit":true,"key":"ME8NYHlrLc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Consider a simple agent that processes user queries and makes database updates","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Zj62Rxnt7K"}],"key":"fZYTJJfTpe"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"What could go wrong?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CDNbGFjSuQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Wrong data types passed to functions","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KUy8gpceJB"}],"key":"Gkp3ZcQbFj"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Invalid values that violate business logic","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Br5qWSZVSH"}],"key":"RRtnvao0pe"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Runtime errors deep in execution","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"EkAyfDNenu"}],"key":"jDpJNJjt6Y"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Silent failures that corrupt data","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"U396iEZplL"}],"key":"D2HaQPB4W7"}],"key":"uloxqEz2pn"}],"key":"SNeMcZH0Ov"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"These bugs are ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fW1H8WEenq"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"expensive","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZVMtR9VdJW"}],"key":"wUbyQbXmNm"},{"type":"text","value":" in production","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Kz6Ci3z8wH"}],"key":"slQnJ6cmVO"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Type safety catches entire classes of errors before they happen","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HiYYh04NIV"}],"key":"CfSaacZBpp"}],"key":"tt4h3FUoq9"}],"key":"VvEGECnKUF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A Concrete Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QBmRLzCPVF"}],"identifier":"a-concrete-example","label":"A Concrete Example","html_id":"a-concrete-example","implicit":true,"key":"DOPUW1QxPz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Suppose we’re building a research assistant agent that:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OLEJBeHtdN"}],"key":"gd46XQEKWL"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Takes a research question","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Eg3TzbNQIR"}],"key":"o5PmqWH0yz"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Searches academic databases","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AQnX9symIh"}],"key":"kQ1Jetp05o"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Returns structured citations","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Dk5lABbFVj"}],"key":"eaJSOrvs48"}],"key":"QeaAhF2cvO"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Without type safety:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KvnaWsTVbF"}],"key":"pS6blhUTuy"},{"type":"code","lang":"python","value":"# Python - no validation\ndef search_papers(query, max_results, min_year):\n    # What if query is None?\n    # What if max_results is negative?\n    # What if min_year is 99999?\n    ...","position":{"start":{"line":9,"column":1},"end":{"line":16,"column":1}},"key":"SsxVS9kSEf"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"With type safety:","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"YncNMUTpFf"}],"key":"a4lsBqNxmh"},{"type":"code","lang":"python","value":"# Python with Pydantic\nfrom pydantic import BaseModel, Field\n\nclass SearchRequest(BaseModel):\n    query: str = Field(min_length=1, max_length=500)\n    max_results: int = Field(ge=1, le=100)\n    min_year: int = Field(ge=1900, le=2025)\n\ndef search_papers(request: SearchRequest):\n    # Guaranteed valid inputs!\n    ...","position":{"start":{"line":19,"column":1},"end":{"line":31,"column":1}},"key":"QZhx3rYdxj"}],"key":"Ti8xlBHfXN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key Benefits","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Uih4174ghX"}],"identifier":"key-benefits","label":"Key Benefits","html_id":"key-benefits","implicit":true,"key":"H7l6KaQQQC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Fail Fast, Fail Loud","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OyPaIviuvT"}],"key":"VtTwKnTygb"}],"key":"z7Wtzv7Wso"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Invalid inputs rejected immediately","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HYr8JREzyA"}],"key":"x39PJFgCWp"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Clear error messages","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Cn6CHaIpce"}],"key":"d7UlHDbCnz"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"No silent corruption","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JwmWCueCKV"}],"key":"mptF5i7tRa"}],"key":"YmNeVLCp4s"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Self-Documenting Code","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tqW7J4YYT6"}],"key":"GnxjGqf76Y"}],"key":"WDGpmRa7Fp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Types tell you what’s expected","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fXtmtditWs"}],"key":"TkEJvW1Xd8"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"IDE autocomplete and hints","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"XONGzrcYpH"}],"key":"weqLaPCEQl"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Less need for comments","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"tsS9nViymG"}],"key":"ROm19gDYwH"}],"key":"UBls79gvJE"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Refactoring Confidence","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"p8pb7KFUFT"}],"key":"PxfmuGoyuS"}],"key":"d377YNRZqH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Change a type definition","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"HjdKE4Az1l"}],"key":"oDatvwsXK5"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Compiler/type checker finds all affected code","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"evPav7Uuh8"}],"key":"DKgxf3THdI"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Safe to modify large systems","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"qzoFpBneY7"}],"key":"xy7zzLMQh6"}],"key":"Ml9BKhfPKD"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Testing Made Easier","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"euE08gzyX7"}],"key":"JGOwUBUGg5"}],"key":"AHTE74X4mJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Don’t need to test invalid types","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"C5MJ2uRYWf"}],"key":"zImVBzoK4y"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Focus on business logic","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"aUp8sUlMVA"}],"key":"GsEi0DFgSu"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Reduce test surface area","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"bRs5jfMj3D"}],"key":"DY6GuOvfNO"}],"key":"x87bZNaOJz"}],"key":"F1GHHKrUBY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The PydanticAI Philosophy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t2lJXyMHbC"}],"identifier":"the-pydanticai-philosophy","label":"The PydanticAI Philosophy","html_id":"the-pydanticai-philosophy","implicit":true,"key":"B258RECjj9"}],"key":"ZBmpt0a1W8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is PydanticAI?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EeRzTIaRyc"}],"identifier":"what-is-pydanticai","label":"What is PydanticAI?","html_id":"what-is-pydanticai","implicit":true,"key":"urD47CWXa3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"PydanticAI is a Python framework for building production-ready AI agents","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"M8XNnjjU84"}],"key":"HPyxdOSDSf"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Created by the team behind Pydantic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fYFC9jgWDR"}],"key":"qEqDI4xYKK"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Pydantic powers the OpenAI SDK, Anthropic SDK, FastAPI, and countless other production systems","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KoTgyGATe7"}],"key":"O1JvJZ6cN2"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Philosophy: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GZT16pEU1Q"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"validation-first development","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yelSGRswqb"}],"key":"ibGUFsjHg1"}],"key":"Q8mK7i5jYB"}],"key":"qksXjVcPNa"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Why PydanticAI?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KCObuhVkjY"}],"key":"Tm49h7M9IJ"}],"key":"D1vMVusIp6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Type safety catches errors before runtime","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"REHGHjrAMS"}],"key":"q8TWWBOoJl"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Validation ensures data integrity","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"O2V9PMnb6n"}],"key":"wadKygJZUf"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Production-ready patterns from day one","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HcSUgUbkMA"}],"key":"G8Tb9srbaQ"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Seamless integration with Python’s type system","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"mrq93LDaTQ"}],"key":"Sz2Smqb43Y"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Used by major companies in production","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"eNRhxz2qmr"}],"key":"FBXopAdtiK"}],"key":"Wcp4qphXk2"}],"key":"LTCV0BsgGf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Chef’s Knife and Cutting Board","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FZBYoOYz91"}],"identifier":"chefs-knife-and-cutting-board","label":"Chef’s Knife and Cutting Board","html_id":"chefs-knife-and-cutting-board","implicit":true,"key":"cXjuRSHURk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"PydanticAI describes itself as providing a “chef’s knife and cutting board”","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SzQhT89xfl"}],"key":"q8vHBb2KGz"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"What does this mean?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JbXhMRIBZz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"NOT a framework","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YMFjVYI1UH"}],"key":"NN2xnSehFP"},{"type":"text","value":" with opinions about everything","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gDQOcIipds"}],"key":"IR1F01tErM"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"IS a toolkit","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"z8mICI59Zk"}],"key":"NN53UxzKVy"},{"type":"text","value":" with powerful, composable primitives","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wCtZml0ZEa"}],"key":"sCpZ9f3mRU"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Simple tools that do one thing well","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VhzqBt6o81"}],"key":"R3lSn4e15T"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Combine them however you want","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"L4gqCJZotK"}],"key":"izoMkaMke6"}],"key":"myaBB5rRxo"}],"key":"EV2VK3fdHy"}],"key":"VbDQKK6kon"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Contrast with LangChain","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"nbp3WuJAgt"}],"key":"jwTuuHla2W"},{"type":"text","value":":","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"qwEyLRqxsr"}],"key":"t4LprRAjkO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"LangChain: Full kitchen with every appliance","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"prERSjNgjE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Chains, memory, vector stores, callbacks, etc.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"qidRW7b5z0"}],"key":"Ln3jvPBa9t"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Complex abstractions","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Pz7aqfS0uo"}],"key":"hfpA3JPfKG"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Steep learning curve","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"vIL4Xd5Etd"}],"key":"j1Fzc17lc1"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Hard to customize","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"YgaPk5nNic"}],"key":"UcGyy8yfwM"}],"key":"JcdjdpRcBC"}],"key":"yUYzPzLJEL"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"PydanticAI: Essential tools","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"BCKiseKvj0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Agent, tools, structured outputs","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"OLsOwTfwPT"}],"key":"TZ2ZftKXmO"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Simple abstractions","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"PESICrdKrq"}],"key":"wwhqoQB1Au"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Easy to understand","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"tLOzBYDXvt"}],"key":"qHqU7vhly0"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Flexible customization","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"eflLdeVVNw"}],"key":"YkTmEjy5xZ"}],"key":"YsONu5q34j"}],"key":"WBxxXZa29I"}],"key":"Z4zWOZIfk7"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"strong","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"When to Use Which","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"HyiEw4xxcK"}],"key":"u33z6AIBbc"},{"type":"text","value":":","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"hxwaLHXqSP"}],"key":"iWXKI0ctZt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Use PydanticAI when: building production systems, need type safety, want simplicity","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"b7VYxmJ5hR"}],"key":"Xwp5J0ENSu"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Use LangChain when: rapid prototyping, need batteries-included features, okay with complexity","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"qQYgYJZDIi"}],"key":"h2UOw8Lv5l"}],"key":"YrBxh62Imk"}],"key":"Fzx2moGqTf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Core Principles","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NUZMXctNeJ"}],"identifier":"core-principles","label":"Core Principles","html_id":"core-principles","implicit":true,"key":"xPhoZjZP8V"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1. Type Safety First","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ckZKdnGUCx"}],"key":"IMPgGTirp9"}],"key":"HnuIFfFDmj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"All inputs validated before use","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"dyqQ5gEhli"}],"key":"WmWEu6OXcQ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"All outputs structured and validated","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MDpoQEVo9o"}],"key":"lgMFGy6lDr"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Catch errors at design time, not runtime","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IFHhxt4otx"}],"key":"m1tdCQfUms"}],"key":"U2uimeqlqb"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"2. Validation Before Computation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ssrxfRSC68"}],"key":"b8sPwuKeWC"}],"key":"NGop3YJrWg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Never process invalid data","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"n6UEu4aGvs"}],"key":"cQqQ7L3t0H"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Fail immediately with clear messages","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"XMYQ3S6amu"}],"key":"KNWLo6jHhP"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Make invalid states unrepresentable","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"E39dhsj33N"}],"key":"MSB813CVUj"}],"key":"uEiOZhqBoS"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"3. Dependency Injection","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"w5ChvekB9a"}],"key":"iWWjmyKtSi"}],"key":"yJx4TSoVzp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Agents don’t create their dependencies","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"iSuQM9qmpq"}],"key":"Dv6ZrM0QMU"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Dependencies passed in at construction","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FIXxvuix5R"}],"key":"RiVVl751J9"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Easy to test with mocks","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"OoLH6PpG4x"}],"key":"i67Y8HZY8k"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Easy to swap implementations","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"fUXTo1Z0dt"}],"key":"U30dFOzKyH"}],"key":"g5Q7VZUkhH"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"4. Explicit Over Implicit","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"xmIM0qSh7T"}],"key":"VqiXLyzIHD"}],"key":"t5szScWZ2v"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"No magic global state","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"YI0U7WGhL7"}],"key":"khCfij3nxo"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"No hidden configuration","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"jqg8lSVxiH"}],"key":"dfWVPHotU7"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Everything visible in function signatures","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"HWRzlDWBCH"}],"key":"R9guLOm00E"}],"key":"ZvbGTKf2Xx"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"strong","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"5. Production Ready","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"kzNelDOR8w"}],"key":"ot9Kg0Qy1E"}],"key":"jkq2PyxdOj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":25,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Designed for real systems, not demos","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ivdpK0TWxz"}],"key":"vv2OABGcZz"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Handles errors gracefully","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"yVHzoab9Li"}],"key":"qRNagoLTvS"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Observability built-in","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"osWeRTWDgg"}],"key":"wXFUvwroET"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Performance matters","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"H5n7EcMDb8"}],"key":"XLLZp2h3Ek"}],"key":"rOVFfWE2gt"}],"key":"Agn0Rd19F1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Core Agent Components","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"afPzYswou9"}],"identifier":"core-agent-components","label":"Core Agent Components","html_id":"core-agent-components","implicit":true,"key":"lKB1OAO4li"}],"key":"yBBCmTJpIM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Four Essential Pieces","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GMovvwqyCN"}],"identifier":"the-four-essential-pieces","label":"The Four Essential Pieces","html_id":"the-four-essential-pieces","implicit":true,"key":"YRaqmBwDBv"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Every PydanticAI agent has these components:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WhRb7lH2Hd"}],"key":"kDndXazhmf"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1. Agent Definition","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Kcd1MLeH0F"}],"key":"nRbTSj0muX"}],"key":"RTf9ZJnOaG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Specifies the LLM model to use","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TY3evuKfqo"}],"key":"Y63HkBzlwg"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Defines system prompt","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RqEvsb51qm"}],"key":"y93mYwfAcV"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Registers available tools","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fzhPHFxGvn"}],"key":"KTyYlx34Wj"}],"key":"ad1VaMbes3"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"2. Tool Functions","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OC0cHQbG6I"}],"key":"hRuERIjDzN"}],"key":"UA0Bnon2GK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Functions the agent can call","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QdbQWRq3PD"}],"key":"wHiFGVGAmT"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Type-annotated parameters","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SWGkVjZbeD"}],"key":"W4O1o1PGGy"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Validated inputs and outputs","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"hb7Ojhk57H"}],"key":"qCIbPRpYHB"}],"key":"x8BZMfvjmz"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"3. Structured Outputs","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"DohDnTkcIW"}],"key":"FsdK4331Bn"}],"key":"nrtISlii3c"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Define what the agent should return","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"qKTIkEOALd"}],"key":"LmuKilek29"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Pydantic models for validation","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"BJfpRX6y39"}],"key":"rASV4ieH9S"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Guaranteed schema compliance","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"lo0YEqk76V"}],"key":"NmFmI2NzUd"}],"key":"Q5x61BGbAV"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"4. Run Context (Dependencies)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"sI7l5zbRkE"}],"key":"Zo2OCb2BFc"}],"key":"dZeBwcggHI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"External services (databases, APIs)","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"kfaQwwncc1"}],"key":"fLbFotW0po"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Configuration","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"JrUHROmXpD"}],"key":"KVbFJiI6TM"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"State that flows through execution","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"u9VJBnhmz0"}],"key":"tWUpR43UC8"}],"key":"z5ZGgSYe68"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Let’s examine each in detail","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"hHhqk4SOZ2"}],"key":"JfPEQ80XyH"}],"key":"nfmrTgGVA4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1. Agent Definition","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J29DdqrDCP"}],"identifier":"id-1-agent-definition","label":"1. Agent Definition","html_id":"id-1-agent-definition","implicit":true,"key":"DtFTYPmAr5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In PydanticAI (Python):","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SWpS68Jk8n"}],"key":"rEOEK190b7"},{"type":"code","lang":"python","value":"from pydantic_ai import Agent\n\nagent = Agent(\n    'anthropic:claude-haiku-4-5',\n    system_prompt=\"You are a helpful research assistant.\",\n)","position":{"start":{"line":4,"column":1},"end":{"line":11,"column":1}},"key":"GiNbWLCP4b"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Key aspects:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"HxAuLywVM7"}],"key":"EWpE9Ruz5n"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Model string","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"UZvtSh6IdL"}],"key":"JcMFXHyYc6"},{"type":"text","value":": Specifies which LLM to use","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Cx9bdDx8st"}],"key":"RUUdWruowQ"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"System prompt","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"aXGKmSVpCc"}],"key":"v9spllSbd6"},{"type":"text","value":": Sets agent behavior and role","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"fElg9SHxP6"}],"key":"MxEbOjSIEN"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Simple constructor","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"yR8MtgQkhg"}],"key":"HDVz27zpPa"},{"type":"text","value":": No complex configuration","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cuLm0H1Xlf"}],"key":"mBcP4v7YyH"}],"key":"txC5mPEAQH"}],"key":"VwGm9FM0nF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2. Tool Functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"brqdzLISX8"}],"identifier":"id-2-tool-functions","label":"2. Tool Functions","html_id":"id-2-tool-functions","implicit":true,"key":"Cbw1jp0ZpI"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Tools are functions the agent can call:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fmb1se6IBn"}],"key":"lAvSgt61T7"},{"type":"code","lang":"python","value":"from pydantic_ai import Agent\n\nagent = Agent('anthropic:claude-haiku-4-5')\n\n@agent.tool\ndef search_papers(\n    query: str,\n    max_results: int = 10\n) -> list[dict]:\n    \"\"\"Search academic papers by query.\"\"\"\n    # Implementation here\n    return results","position":{"start":{"line":5,"column":1},"end":{"line":18,"column":1}},"key":"ea1xHFtK9P"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"What happens","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"mBytyRRo3q"}],"key":"nB4VEjmDup"},{"type":"text","value":":","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"EMiifGfbCe"}],"key":"xIGxSvVsqj"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"LLM sees tool name and docstring","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Q1GJQfyoeQ"}],"key":"l24rnEPx9w"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"LLM decides when to call it","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"RkF14sWwOM"}],"key":"grAuk0JGu4"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Parameters are validated against type hints","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"fEmctWsGV3"}],"key":"iArl3qloTR"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Function executes","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"UbiOhONIY2"}],"key":"ruVS07YYM3"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Return value validated","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"isBQlq1sc3"}],"key":"o5DbgViSML"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Result given back to LLM","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"ANm8vH2aOs"}],"key":"nT5cJSHJ4H"}],"key":"xepxCNRS5a"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"strong","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Type safety at every step!","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"EECuPeUGmK"}],"key":"ShZwVloYPI"}],"key":"q1ssbm3qkb"}],"key":"HzGD0406Ve"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3. Structured Outputs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fh6UVGyTeM"}],"identifier":"id-3-structured-outputs","label":"3. Structured Outputs","html_id":"id-3-structured-outputs","implicit":true,"key":"wfp1dVIFGZ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Define exactly what you want back:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E4U7kpIodG"}],"key":"xmY3V3zTZM"},{"type":"code","lang":"python","value":"from pydantic import BaseModel\nfrom pydantic_ai import Agent\n\nclass Citation(BaseModel):\n    title: str\n    authors: list[str]\n    year: int\n    doi: str | None = None\n\nclass ResearchResult(BaseModel):\n    summary: str\n    citations: list[Citation]\n    confidence: float\n\nagent = Agent(\n    'anthropic:claude-haiku-4-5',\n    output_type=ResearchResult\n)","position":{"start":{"line":5,"column":1},"end":{"line":24,"column":1}},"key":"XJ9HIPPair"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"strong","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Benefits","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"xdavCwFnve"}],"key":"oaC1AA4bYl"},{"type":"text","value":":","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"lpNjNSDhv4"}],"key":"KtiJQ0SIub"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":27,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"LLM must return this exact structure","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"nBMJ6EHAXi"}],"key":"KuyW7KsRaH"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Automatic validation","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"aU43tB4843"}],"key":"aEBeAwgZyO"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"No parsing strings or JSON","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"U3gEk8NhjT"}],"key":"CKwVIIPPPl"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"IDE autocomplete on results","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"el607Z1iMV"}],"key":"oX0eQ0ou0v"}],"key":"stOXlsHNT4"}],"key":"qibvFxuLVZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"4. Run Context (Dependencies)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lD818Iyjbw"}],"identifier":"id-4-run-context-dependencies","label":"4. Run Context (Dependencies)","html_id":"id-4-run-context-dependencies","implicit":true,"key":"Q3UWdxpUfx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The secret sauce for testability:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Up4CdcnlZs"}],"key":"p53OhlpITx"},{"type":"code","lang":"python","value":"from pydantic_ai import Agent, RunContext\nfrom dataclasses import dataclass\n\n@dataclass\nclass Dependencies:\n    db: DatabaseClient\n    api_key: str\n    max_retries: int = 3\n\nagent = Agent(\n    'anthropic:claude-haiku-4-5',\n    deps_type=Dependencies\n)\n\n@agent.tool\ndef search_papers(\n    ctx: RunContext[Dependencies],\n    query: str\n) -> list[dict]:\n    # Access dependencies via ctx.deps\n    return ctx.deps.db.search(query)","position":{"start":{"line":5,"column":1},"end":{"line":27,"column":1}},"key":"TFz4o9NGES"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"strong","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Why this matters","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"XHz2zUAUUz"}],"key":"ckjClZH1Cs"},{"type":"text","value":":","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"BI7ekIJdOw"}],"key":"DJkrcCojun"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"No global variables","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"YXun2tLmeV"}],"key":"kCStTmcsvo"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Easy to inject mock dependencies for testing","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"T2hzKfOQwM"}],"key":"oqEYG5Ep04"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Explicit about what each tool needs","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"vL160oK7Ue"}],"key":"x4HyM1x7SI"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Can have different deps for dev/prod","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"MhcT5rZ6LQ"}],"key":"P3N4f9zj56"}],"key":"IS51nFKuwh"}],"key":"Vxgl1ADenZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Putting It All Together","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DGpGwufjbl"}],"identifier":"putting-it-all-together","label":"Putting It All Together","html_id":"putting-it-all-together","implicit":true,"key":"z4Woj8gifu"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"A complete PydanticAI agent:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MZjjSM0V5M"}],"key":"fSlFlYeUjl"},{"type":"code","lang":"python","value":"from pydantic import BaseModel\nfrom pydantic_ai import Agent, RunContext\nfrom dataclasses import dataclass\n\n# 1. Define dependencies\n@dataclass\nclass ResearchDeps:\n    db: DatabaseClient\n    api_key: str\n\n# 2. Define output structure\nclass Citation(BaseModel):\n    title: str\n    authors: list[str]\n    year: int\n\nclass ResearchResult(BaseModel):\n    summary: str\n    citations: list[Citation]\n\n# 3. Create agent\nagent = Agent(\n    'anthropic:claude-haiku-4-5',\n    deps_type=ResearchDeps,\n    result_type=ResearchResult,\n    system_prompt='You are a research assistant.'\n)\n\n# 4. Register tools\n@agent.tool\ndef search_papers(\n    ctx: RunContext[ResearchDeps],\n    query: str,\n    max_results: int = 10\n) -> list[dict]:\n    \"\"\"Search academic database.\"\"\"\n    return ctx.deps.db.search(query, limit=max_results)\n\n# 5. Run agent\nasync def run_research(question: str):\n    deps = ResearchDeps(\n        db=get_database(),\n        api_key=get_api_key()\n    )\n    result = await agent.run(question, deps=deps)\n    return result.data  # Guaranteed to be ResearchResult!","position":{"start":{"line":5,"column":1},"end":{"line":52,"column":1}},"key":"EUngg284zZ"}],"key":"wzvXiTLw0K"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Building a Research Assistant","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qtKNuNauTt"}],"identifier":"building-a-research-assistant","label":"Building a Research Assistant","html_id":"building-a-research-assistant","implicit":true,"key":"Jdcy45r8E6"}],"key":"JSGVozp5Gw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from dotenv import load_dotenv\nimport nest_asyncio\n\nload_dotenv()\nnest_asyncio.apply()\n","key":"aHBPJtpexg"},{"type":"output","id":"b_4xu4ZK_-kR_1lkh09Ne","data":[],"key":"Woh2wsHtYK"}],"key":"j7OP7kCRK7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"System Design","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PSweDBnCDb"}],"identifier":"system-design","label":"System Design","html_id":"system-design","implicit":true,"key":"frcxgH7gD9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s build a complete research assistant that demonstrates all the PydanticAI concepts we’ve learned:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"n9mrKmmRNP"}],"key":"exAlO4hLX1"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Features","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uVs4McwoXt"}],"key":"NJbnOCxI8G"},{"type":"text","value":":","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PyaHxDIcYY"}],"key":"fbGz7aKosX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Search academic papers by query","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yFQwHTKmji"}],"key":"s6H38nNedp"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Get detailed paper information","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KtgcVrQLhQ"}],"key":"flAb8kGp6x"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Generate structured research summaries","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bHcVxcyH9o"}],"key":"MbIAcMrT4B"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Type-safe dependencies and outputs","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AXP2EKlJnA"}],"key":"ss9OiDF5GV"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Multiple tools working together","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JvxCjFcSEh"}],"key":"RSQl69P5oM"}],"key":"Xg8PqA1zqj"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Architecture","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Gw3R5GbGmd"}],"key":"Rwh6TNJl3I"},{"type":"text","value":":","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zkQxfWtumC"}],"key":"FI9KVlrW5n"},{"type":"code","lang":"","value":"User Query\n    ↓\nPydanticAI Agent (with system prompt)\n    ↓\nTool Selection (agent decides which tools to use)\n    ↓\nTool Execution (with validated inputs via RunContext)\n    ↓\nResult Synthesis (agent combines tool outputs)\n    ↓\nStructured Output (validated ResearchSummary)","position":{"start":{"line":13,"column":1},"end":{"line":25,"column":1}},"key":"XrWaEGjAOU"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"This is a realistic pattern you’d use in production.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"ATiSGcxuE5"}],"key":"oBNDccJK0V"}],"key":"NbQjxnHiTr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1: Define Output Structure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XtcZQ6V5Z4"}],"identifier":"step-1-define-output-structure","label":"Step 1: Define Output Structure","html_id":"step-1-define-output-structure","implicit":true,"key":"MqRQ89ih4Q"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First, define what we want the agent to return:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cc0nkhTzEd"}],"key":"SqitQ9aahG"}],"key":"uVqg30pOUE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pydantic import BaseModel, Field\nfrom typing import Optional\n\nclass Paper(BaseModel):\n    \"\"\"Academic paper with validated fields.\"\"\"\n    title: str = Field(min_length=1)\n    authors: list[str] = Field(min_length=1)\n    year: int = Field(ge=1800, le=2025)\n    abstract: str\n    doi: Optional[str] = None\n\nclass ResearchSummary(BaseModel):\n    \"\"\"Final research output with validation.\"\"\"\n    query: str = Field(min_length=1)\n    summary: str = Field(min_length=1, description=\"Natural language summary\")\n    key_papers: list[Paper] = Field(min_length=1, description=\"Most relevant papers found\")\n    confidence: float = Field(ge=0.0, le=1.0, description=\"Agent's confidence that an answer to the user's query has been found\")\n\n    def _repr_html_(self) -> str:\n        \"\"\"Rich HTML display for Jupyter notebooks.\"\"\"\n        papers_html = \"\"\n        for i, paper in enumerate(self.key_papers, 1):\n            authors = \", \".join(paper.authors)\n            doi_link = f'<a href=\"https://doi.org/{paper.doi}\" target=\"_blank\">DOI</a>' if paper.doi else \"\"\n            papers_html += f\"\"\"\n            <div style=\"margin: 10px 0; padding: 10px; background: #f8f9fa; border-left: 3px solid #007bff;\">\n                <strong>{i}. {paper.title}</strong> ({paper.year}) {doi_link}<br>\n                <em>{authors}</em><br>\n                <small style=\"color: #666;\">{paper.abstract[:200]}...</small>\n            </div>\n            \"\"\"\n\n        confidence_color = \"#28a745\" if self.confidence >= 0.7 else \"#ffc107\" if self.confidence >= 0.4 else \"#dc3545\"\n        confidence_pct = f\"{self.confidence:.0%}\"\n\n        return f\"\"\"\n        <div style=\"font-family: sans-serif; max-width: 800px;\">\n            <h3 style=\"color: #333; border-bottom: 2px solid #007bff; padding-bottom: 10px;\">\n                📚 Research Results: \"{self.query}\"\n            </h3>\n            <div style=\"margin: 15px 0; padding: 15px; background: #e7f3ff; border-radius: 5px;\">\n                <strong>Summary:</strong><br>\n                {self.summary}\n            </div>\n            <div style=\"margin: 10px 0;\">\n                <strong>Confidence:</strong>\n                <span style=\"color: {confidence_color}; font-weight: bold;\">{confidence_pct}</span>\n            </div>\n            <div style=\"margin-top: 20px;\">\n                <strong>Key Papers ({len(self.key_papers)}):</strong>\n                {papers_html}\n            </div>\n        </div>\n        \"\"\"\n\n    def __str__(self) -> str:\n        \"\"\"Plain text representation.\"\"\"\n        lines = [\n            f\"Research Results: {self.query}\",\n            \"=\" * 60,\n            f\"\\nSummary:\\n{self.summary}\",\n            f\"\\nConfidence: {self.confidence:.0%}\",\n            f\"\\nKey Papers ({len(self.key_papers)}):\",\n        ]\n\n        for i, paper in enumerate(self.key_papers, 1):\n            lines.append(f\"\\n{i}. {paper.title} ({paper.year})\")\n            lines.append(f\"   Authors: {', '.join(paper.authors)}\")\n            if paper.doi:\n                lines.append(f\"   DOI: {paper.doi}\")\n\n        return \"\\n\".join(lines)\n\n# Test that validation works\ntry:\n    invalid = Paper(title=\"\", authors=[], year=3000, abstract=\"test\")\nexcept Exception as e:\n    print(f\"✓ Validation caught error: {type(e).__name__}\")\n\n    # print the error\n    print(e)\n\nvalid = Paper(\n    title=\"Attention Is All You Need\",\n    authors=[\"Vaswani et al.\"],\n    year=2017,\n    abstract=\"We propose the Transformer...\"\n)\nprint(f\"✓ Valid paper created: {valid.title}\")","key":"Yxf6cUZDix"},{"type":"output","id":"wSa6a3W267OPjLHh_E1mb","data":[{"name":"stdout","output_type":"stream","text":"✓ Validation caught error: ValidationError\n3 validation errors for Paper\ntitle\n  String should have at least 1 character [type=string_too_short, input_value='', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_too_short\nauthors\n  List should have at least 1 item after validation, not 0 [type=too_short, input_value=[], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.12/v/too_short\nyear\n  Input should be less than or equal to 2025 [type=less_than_equal, input_value=3000, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.12/v/less_than_equal\n✓ Valid paper created: Attention Is All You Need\n"}],"key":"daWT9art3X"}],"key":"ui8GT0Mjuj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2: Define Dependencies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tlsq7mM5iN"}],"identifier":"step-2-define-dependencies","label":"Step 2: Define Dependencies","html_id":"step-2-define-dependencies","implicit":true,"key":"eHcmn8nfxg"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Define external resources the agent needs:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kKIploDTTE"}],"key":"fbt4gRPj4h"}],"key":"pHRjwMglRv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from dataclasses import dataclass\n\n@dataclass\nclass ResearchDeps:\n    \"\"\"Dependencies for the research agent.\"\"\"\n    database_url: str\n    api_key: str\n    max_papers_per_search: int = 10\n\n    def search_database(self, query: str, limit: int) -> list[Paper]:\n        \"\"\"Simulate database search (in production, would query real DB).\"\"\"\n        print(f\"  🔍 Searching database for: '{query}' (limit: {limit})\")\n\n        # In production, this would be:\n        # conn = connect(self.database_url, self.api_key)\n        # results = conn.execute(search_query)\n        # return [Paper(**row) for row in results]\n\n        # For demo, return mock results\n        return [\n            Paper(\n                title=\"Attention Is All You Need\",\n                authors=[\"Vaswani, A.\", \"Shazeer, N.\", \"Parmar, N.\"],\n                year=2017,\n                abstract=\"We propose a new simple network architecture, the Transformer...\",\n                doi=\"10.5555/3295222.3295349\"\n            ),\n            Paper(\n                title=\"BERT: Pre-training of Deep Bidirectional Transformers\",\n                authors=[\"Devlin, J.\", \"Chang, M.\", \"Lee, K.\"],\n                year=2019,\n                abstract=\"We introduce BERT, a method for pre-training language representations...\",\n                doi=\"10.18653/v1/N19-1423\"\n            ),\n        ]\n\n    def get_paper_by_id(self, paper_id: str) -> Paper:\n        \"\"\"Retrieve specific paper by ID.\"\"\"\n        print(f\"  📄 Fetching paper: {paper_id}\")\n        return Paper(\n            title=\"Example Paper\",\n            authors=[\"Author, A.\"],\n            year=2023,\n            abstract=\"This is an example paper abstract.\"\n        )\n\n# Create dependencies\ndeps = ResearchDeps(\n    database_url=\"sqlite3:///papers.db\",\n    api_key=\"demo-api-key-12345\",\n    max_papers_per_search=5\n)\n\nprint(\"✓ Dependencies configured\")","key":"iAKyOQBdSf"},{"type":"output","id":"fH-IdFtR_2HjMRop3HPAH","data":[{"name":"stdout","output_type":"stream","text":"✓ Dependencies configured\n"}],"key":"dyEXLn2lBS"}],"key":"Nk1PpUBFM9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3: Create Agent and Register Tools","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JUtb9rXcUI"}],"identifier":"step-3-create-agent-and-register-tools","label":"Step 3: Create Agent and Register Tools","html_id":"step-3-create-agent-and-register-tools","implicit":true,"key":"OEYhjJpvov"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now create the agent and give it tools:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MfojANcq9z"}],"key":"EbISCCgzCj"}],"key":"dEXpZAkFdi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pydantic_ai import Agent, RunContext\n\n# Create agent with system prompt and structured output\nresearch_agent = Agent(\n    'anthropic:claude-sonnet-4-5',\n    deps_type=ResearchDeps,\n    output_type=ResearchSummary,\n    system_prompt=\"\"\"You are a helpful research assistant.\n\n    When asked to research a topic:\n    1. Search for relevant papers using the search_papers tool\n    2. Analyze the results carefully\n    3. Provide a clear summary with the most important papers\n    4. Rate your confidence based on result quality and relevance\n\n    Be thorough but concise. Focus on the most impactful papers.\n    IMPORTANT: never, under any circumstances, make up paper titles, authors, years, abstracts, or DOIs.\n\n    IMPORTANT: If you cannot find relevant papers, state that clearly in your summary and set confidence to 0.0. Also don't return any key papers.\n\n    IMPORTANT: only use details from the papers you find when generating the summary. do not invent information or use general knowledge.\n               again if you cannot find relevant papers, state that clearly in your summary and set confidence to 0.0.\n\n    \"\"\"\n)\n\n# Register tool 1: Search for papers\n@research_agent.tool\ndef search_papers(\n    ctx: RunContext[ResearchDeps],\n    query: str,\n    max_results: int = 5\n) -> list[Paper]:\n    \"\"\"\n    Search for academic papers by query string.\n\n    Args:\n        query: Search query (keywords, topics, authors)\n        max_results: Maximum number of papers to return (default 5)\n\n    Returns:\n        List of relevant papers\n    \"\"\"\n    # Access dependencies via ctx.deps\n    limit = min(max_results, ctx.deps.max_papers_per_search)\n    papers = ctx.deps.search_database(query, limit)\n    return papers\n\n# Register tool 2: Get specific paper details\n@research_agent.tool\ndef get_paper_details(\n    ctx: RunContext[ResearchDeps],\n    paper_id: str\n) -> Paper:\n    \"\"\"\n    Get detailed information about a specific paper by its ID.\n\n    Args:\n        paper_id: Unique identifier for the paper\n\n    Returns:\n        Paper object with full details\n    \"\"\"\n    return ctx.deps.get_paper_by_id(paper_id)\n\nprint(\"✓ Agent created with 2 tools registered\")","key":"apcWEx6gLR"},{"type":"output","id":"29Q8gUZHkJL7ZcV3Qg9vs","data":[{"name":"stdout","output_type":"stream","text":"✓ Agent created with 2 tools registered\n"}],"key":"ve9QOrRQId"}],"key":"P2hhONP6cP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 4: Run the Agent","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fjq5CyBy3I"}],"identifier":"step-4-run-the-agent","label":"Step 4: Run the Agent","html_id":"step-4-run-the-agent","implicit":true,"key":"UL94uJMtIb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Execute the agent with a research query:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mHqRkZmZft"}],"key":"e5dZ5Uhoup"}],"key":"HQ9twUTuYV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pydantic_ai import UsageLimits","key":"GT0AhYKFnZ"},{"type":"output","id":"BXTj0SHm7okILppFNI2pn","data":[],"key":"BipyTgtBcG"}],"key":"O7esZRMuPh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"async def run_research(question: str):\n    deps = ResearchDeps(\n        database_url=\"sqlite3:///papers.db\",\n        api_key=\"demo-api-key-12345\",\n        max_papers_per_search=5\n    )\n    result = await research_agent.run(\n        question,\n        deps=deps,\n        usage_limits=UsageLimits(tool_calls_limit=5),\n    )\n    return result\n\nresearch_result = await run_research(\"How many species of monkeys live in north america\")","key":"qYaIpvFcIz"},{"type":"output","id":"gh1_f-U9XTlWLr3hdgGCg","data":[{"name":"stdout","output_type":"stream","text":"  🔍 Searching database for: 'monkeys species North America distribution' (limit: 5)\n  🔍 Searching database for: 'primate diversity North America native species' (limit: 5)\n  🔍 Searching database for: 'New World monkeys United States Canada Mexico biogeography' (limit: 5)\n  🔍 Searching database for: 'non-human primates North American continent native endemic' (limit: 5)\n  🔍 Searching database for: 'mammal fauna North America primates absence' (limit: 5)\n"},{"name":"stderr","output_type":"stream","text":"Traceback (most recent call last):\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/IPython/core/interactiveshell.py\", line 3697, in run_code\n    await eval(code_obj, self.user_global_ns, self.user_ns)\n  File \"/var/folders/7d/x0yzvh3172zdzj7wsxtnhhh00000gn/T/ipykernel_4094/1915870946.py\", line 14, in <module>\n    research_result = await run_research(\"How many species of monkeys live in north america\")\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/folders/7d/x0yzvh3172zdzj7wsxtnhhh00000gn/T/ipykernel_4094/1915870946.py\", line 7, in run_research\n    result = await research_agent.run(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/agent/abstract.py\", line 225, in run\n    async with self.iter(\n               ^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 231, in __aexit__\n    await self.gen.athrow(value)\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/agent/__init__.py\", line 647, in iter\n    async with graph.iter(\n               ^^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 231, in __aexit__\n    await self.gen.athrow(value)\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_graph/beta/graph.py\", line 271, in iter\n    async with GraphRun[StateT, DepsT, OutputT](\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_graph/beta/graph.py\", line 400, in __aexit__\n    await self._async_exit_stack.__aexit__(exc_type, exc_val, exc_tb)\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 754, in __aexit__\n    raise exc_details[1]\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 735, in __aexit__\n    cb_suppress = cb(*exc_details)\n                  ^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_graph/beta/graph.py\", line 939, in _unwrap_exception_groups\n    raise exception\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_graph/beta/graph.py\", line 711, in _run_tracked_task\n    result = await self._run_task(t_)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_graph/beta/graph.py\", line 740, in _run_task\n    output = await node.call(step_context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_graph/beta/step.py\", line 253, in _call_node\n    return await node.run(GraphRunContext(state=ctx.state, deps=ctx.deps))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 544, in run\n    async with self.stream(ctx):\n               ^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py\", line 217, in __aexit__\n    await anext(self.gen)\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 558, in stream\n    async for _event in stream:\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 676, in _run_stream\n    async for event in self._events_iterator:\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 637, in _run_stream\n    async for event in self._handle_tool_calls(ctx, tool_calls):\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 692, in _handle_tool_calls\n    async for event in process_tool_calls(\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 888, in process_tool_calls\n    async for event in _call_tools(\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/_agent_graph.py\", line 955, in _call_tools\n    usage_limits.check_before_tool_call(projected_usage)\n  File \"/Users/sglyon/Teaching/UCF/CAP-6318/book-myst/weekA02/.venv/lib/python3.12/site-packages/pydantic_ai/usage.py\", line 393, in check_before_tool_call\n    raise UsageLimitExceeded(\npydantic_ai.exceptions.UsageLimitExceeded: The next tool call(s) would exceed the tool_calls_limit of 5 (tool_calls=6).\n"}],"key":"iydwnWJDFE"}],"key":"aGB4U9H3aU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"research_result.all_messages()","key":"vBqqKjXPfx"},{"type":"output","id":"hMYVG5S0ZIwk0vtPZV7bn","data":[{"output_type":"execute_result","execution_count":36,"metadata":{},"data":{"text/plain":{"content":"[ModelRequest(parts=[SystemPromptPart(content='You are a helpful research assistant.\\n\\n    When asked to research a topic:\\n    1. Search for relevant papers using the search_papers tool\\n    2. Analyze the results carefully\\n    3. Provide a clear summary with the most important papers\\n    4. Rate your confidence based on result quality and relevance\\n\\n    Be thorough but concise. Focus on the most impactful papers.\\n    IMPORTANT: never, under any circumstances, make up paper titles, authors, years, abstracts, or DOIs.\\n\\n    IMPORTANT: If you cannot find relevant papers, state that clearly in your summary and set confidence to 0.0.\\n\\n    IMPORTANT: only use details from the papers you find when generating the summary. do not invent information or use general knowledge.\\n               again if you cannot find relevant papers, state that clearly in your summary and set confidence to 0.0.\\n\\n    ', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 8, 103168, tzinfo=datetime.timezone.utc)), UserPromptPart(content='How many species of monkeys live in north america', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 8, 103172, tzinfo=datetime.timezone.utc))]),\n ModelResponse(parts=[ToolCallPart(tool_name='search_papers', args={'query': 'monkey species North America distribution native', 'max_results': 10}, tool_call_id='toolu_015iVGTiBwvEf1vSB4GDtH8s')], usage=RequestUsage(input_tokens=1387, output_tokens=62, details={'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 1387, 'output_tokens': 62}), model_name='claude-sonnet-4-5-20250929', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 10, 617960, tzinfo=datetime.timezone.utc), provider_name='anthropic', provider_details={'finish_reason': 'tool_use'}, provider_response_id='msg_01AEYVeiqSynQXnyaVLd4osj', finish_reason='tool_call'),\n ModelRequest(parts=[ToolReturnPart(tool_name='search_papers', content=[Paper(title='Attention Is All You Need', authors=['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], year=2017, abstract='We propose a new simple network architecture, the Transformer...', doi='10.5555/3295222.3295349'), Paper(title='BERT: Pre-training of Deep Bidirectional Transformers', authors=['Devlin, J.', 'Chang, M.', 'Lee, K.'], year=2019, abstract='We introduce BERT, a method for pre-training language representations...', doi='10.18653/v1/N19-1423')], tool_call_id='toolu_015iVGTiBwvEf1vSB4GDtH8s', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 10, 618748, tzinfo=datetime.timezone.utc))]),\n ModelResponse(parts=[ToolCallPart(tool_name='search_papers', args={'query': 'primate diversity North America biogeography', 'max_results': 10}, tool_call_id='toolu_01EBPBpzy5uiXzoc292kcW2M')], usage=RequestUsage(input_tokens=1627, output_tokens=64, details={'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 1627, 'output_tokens': 64}), model_name='claude-sonnet-4-5-20250929', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 13, 304667, tzinfo=datetime.timezone.utc), provider_name='anthropic', provider_details={'finish_reason': 'tool_use'}, provider_response_id='msg_014HCpQLThvjGCvj9HgFs2dH', finish_reason='tool_call'),\n ModelRequest(parts=[ToolReturnPart(tool_name='search_papers', content=[Paper(title='Attention Is All You Need', authors=['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], year=2017, abstract='We propose a new simple network architecture, the Transformer...', doi='10.5555/3295222.3295349'), Paper(title='BERT: Pre-training of Deep Bidirectional Transformers', authors=['Devlin, J.', 'Chang, M.', 'Lee, K.'], year=2019, abstract='We introduce BERT, a method for pre-training language representations...', doi='10.18653/v1/N19-1423')], tool_call_id='toolu_01EBPBpzy5uiXzoc292kcW2M', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 13, 305500, tzinfo=datetime.timezone.utc))]),\n ModelResponse(parts=[ToolCallPart(tool_name='search_papers', args={'query': 'native monkeys Mexico Central America United States', 'max_results': 10}, tool_call_id='toolu_01AVt8UCiMyphHSzmTC8BxYG')], usage=RequestUsage(input_tokens=1869, output_tokens=64, details={'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 1869, 'output_tokens': 64}), model_name='claude-sonnet-4-5-20250929', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 16, 474688, tzinfo=datetime.timezone.utc), provider_name='anthropic', provider_details={'finish_reason': 'tool_use'}, provider_response_id='msg_01YAhvsa4njfepdKacmsotjQ', finish_reason='tool_call'),\n ModelRequest(parts=[ToolReturnPart(tool_name='search_papers', content=[Paper(title='Attention Is All You Need', authors=['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], year=2017, abstract='We propose a new simple network architecture, the Transformer...', doi='10.5555/3295222.3295349'), Paper(title='BERT: Pre-training of Deep Bidirectional Transformers', authors=['Devlin, J.', 'Chang, M.', 'Lee, K.'], year=2019, abstract='We introduce BERT, a method for pre-training language representations...', doi='10.18653/v1/N19-1423')], tool_call_id='toolu_01AVt8UCiMyphHSzmTC8BxYG', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 16, 476643, tzinfo=datetime.timezone.utc))]),\n ModelResponse(parts=[ToolCallPart(tool_name='search_papers', args={'query': 'New World monkeys biogeography geographic range', 'max_results': 10}, tool_call_id='toolu_01KDUPKnpMeDUsvWXGsvnsbW')], usage=RequestUsage(input_tokens=2111, output_tokens=65, details={'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 2111, 'output_tokens': 65}), model_name='claude-sonnet-4-5-20250929', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 20, 354698, tzinfo=datetime.timezone.utc), provider_name='anthropic', provider_details={'finish_reason': 'tool_use'}, provider_response_id='msg_01Ay7fCeJ5QezNvGbetcRw76', finish_reason='tool_call'),\n ModelRequest(parts=[ToolReturnPart(tool_name='search_papers', content=[Paper(title='Attention Is All You Need', authors=['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], year=2017, abstract='We propose a new simple network architecture, the Transformer...', doi='10.5555/3295222.3295349'), Paper(title='BERT: Pre-training of Deep Bidirectional Transformers', authors=['Devlin, J.', 'Chang, M.', 'Lee, K.'], year=2019, abstract='We introduce BERT, a method for pre-training language representations...', doi='10.18653/v1/N19-1423')], tool_call_id='toolu_01KDUPKnpMeDUsvWXGsvnsbW', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 20, 356167, tzinfo=datetime.timezone.utc))]),\n ModelResponse(parts=[ToolCallPart(tool_name='search_papers', args={'query': 'Platyrrhini species richness northern limit', 'max_results': 10}, tool_call_id='toolu_017bNCgZUUaXoTRkJeZbxbLw')], usage=RequestUsage(input_tokens=2354, output_tokens=66, details={'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 2354, 'output_tokens': 66}), model_name='claude-sonnet-4-5-20250929', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 23, 447720, tzinfo=datetime.timezone.utc), provider_name='anthropic', provider_details={'finish_reason': 'tool_use'}, provider_response_id='msg_017djSEjhtoeJ3xUFs5puZ96', finish_reason='tool_call'),\n ModelRequest(parts=[ToolReturnPart(tool_name='search_papers', content=[Paper(title='Attention Is All You Need', authors=['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], year=2017, abstract='We propose a new simple network architecture, the Transformer...', doi='10.5555/3295222.3295349'), Paper(title='BERT: Pre-training of Deep Bidirectional Transformers', authors=['Devlin, J.', 'Chang, M.', 'Lee, K.'], year=2019, abstract='We introduce BERT, a method for pre-training language representations...', doi='10.18653/v1/N19-1423')], tool_call_id='toolu_017bNCgZUUaXoTRkJeZbxbLw', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 23, 448744, tzinfo=datetime.timezone.utc))]),\n ModelResponse(parts=[ToolCallPart(tool_name='final_result', args={'query': 'How many species of monkeys live in north america', 'summary': 'I was unable to find relevant academic papers addressing the question of how many monkey species live in North America. The search queries returned unrelated papers (about machine learning transformers and language models) rather than papers about primate biogeography or species distribution in North America. \\n\\nWithout access to relevant scientific literature through this search tool, I cannot provide a scientifically-supported answer to this question based on the available search results.', 'key_papers': [{'title': 'Attention Is All You Need', 'authors': ['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], 'year': 2017, 'abstract': 'We propose a new simple network architecture, the Transformer...'}], 'confidence': 0.0}, tool_call_id='toolu_01PikVbFar7CsAZBpN2JDEBr')], usage=RequestUsage(input_tokens=2598, output_tokens=264, details={'cache_creation_input_tokens': 0, 'cache_read_input_tokens': 0, 'input_tokens': 2598, 'output_tokens': 264}), model_name='claude-sonnet-4-5-20250929', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 29, 127835, tzinfo=datetime.timezone.utc), provider_name='anthropic', provider_details={'finish_reason': 'tool_use'}, provider_response_id='msg_01TEjdUsCEHBazcEzoEdfoUd', finish_reason='tool_call'),\n ModelRequest(parts=[ToolReturnPart(tool_name='final_result', content='Final result processed.', tool_call_id='toolu_01PikVbFar7CsAZBpN2JDEBr', timestamp=datetime.datetime(2025, 11, 11, 0, 53, 29, 128273, tzinfo=datetime.timezone.utc))])]","content_type":"text/plain"}}}],"key":"iFHDOE1QaF"}],"key":"tk3jiU0urS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"research_result.output","key":"pTMkgHGoeE"},{"type":"output","id":"y-fraLvZ7XXtMuedZC6W0","data":[{"output_type":"execute_result","execution_count":37,"metadata":{},"data":{"text/html":{"content":"\n        <div style=\"font-family: sans-serif; max-width: 800px;\">\n            <h3 style=\"color: #333; border-bottom: 2px solid #007bff; padding-bottom: 10px;\">\n                📚 Research Results: \"How many species of monkeys live in north america\"\n            </h3>\n            <div style=\"margin: 15px 0; padding: 15px; background: #e7f3ff; border-radius: 5px;\">\n                <strong>Summary:</strong><br>\n                I was unable to find relevant academic papers addressing the question of how many monkey species live in North America. The search queries returned unrelated papers (about machine learning transformers and language models) rather than papers about primate biogeography or species distribution in North America. \n\nWithout access to relevant scientific literature through this search tool, I cannot provide a scientifically-supported answer to this question based on the available search results.\n            </div>\n            <div style=\"margin: 10px 0;\">\n                <strong>Confidence:</strong>\n                <span style=\"color: #dc3545; font-weight: bold;\">0%</span>\n            </div>\n            <div style=\"margin-top: 20px;\">\n                <strong>Key Papers (1):</strong>\n                \n            <div style=\"margin: 10px 0; padding: 10px; background: #f8f9fa; border-left: 3px solid #007bff;\">\n                <strong>1. Attention Is All You Need</strong> (2017) <br>\n                <em>Vaswani, A., Shazeer, N., Parmar, N.</em><br>\n                <small style=\"color: #666;\">We propose a new simple network architecture, the Transformer......</small>\n            </div>\n            \n            </div>\n        </div>\n        ","content_type":"text/html"},"text/plain":{"content":"ResearchSummary(query='How many species of monkeys live in north america', summary='I was unable to find relevant academic papers addressing the question of how many monkey species live in North America. The search queries returned unrelated papers (about machine learning transformers and language models) rather than papers about primate biogeography or species distribution in North America. \\n\\nWithout access to relevant scientific literature through this search tool, I cannot provide a scientifically-supported answer to this question based on the available search results.', key_papers=[Paper(title='Attention Is All You Need', authors=['Vaswani, A.', 'Shazeer, N.', 'Parmar, N.'], year=2017, abstract='We propose a new simple network architecture, the Transformer...', doi=None)], confidence=0.0)","content_type":"text/plain"}}}],"key":"fv1VMzltaC"}],"key":"h0PanhjEEB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What Just Happened?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ir7Drw7fZP"}],"identifier":"what-just-happened","label":"What Just Happened?","html_id":"what-just-happened","implicit":true,"key":"DnV7e5YVkj"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s break down the agent execution:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rKpF0MCA0J"}],"key":"hO2EMJLcwu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1. Agent Received Query","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fV6Yuzq5W6"}],"key":"ZUQOZj3e1M"}],"key":"okPtm63Xan"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"User asked: “transformer architectures in NLP”","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Pu7MNGKCz0"}],"key":"aFSWW1ieCP"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Agent has access to: search_papers and get_paper_details tools","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fk5SDkfWdG"}],"key":"dXfSLCTSET"}],"key":"gp4nVcN95W"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"2. Agent Made Decisions","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"sNUK07SvCi"}],"key":"zr5Afh1ZV2"}],"key":"kCOQuLlIPu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"LLM analyzed the query","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"r7nTDgIIAD"}],"key":"gBCoJnWK1W"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Decided to call ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Daw41nA4gT"},{"type":"inlineCode","value":"search_papers(\"transformer architectures in NLP\", max_results=5)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"zz8n7mfWw6"}],"key":"nGoFtLmJRu"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"PydanticAI validated the parameters","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vv2E53B2Hc"}],"key":"XfHFTyfzB2"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Tool executed with access to deps via RunContext","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"kiQwZOazzJ"}],"key":"QH0PlBvtKH"}],"key":"DSAcX9aayA"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"3. Tool Returned Validated Data","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"zBpFqeXiVr"}],"key":"uJr5SJRM0v"}],"key":"ikBXdTsb1C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Tool returned ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"CnRlrs2xYs"},{"type":"inlineCode","value":"list[Paper]","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"AjdMxRkpo9"},{"type":"text","value":" (type-checked)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"WVZjoXbjCc"}],"key":"jVUqC5UuXL"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Each Paper object validated by Pydantic","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"tBHxyEefkq"}],"key":"r7EpTbNHvP"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Agent received the results","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"oqLxEh88qI"}],"key":"FPaHXChC9k"}],"key":"qh8A8YrluK"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"4. Agent Synthesized Response","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"OycfEJxKDs"}],"key":"hz9A30wXT4"}],"key":"TikXPt3L0N"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"LLM analyzed the papers","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"a2CR9UHcXJ"}],"key":"B729obgK8J"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Generated natural language summary","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"VepB0SiJ1a"}],"key":"y0ydEL4QLo"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Selected key papers","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"fxpTSGKdYN"}],"key":"GF97FvFCs7"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Assigned confidence score","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"dHxlpvLkIf"}],"key":"vNR9TvbFWP"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Returned ResearchSummary (validated!)","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"GCNEdFcni5"}],"key":"bdKj45kLBn"}],"key":"M4ladlrmol"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"5. Type Safety Throughout","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"mibLhV6QWL"}],"key":"j2jUeEc1od"}],"key":"Hpl8Azx7cJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Every input validated before execution","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"JEgluULwfb"}],"key":"hZA6Ricg7m"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Every output validated before return","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"KyH376huFA"}],"key":"ClNlYEA3wV"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Impossible to get wrong types","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"WC0CvUo9TV"}],"key":"mjVJSq5nL6"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Clear errors if validation fails","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"jNLY1cmcGr"}],"key":"tze0tks2MQ"}],"key":"oJX1WsPl1k"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"This is the power of type-safe agent development!","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"wc6XgV4xKr"}],"key":"c4dmOyAakB"}],"key":"ujGepJ5axa"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise: Add a New Tool","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oGzyXixowL"}],"identifier":"exercise-add-a-new-tool","label":"Exercise: Add a New Tool","html_id":"exercise-add-a-new-tool","implicit":true,"key":"Wy5RRae8To"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Add a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KuoTXIrpQB"},{"type":"inlineCode","value":"compare_papers","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CwrAYtc18F"},{"type":"text","value":" tool that takes two paper titles and returns a comparison.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"j97wDd4NLQ"}],"key":"LxSHrDEylA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Requirements","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jsvn1HB714"}],"key":"MAW5XYyto5"},{"type":"text","value":":","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GTHxbqKuRQ"}],"key":"df0zgxq181"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Use ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"TtgMDTGqZi"},{"type":"inlineCode","value":"@research_agent.tool","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hMbttdAp44"},{"type":"text","value":" decorator","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kKTgfvVWQs"}],"key":"x7nK7gJYzq"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Accept ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MQk6gkrBgG"},{"type":"inlineCode","value":"RunContext[ResearchDeps]","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RM6GlDdp9s"},{"type":"text","value":" as first parameter","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"GLHlykwF02"}],"key":"vfQiNVSyMQ"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Take two paper titles as strings","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uLDIGzlbL9"}],"key":"apD3e5jCRN"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Return a string with the comparison","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hNKd55MBqc"}],"key":"pINDQz64QP"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Use proper docstring (the agent sees this!)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"XRKZfpFXVm"}],"key":"aPu1nR43k6"}],"key":"u6JlozJUPZ"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Hint","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"xlhADfYRXQ"}],"key":"JLwUIXihEe"},{"type":"text","value":": The agent will automatically see this new tool and can call it!","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fWbzN0UuHZ"}],"key":"k491nwHvSM"}],"key":"UTZn4sB0E7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"@research_agent.tool\ndef compare_papers(\n    ctx: RunContext[ResearchDeps],\n    paper1_title: str,\n    paper2_title: str\n) -> str:\n    \"\"\"\n    Compare two papers by their titles.\n\n    Args:\n        paper1_title: Title of first paper\n        paper2_title: Title of second paper\n\n    Returns:\n        Comparison summary\n    \"\"\"\n    # TODO: Implement comparison logic\n    # In production, would search for both papers and compare:\n    # - Publication dates\n    # - Citation counts\n    # - Research methods\n    # - Key contributions\n\n    return f\"Comparison between '{paper1_title}' and '{paper2_title}': [TODO: implement]\"","key":"ytLvMBOMv6"},{"type":"output","id":"e2PLYrAE4tgSeet0_gCaO","data":[],"key":"QkIRNQJCpD"}],"key":"tYLfD9U23Y"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Advanced: Dynamic System Prompts","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aNTodlRryT"}],"identifier":"advanced-dynamic-system-prompts","label":"Advanced: Dynamic System Prompts","html_id":"advanced-dynamic-system-prompts","implicit":true,"key":"WKP1RfR3Ze"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also generate system prompts dynamically based on context:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tGZnzNabzg"}],"key":"WGXGNiDiaX"}],"key":"MbP0LhuOUP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from pydantic_ai import RunContext\n\n# Create agent without static system prompt\nadaptive_agent = Agent(\n    'anthropic:claude-haiku-4-5',\n    deps_type=ResearchDeps,\n    output_type=ResearchSummary\n)\n\n# Dynamic system prompt based on context\n@adaptive_agent.system_prompt(dynamic=True)\ndef get_system_prompt(ctx: RunContext[ResearchDeps]) -> str:\n    \"\"\"Generate system prompt based on current context.\"\"\"\n    max_papers = ctx.deps.max_papers_per_search\n\n    return f\"\"\"You are a research assistant with access to {max_papers} papers per search.\n\nFocus on quality over quantity. When analyzing papers:\n- Prioritize recent publications (last 5 years)\n- Look for highly-cited works\n- Consider methodological rigor\n- Provide balanced summaries\n\nYour database: {ctx.deps.database_url}\n    \"\"\"\n\nprint(\"✓ Adaptive agent created with dynamic system prompt\")","key":"egRnEI3BjT"},{"type":"output","id":"fvNNUhg0lwi_c-ea7BVkU","data":[{"name":"stdout","output_type":"stream","text":"✓ Adaptive agent created with dynamic system prompt\n"}],"key":"MYnq0s4rHc"}],"key":"ezRS9LY04H"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why This Pattern Scales","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tiqzjX2K42"}],"identifier":"why-this-pattern-scales","label":"Why This Pattern Scales","html_id":"why-this-pattern-scales","implicit":true,"key":"WT6Jx1Ard7"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This agent architecture works for production systems because:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SI1MULWDsW"}],"key":"pELKjmOOuH"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1. Type Safety","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cpahRq67xw"}],"key":"OUUnfOJYHs"}],"key":"fCxGcr1XUu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Catch errors at development time","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Q6ITiZEvSB"}],"key":"J49LONSD9e"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Invalid data rejected before processing","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"E4kEL2hgyU"}],"key":"WLz9tf569O"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Clear validation errors guide debugging","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QnT0JUCgKp"}],"key":"Qjs7IxbyuX"}],"key":"oFmKJBUQdS"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"2. Separation of Concerns","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"SFNzk8gtrp"}],"key":"sYs2JMqknc"}],"key":"xr7zoagJ6u"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Agent logic separate from business logic","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pF1NSjZScs"}],"key":"gyet53m7QJ"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Dependencies injected, not hard-coded","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"aw9exgtlUe"}],"key":"E9UkdQJH5I"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Easy to test each component independently","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ImIvYTBnMD"}],"key":"VWPtNqDtqX"}],"key":"CvoJuux9Nc"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"3. Composability","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"e7lQBfwe7t"}],"key":"eQFUTyO8HC"}],"key":"Di5ITktspp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Tools are just Python functions","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"A4SQR3NpDN"}],"key":"gklmDBex6i"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Add new capabilities by adding new tools","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"GXj2wDhpGk"}],"key":"ukuLLeFVf6"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Mix and match tools for different agents","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"jOy7iMFkIH"}],"key":"YtyZq9xL13"}],"key":"rRm4QvRlnx"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"4. Observability","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"h0NSEqR6z0"}],"key":"PblZOY6RqW"}],"key":"kKbe9xZETG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Every tool call is logged","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"YuI6fyZrzd"}],"key":"YdyVAh4lcI"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Clear execution trace","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"doH561wWHy"}],"key":"wNMzUss9ZX"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Easy to monitor and debug","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ORkkwCrx7P"}],"key":"nRxjU42c1b"}],"key":"hzCZftfEaE"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"5. Maintainability","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"dT8sePwdtA"}],"key":"aZtvc614yL"}],"key":"DFxx0LgwRl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":26,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Simple, readable code","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Rt2e1unQJ1"}],"key":"YunOWr0H5y"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Standard Python patterns","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"LT126lgkMV"}],"key":"EfX2pt3NLX"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Type hints document the code","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"xBmX6cWbW4"}],"key":"XYnQQemeMs"}],"key":"o55sK9SkGI"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"This is how you build AI agents that last!","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"uaxED7rloU"}],"key":"M3B51orjBB"}],"key":"xHzaCZL5zj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Key Takeaways","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q2z3EFwSfr"}],"identifier":"key-takeaways","label":"Key Takeaways","html_id":"key-takeaways","implicit":true,"key":"H6WnKVeZ2R"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Type Safety Prevents Errors","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RdG9hzSHuf"}],"key":"UARTSVNlJM"}],"key":"EhjDvvk6wu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Validate data at construction time","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QNegp80aRM"}],"key":"aAsKTWVwBI"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Invalid states become unrepresentable","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QvO5MGqnzh"}],"key":"RYdeyLaCi9"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Clear error messages guide debugging","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"k6Y5fAQvW3"}],"key":"kthg99Hbdr"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Catch bugs before they reach production","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hOQwynTUzN"}],"key":"xNpBQk7NpP"}],"key":"laLNonkJWP"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"PydanticAI Core Concepts","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"beNbcJKLlU"}],"key":"c0XnvTILgC"}],"key":"jGYk16zYBW"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Pydantic Models","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"U04KhI7oyv"}],"key":"Y0hiOru5Xy"},{"type":"text","value":" - Define validated data structures","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Wm2Q5rj9wP"}],"key":"Hl0mHksXcH"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Agent","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vzHDVv57Cb"}],"key":"InPrznjYlI"},{"type":"text","value":" - Coordinates LLM and tools","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"iu8caHpphz"}],"key":"blPyJqQ4zQ"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"cite","identifier":"agent.tool","label":"agent.tool","kind":"narrative","position":{"start":{"line":12,"column":3},"end":{"line":12,"column":14}},"error":"not found","key":"y5W6gLMJne"}],"key":"pNEO6Q6FLT"},{"type":"text","value":" - Register functions as tools","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"gGKXd1intA"}],"key":"BnF0dO4OvE"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"RunContext[DepsType]","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"EcvfYw5kDu"}],"key":"OFt9BhFDxv"},{"type":"text","value":" - Inject dependencies safely","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"w8pLXx8pas"}],"key":"rqhBmBCPiM"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"result_type","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"fzJwSJb6WC"}],"key":"gB1Va0OSxC"},{"type":"text","value":" - Guarantee output structure","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"FtvebzDgU2"}],"key":"P1MRfKAtIZ"}],"key":"a4W8Urvprc"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Production-Ready Pattern","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"krLlS4F85p"}],"key":"YwazJm6CGf"}],"key":"FcEorNrFld"},{"type":"code","lang":"python","value":"# 1. Define structures\nclass Output(BaseModel): ...\nclass Deps: ...\n\n# 2. Create agent\nagent = Agent(model, deps_type=Deps, result_type=Output)\n\n# 3. Register tools\n@agent.tool\ndef my_tool(ctx: RunContext[Deps], arg: str): ...\n\n# 4. Run\nresult = await agent.run(query, deps=deps)","position":{"start":{"line":17,"column":1},"end":{"line":31,"column":1}},"key":"eFEkxiNtdB"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"strong","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Why This Works","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"BggE3yKZqf"}],"key":"vZcssdXxe9"}],"key":"MiOUqyQQPF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Simple, composable primitives","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"KbwpJddOoM"}],"key":"dJWs66rNzn"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Type safety throughout","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"jA8e8N6jNa"}],"key":"r0OoY5JARX"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Easy to test and maintain","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"tkjduqyhyp"}],"key":"dw31KQiUaB"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Scales to complex systems","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"WNi5GoJp4A"}],"key":"Oibmlt7KPG"}],"key":"MJ5M8p0sh5"}],"key":"SarbD3rwYa"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Quick Reference","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hdGfTdQrhm"}],"identifier":"quick-reference","label":"Quick Reference","html_id":"quick-reference","implicit":true,"key":"pBUnaPqHbN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pydantic Validation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nUfaXj8odX"}],"key":"mN4YpR9l5U"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y0btF1saCf"}],"key":"fDzcUPCBue"},{"type":"code","lang":"python","value":"from pydantic import BaseModel, Field\n\nclass MyModel(BaseModel):\n    name: str = Field(min_length=1)\n    count: int = Field(ge=0, le=100)","position":{"start":{"line":4,"column":1},"end":{"line":10,"column":1}},"key":"XT1befZxXA"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Agent Creation","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"kYtPpl5SJG"}],"key":"T848AxS596"},{"type":"text","value":":","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"yuqFzt1YLB"}],"key":"sEFtbeUwcd"},{"type":"code","lang":"python","value":"from pydantic_ai import Agent\n\nagent = Agent(\n    'anthropic:claude-haiku-4-5',\n    deps_type=MyDeps,\n    result_type=MyOutput,\n    system_prompt=\"...\"\n)","position":{"start":{"line":13,"column":1},"end":{"line":22,"column":1}},"key":"qpVniYxeW1"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"strong","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Tool Registration","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"ACOqm9slrX"}],"key":"dWtNRL04Hm"},{"type":"text","value":":","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"YuxPRaV1ZO"}],"key":"HiUOQfsHPI"},{"type":"code","lang":"python","value":"@agent.tool\ndef my_tool(\n    ctx: RunContext[MyDeps],\n    arg: str\n) -> MyType:\n    \"\"\"Docstring that LLM sees.\"\"\"\n    return ctx.deps.some_method(arg)","position":{"start":{"line":25,"column":1},"end":{"line":33,"column":1}},"key":"IxZ6kS7hKh"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"strong","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Dynamic System Prompt","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Vsg8n8EYJA"}],"key":"xl33vMNdZT"},{"type":"text","value":":","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"mbNWFMvbVk"}],"key":"PtaC95IT1H"},{"type":"code","lang":"python","value":"@agent.system_prompt\ndef get_prompt(ctx: RunContext[MyDeps]) -> str:\n    return f\"Context: {ctx.deps.value}\"","position":{"start":{"line":36,"column":1},"end":{"line":40,"column":1}},"key":"FDKbMUt94C"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"strong","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Running Agent","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"ch2LQvttEI"}],"key":"L9IXIB3Mti"},{"type":"text","value":":","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"cseIISckGB"}],"key":"rfnOOi7UR2"},{"type":"code","lang":"python","value":"# Async\nresult = await agent.run(query, deps=my_deps)\noutput: MyOutput = result.data\n\n# Streaming\nasync with agent.run_stream(query, deps=my_deps) as response:\n    async for chunk in response.stream_text():\n        print(chunk, end='')\n    final = await response.get_data()","position":{"start":{"line":43,"column":1},"end":{"line":53,"column":1}},"key":"xK1xaWjEtt"}],"key":"kcUYynfEgt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next Steps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dGVGCD8nd5"}],"identifier":"next-steps","label":"Next Steps","html_id":"next-steps","implicit":true,"key":"mQUrwzAq7k"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In L.A2.03: Agent Frameworks Comparison","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y1grA4IHpU"}],"key":"p95UAr9PvK"},{"type":"text","value":", we’ll:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hEx2leheeD"}],"key":"vVjTWApLMd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Compare different agent frameworks (PydanticAI, LangChain, CrewAI)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"SImYl7RzbG"}],"key":"niLqKN2VNW"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Understand architectural trade-offs","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QAJ34aDgFe"}],"key":"Q34DPezMmg"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Learn when to use each approach","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yKHtntzplX"}],"key":"B4p8umGtJD"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"See the same task implemented multiple ways","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BARsnYtAvg"}],"key":"cXwYtd9L9H"}],"key":"LNXN3qI8eh"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"In Week A03: Multi-Agent Systems","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"co7un5fp1c"}],"key":"ZGcc2jVfAc"},{"type":"text","value":", we’ll:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ofzDxb5TxV"}],"key":"q1JIyb2wp3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Build agent swarms with collective intelligence","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"n9nLiHQs5x"}],"key":"h81btDnY59"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Apply game theory to AI agent interactions","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"o6yTplg2kg"}],"key":"N1DcgPFdDE"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Create digital twins with agent-based models","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"gq9Pd6FiVj"}],"key":"eZz7phP9IT"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Scale from single agents to agent ecosystems","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vpnbcESQTA"}],"key":"hKV0fvzKEW"}],"key":"dkLxJf90ZZ"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Practice Ideas","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"tcimgrzTyZ"}],"key":"DEqnDhTowZ"},{"type":"text","value":":","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"e7MMYxITwE"}],"key":"HIc4Cc30S0"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Add more tools to the research agent (filter by year, compare citations)","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"xhPJq10nzt"}],"key":"fxtH2Qb3PJ"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Build an agent for a different domain (finance, healthcare, education)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"XSnkOzlfpV"}],"key":"z9thtLAE9O"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Implement streaming responses for better UX","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Z82K2FbrGs"}],"key":"uwl4xBKb6i"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Add error handling and retry logic","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"QqoZZ7ec7A"}],"key":"cJ8KpsAtvK"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Create a simple web UI with FastAPI","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"hVGM6YGeFA"}],"key":"q5J8pROB0t"}],"key":"Kz9KZmkkBf"}],"key":"fNgWr9OIWs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Further Reading","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ctzAX7HbS2"}],"identifier":"further-reading","label":"Further Reading","html_id":"further-reading","implicit":true,"key":"qgFtxjKY42"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"PydanticAI Documentation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ix6yDm2Pf3"}],"key":"pKoC5TmSKA"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BTS6UaFEgN"}],"key":"jSppwCTVnM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Getting Started","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Qq035NyMZ0"}],"urlSource":"https://ai.pydantic.dev/","key":"EfWLCDFNIj"}],"key":"dgUpixhLMY"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/agents/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Agents Guide","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oC7hLgNCJ2"}],"urlSource":"https://ai.pydantic.dev/agents/","key":"uL1FtrFWZr"}],"key":"N82wBBJRrd"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/tools/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Tools Documentation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XbXZadppfV"}],"urlSource":"https://ai.pydantic.dev/tools/","key":"eIgxVHwhfw"}],"key":"LoRlSuzfhE"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/dependencies/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Dependencies","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QwNsP8Chnp"}],"urlSource":"https://ai.pydantic.dev/dependencies/","key":"yCECxO7ZYV"}],"key":"GNlhfwuPJt"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://ai.pydantic.dev/examples/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Examples","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"i7haXltNuV"}],"urlSource":"https://ai.pydantic.dev/examples/","key":"HvQ4XU0BL0"}],"key":"iJHBdDjjqq"}],"key":"Q3exoGNL0B"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Pydantic Core","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Gfp0DXuqSW"}],"key":"YCg9NtqDuK"},{"type":"text","value":":","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MypCq3J101"}],"key":"Y8Zl0IBTKL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://docs.pydantic.dev/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Pydantic V2","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"a9LCIAyNxO"}],"urlSource":"https://docs.pydantic.dev/","key":"M9FsTAeAdi"}],"key":"ZdO2SzBMOq"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"https://docs.pydantic.dev/latest/concepts/fields/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Field Validation","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"K85C9Bqrhc"}],"urlSource":"https://docs.pydantic.dev/latest/concepts/fields/","key":"tCAaTKRUnp"}],"key":"NhOc941dyO"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"link","url":"https://docs.pydantic.dev/latest/concepts/models/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Models","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"CV8zRu9PDu"}],"urlSource":"https://docs.pydantic.dev/latest/concepts/models/","key":"cwNbIVnLwV"}],"key":"M6O66iu8Mc"}],"key":"vxhzpAnMIG"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Python Type System","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"KbViYmkj0Q"}],"key":"eTkYy4d2es"},{"type":"text","value":":","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"SB7g7ChCz5"}],"key":"P3ECFAoEoS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"link","url":"https://docs.python.org/3/library/typing.html","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Type Hints","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"sMefPT5TFw"}],"urlSource":"https://docs.python.org/3/library/typing.html","key":"livKWR3bvW"}],"key":"UaAOCHyCzE"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"link","url":"https://peps.python.org/pep-0544/","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Protocols","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"B156mP5GKa"}],"urlSource":"https://peps.python.org/pep-0544/","key":"FP9g4aSnyZ"}],"key":"sdQGVHVMUG"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"link","url":"https://docs.python.org/3/library/typing.html#generics","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Generics","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"vt92CdcEVR"}],"urlSource":"https://docs.python.org/3/library/typing.html#generics","key":"MIJFZteNnT"}],"key":"y17tz0RCwW"}],"key":"FiwvtPdYBv"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"strong","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Production Topics","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"r91h4pFxgo"}],"key":"Cym2gXFVIV"},{"type":"text","value":" (for later):","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"vg6WPyADqQ"}],"key":"pDnB3VOANN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Testing with pytest","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ni7pu73kaH"}],"key":"JEY8eFy5Uj"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Monitoring with Logfire","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"EI4aYXZlp0"}],"key":"uzJCDQcZuy"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Deployment patterns","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"gnAAIvbdn4"}],"key":"rUQvNhqPMe"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Cost optimization","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"oJXjIcinFb"}],"key":"mEx7rrvObD"}],"key":"YFdkl8IqHT"}],"key":"DCxv6X8xrJ"}],"key":"bbvtZNxEFA"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Function Calling and Tool Use: From Talk to Action","url":"/l-a2-01-function-calling-and-tools","group":"Agents 2"},"next":{"title":"Evaluating AI Systems: Testing Agents at Scale","url":"/l-a02-03-evaluations","group":"Agents 2"}}},"domain":"http://localhost:3000"}